{"hiddenService":"gooseone3ib2vbzr.onion","webDetected":true,"sshDetected":false,"ricochetDetected":false,"ircDetected":false,"ftpDetected":false,"smtpDetected":false,"bitcoinDetected":false,"mongodbDetected":false,"vncDetected":false,"xmppDetected":false,"serverPoweredBy":"","serverVersion":"Apache-Coyote/1.1","foundApacheModStatus":false,"relatedOnionServices":null,"relatedOnionDomains":null,"linkedSites":["www.torproject.org","{{isShop","jgae.de","stackoverflow.com","www.apache.org","www.w3.org","angularjs.org","errors.angularjs.org","crypto-js.googlecode.com","xmarket3gpgw2ftz.onion","www.mozilla.org","xmarket7sw2fba6b.onion","xmarket334dtd4la.onion"],"internalPages":[""],"ipAddresses":null,"openDirectories":null,"exifImages":null,"interestingFiles":null,"pageReferencedDirectories":["data:image/png;base64,R0lGODlhEAAQAJEAAPz8","/xyz123/apk","/help"],"pgpKeys":null,"hashes":["7cc2d36ad1749c1064f73531880ee213543b4d0e"],"snapshot":"\n\n\n\u003chtml x-ng-app=\"xmarket\" class=\"full\"\u003e\u003chead\u003e\n\u003cmeta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\" /\u003e\n\u003cmeta http-equiv=\"cache-control\" content=\"max-age=0\" /\u003e\n\u003cmeta http-equiv=\"cache-control\" content=\"no-cache\" /\u003e\n\u003cmeta http-equiv=\"expires\" content=\"0\" /\u003e\n\u003cmeta http-equiv=\"expires\" content=\"Tue, 01 Jan 1980 1:00:00 GMT\" /\u003e\n\u003cmeta http-equiv=\"pragma\" content=\"no-cache\" /\u003e\n\n\u003ctitle\u003e- Shop\u003c/title\u003e\n\n\u003cmeta name=\"keywords\" content=\"customKeywords_ru\" /\u003e\n\u003cmeta name=\"description\" content=\"customDescription_ru\" /\u003e\n\n\u003cscript id=\"crypting_worker\" type='javascript/worker' \u003e\n\nfunction e(s){\n try{\n  var s1 = encodeURIComponent(s);\n  return s1.split(\"'\").join(\"%27\");\n }catch(er){ //  \n  return escape(s);\n }\n}\nfunction u(s){\ntry{return decodeURIComponent(s);}catch(e){\nreturn unescape(s);}\n}\n\n//\u003cscript\u003e cryptor/js\n\n \n//function p(s){alert(s);}\n\nvar hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */\nvar b64pad  = \"\"; /* base-64 pad character. \"=\" for strict RFC compliance   */\nvar chrsz   = 8;  /* bits per input character. 8 - ASCII; 16 - Unicode      */\n\n\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length\n */\n\nfunction core_md5(x, len){\n  /* append padding */\n  \n   //        p(\"x.length=\"+x.length +\" len=\"+len);\n // p(\"x[0] =\"+x[0]);\n  \n  \n  x[len \u003e\u003e 5] |= 0x80 \u003c\u003c ((len) % 32);\n  \n var k=(((len + 64) \u003e\u003e\u003e 9) \u003c\u003c 4) + 14;\n  \n  //  p(\"k =\"+k);\n  \n  x[k] = len;\n  \n  var a =  1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d =  271733878;\n\n  for(var i = 0; i \u003c x.length; i += 16)\n  {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n \n    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);\n    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);\n    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);\n    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);\n    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);\n    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);\n    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);\n    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);\n    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);\n    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);\n    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);\n    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);\n    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);\n    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);\n    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);\n    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);\n\n    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);\n    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);\n    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);\n    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);\n    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);\n    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);\n    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);\n    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);\n    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);\n    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);\n    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);\n    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);\n    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);\n    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);\n    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);\n    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);\n\n    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);\n    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);\n    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);\n    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);\n    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);\n    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);\n    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);\n    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);\n    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);\n    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);\n    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);\n    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);\n    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);\n    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);\n    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);\n    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);\n\n    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);\n    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);\n    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);\n    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);\n    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);\n    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);\n    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);\n    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);\n    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);\n    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);\n    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);\n    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);\n    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);\n    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);\n    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);\n    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);\n\n    a = safe_add(a, olda);\n    b = safe_add(b, oldb);\n    c = safe_add(c, oldc);\n    d = safe_add(d, oldd);\n  }\n  return Array(a, b, c, d);\n}\n\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\nfunction md5_cmn(q, a, b, x, s, t)\n{\n  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);\n}\nfunction md5_ff(a, b, c, d, x, s, t)\n{\n  return md5_cmn((b \u0026 c) | ((~b) \u0026 d), a, b, x, s, t);\n}\nfunction md5_gg(a, b, c, d, x, s, t)\n{\n  return md5_cmn((b \u0026 d) | (c \u0026 (~d)), a, b, x, s, t);\n}\nfunction md5_hh(a, b, c, d, x, s, t)\n{\n  return md5_cmn(b ^ c ^ d, a, b, x, s, t);\n}\nfunction md5_ii(a, b, c, d, x, s, t)\n{\n  return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n\nfunction safe_add(x, y)\n{\n  var lsw = (x \u0026 0xFFFF) + (y \u0026 0xFFFF);\n  var msw = (x \u003e\u003e 16) + (y \u003e\u003e 16) + (lsw \u003e\u003e 16);\n  return (msw \u003c\u003c 16) | (lsw \u0026 0xFFFF);\n}\n\nfunction bit_rol(num, cnt)\n{\n  return (num \u003c\u003c cnt) | (num \u003e\u003e\u003e (32 - cnt));\n}\n\n\n\nfunction str2binl(str){\n\n\n  var bin = Array();\n  var mask = (1 \u003c\u003c chrsz) - 1;\n // p(\"mask =\"+mask);\n  for(var i = 0; i \u003c str.length * chrsz; i += chrsz){\n    bin[i\u003e\u003e5] |= (str.charCodeAt(i / chrsz) \u0026 mask) \u003c\u003c (i%32);\n  \n // p(\"i =\"+i+\" i\u003e\u003e5 =\"+(i\u003e\u003e5));\n  \n  }\n   //   p(\"bin.length =\"+bin.length);\n//p(\"bin[0] =\"+bin[0]);\n  return bin;\n}\n\n\n\n\n/*\n * Self Decrypting Archive\n * http://jgae.de/sda.htm\n */\n\n\nvar State31, Polynom31, State33, Polynom33,\n    State64H, State64L, Polynom64, Butt;\n\nPolynomials31 = new Array\n(\n 0x40c6e78f,0x44ea7b19,0x45da25ce,0x470c368e,0x4920f4c1,0x4a2fb865,\n 0x4b641875,0x4d474412,0x4c175700,0x4e880047,0x50a5894c,0x51ae3883,\n 0x531df126,0x563e62e8,0x586801c2,0x5bef4706,0x5c14c48a,0x5d06e2a7,\n 0x5f2f8a72,0x623311d9,0x65616f52,0x668043b4,0x672161c9,0x67f0a6a8,\n 0x6814750f,0x6c4920c3,0x6dca541b,0x6e97e1ed,0x70963ac8,0x72de5f24,\n 0x7411688a,0x7502196b,0x76202331,0x7887a9e1,0x790621f4,0x7e79deae,\n 0x7faca450\n);\n\n\nfunction pn()\n{\n  do\n  {\n    MSB = State31 \u0026 0x80000000;\n    State31 \u0026= 0x7fffffff;\n\n    if( State31 \u0026 1 )\n      State31 = ( State31 \u003e\u003e\u003e 1 ) ^ Polynom31;\n    else\n      State31 \u003e\u003e\u003e= 1;\n\n    if( State33 \u0026 0x80000000 ) State31 |= 0x80000000;\n\n    if( MSB )\n      State33 = ( State33 \u003c\u003c 1 ) ^ Polynom33;\n    else\n      State33 \u003c\u003c= 1;\n\n    MSB = ( State64H \u0026 1 );\n    State64H \u003e\u003e\u003e= 1;\n    State64H |= State64L \u0026 0x80000000;\n\n    if( MSB )\n      State64L = ( State64L \u003c\u003c 1 ) ^ Polynom64;\n    else\n      State64L \u003c\u003c= 1;\n  }\n  while( State64L \u0026 Butt );\n\n  return( State31 ^ State33 );\n}\n\n\nfunction compress8to7( str ){\n//p(\" strlen=\"+str.length );\n//p(\"str=\"+str);\nvar ret=\"\";\n\nvar curarr=0;\n  arr = Array();\n  for( i = 0; i \u003c str.length; i += 8 ) {\n  \n    val = str.charCodeAt( i ) \u003c\u003c 1 \u0026 0xfe;\n    \n  //p(\"val=\"+val+\" strlen=\"+str.length );\n    \n    for( j = 0; j \u003c 7 \u0026\u0026 i+j \u003c str.length + 1; j++ ) {\n    \n    var ts=str.charCodeAt( i+j+1 );\n    \n  //    p(\"ts=\"+ts); \n    \n    \n      tmp = ts \u003c\u003c ( j+2 );\n      \n    //     ret+= \" | ts=\"+ts+\" ( i+j+1 )=\"+   ( i+j+1);\n   //   ret+=\"| \"+ts+\",\"+j+\",\"+tmp;\n      \n     //  p(\"tmp=\"+tmp);\n       \n      val |= tmp \u003e\u003e 8;\n      \n      var ti= ( val \u0026 0xff );\n      ret+=\", \"+ti;\n      \n      arr[ curarr++] = ti;\n      \n      //arr.length\n      //       ret+=\" \"+ti+\" ,\";\n       \n      val = tmp \u0026 0xff;\n    }\n  }\n  \n   //    p(\"ret=\"+ret);\n    \n    //p(\" arr[ 0]=\"+ arr[ 0]);\n    \n   //    p(\" arr.length=\"+ arr.length);\n    \n  return arr;\n}\n\n\n//var b64_tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/\";\n\nfunction array_to_form(arr){\n\n\n wbuffer = \"\";\n  lng = arr.length;\n var  str= \"\";\n   for( i = 0; i \u003c lng; i += 3 ){\n     b2 = ( i+1 \u003c lng ) ? arr[ i+1 ] : 0;\n     b3 = ( i+2 \u003c lng ) ? arr[ i+2 ] : 0;\n     triplet = ((arr[i] \u003c\u003c 16) \u0026 0xffffff) \n             | ((   b2  \u003c\u003c  8) \u0026 0xffff)\n             | (    b3         \u0026 0xff);\n     str += b64_tab.charAt((triplet \u003e\u003e 18) \u0026 0x3f);\n     str += b64_tab.charAt((triplet \u003e\u003e 12) \u0026 0x3f);\n     if( b2 ) str += b64_tab.charAt((triplet \u003e\u003e 6) \u0026 0x3f);\n     if( b3 ) str += b64_tab.charAt(triplet \u0026 0x3f);\n       \n   \n     if( i % 48 == 45 ){\n       wbuffer += str;\n       if( i \u003c lng - 3 ) str = \"\";\n     }\n     else{\n       if( i \u003e= lng - 3 ){\n         wbuffer += str;\n       }\n     }\n   }\n  return wbuffer;\n}\n\n\nfunction crypt( ina ){\n var ret=\"\";\n  var ota = Array();\n  \n  //p(\"ina.length=\"+ina.length);\n  //p(\"pn()=\"+pn());\n  \n  for( i = 0; i \u003c ina.length; i++ )  {\n  \n  \n    ota[ i ] = ina[ i ] ^ pn();\n     ret+=\" | \"+ota[ i ]+\" , \"+ina[ i ];\n  }\n  //!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  // p(\"ret=\"+ret);\n  \n  return ota;\n}\n\n\nfunction pnInit( passphr ){\n\nvar t=str2binl( passphr );\n\n//p(\"t.length=\"+t.length);\n\n//p(\"t[0]=\"+t[0]);\n  pnState  = core_md5(t , passphr.length * chrsz );\n    \n  State31  = pnState[ 0 ]; \n  \n    //  p(\"State31 =\"+State31+  \"(State31 \u0026 0x7fffffff) =\"+(State31 \u0026 0x7fffffff));\n\n  //  p(\"State31 =\"+State31);\n  \n   // p(\"(State31 \u0026 0x7fffffff) =\"+(State31 \u0026 0x7fffffff)    );\n   \n   \n    // p(\"!(State31 \u0026 0x7fffffff) =\"+(!(State31 \u0026 0x7fffffff)));\n    \n    \n //    p(\"State31 =\"+State31); \n    if( !(State31 \u0026 0x7fffffff)) State31++;\n \n \n    //p(\"State31 =\"+State31);\n\n  // \n     \n  State33  = pnState[ 1 ]; if( !State33 ) State33++;\n  \n   // p(\"State33 =\"+State33);\n \n  State64H = pnState[ 2 ];\n  \n  \n  \n  \n  State64L = pnState[ 3 ]; if( !State64H \u0026\u0026 !State64L ) State64L++;\n // p(\"State64L =\"+State64L);\n  \n  Polynom  = core_md5( pnState, 0x80 );\n  Polynom31 = Polynomials31[ ( Polynom[ 0 ] \u003e\u003e\u003e 1 ) % Polynomials31.length ];\n  Polynom33 = Polynom[ 1 ] | 1;\n  Polynom64 = Polynom[ 2 ] | 1;\n  Butt  = 1 \u003c\u003c ( Polynom[ 3 ] \u0026 0x1f );\n  Butt |= 1 \u003c\u003c ( ( Polynom[ 3 ] \u003e\u003e 8 ) \u0026 0x1f );\n}\n\nfunction md52(data){return encrypt_data( data, data);}\n\nfunction getRandom(length, radix){\n\tif(!radix){radix = 10;}\n\tvar rnd = \"\";\n\tfor(var i = 0; i \u003c length ; i++ ){\n\t\tvar randomNumber = Math.floor(Math.random()*radix);\t\t\t\n\t    if(radix == 16){\n\t     randomNumber = hexArray22[randomNumber];\n\t    }\t\n\t\trnd += randomNumber;\n\t}\n\treturn rnd;\n}\n\n\n\nfunction getArrayRandom(array, count){\n\tvar rnd = \"\";\n\tfor(var i = 0; i \u003c count ; i++ ){\n\t\tvar randomNumber = Math.floor(Math.random()*64);\t\t\n\t\trnd += array[randomNumber];\n\t}\n\treturn rnd;\n}\n\n\nfunction encryptData(params){\n\treturn encryptData22(params.data, params.password);\t\n}\n\n\nfunction encryptData22(_data, pw){\t\n  data = _data;\n  pnInit( pw );  \n  var c87 = compress8to7(data); \n  var cr = crypt(c87 );\n  var atf = array_to_form(cr);\n  return  atf;\n}\n\n                /* decrypt block */\n\nfunction decryptData(params){ \n\treturn  decryptData22(params.data, params.password);\t\n}\n\nfunction decryptData22(data, pw){ \n    pnInit( pw );  \n    var ta = b64_to_array( data );\n    var cr = crypt(ta); \n    var decoded = expand7to8(cr);\n    return decoded;\n}\n\n\n\n\nfunction expand7to8( array ){\n  // p(\"i+j=\"+(i+j));\n//\nvar ret=\"\";\n//for(var i=0;i\u003carray.length;i++){\n//ret+= \" , \"+array[i];\n//}\n\n//p(\"ret=\"+ret);\n\n//p(\"array.length=\"+array.length);\n\n//try{\n var str = \"\";\n  for( i = 0; i \u003c array.length; i += 7 ) {\n  \n    tmp = array[ i ];\n    out = tmp \u003e\u003e 1;\n    str += String.fromCharCode( out \u0026 0x7f );\n    for( j = 1; j \u003c 8; j++ ){\n    \n      out = ( tmp \u003c\u003c ( 7-j ) ) \u0026 0x7f; \n      \n  //       p(\"i+j=\"+(i+j));\n  \n      \n   \n      tmp = array[ i+j ];\n      \n        \n      \n     // ret+= \" | i+j=\"+(i+j)+\"  tmp =\"+tmp;\n      \n      \n      \n     //      p(\" i+j=\"+(i+j)+\"  tmp =\"+tmp);\n      \n      var s=String.fromCharCode( out |= ( tmp \u0026 0xff ) \u003e\u003e ( j+1 ) );\n      \n      \n      \n      // if((i+j)==112)p(\"( tmp \u0026 0xff )=\"+( tmp \u0026 0xff ));\n       \n      str += s;\n    }\n  }           \n  \n // p(\"ret=\"+ret);\n  \n  //p(\"str=\"+str);\n  \n  str = str.split( \"\\0\" )[ 0 ];\n  \n //  \n   \n // p(\"array.length=\"+array.length);\n \n//  p(\"str.len=\"+str.length);\n  \n  return str;\n//  }catch(e){return e;}\n  \n}\n\n\n\nvar b64_tab = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/\";\n\nfunction b64_decode_tab(){\n var dec=\"\";\n var c;\n  var decode = Array();\n  for( i = 0; i \u003c b64_tab.length; i++ )  {\n   c= b64_tab.charCodeAt( i );\n       decode[ c ] = i;\n       \n       dec+=\"\"+i+\",\"+c+\" | \";\n  }\n  \n  // alert(\"decode.length=\" +decode.length);\n  //alert(\"dec=\" +dec);\n  \n    return decode;\n}\n\nvar decode = b64_decode_tab();\n\nfunction b64_to_array( str ){\n\n  var arr = Array();\n  lng = str.length;\n  \n  //  p(\"lng=\"+lng);\n  \n  for( i = 0; i \u003c str.length; i += 4 ){\n  \n    b1 = str.charCodeAt(i);\n    b2 = ( i+1 \u003c lng ) ? str.charCodeAt( i+1 ) : 0;\n    b3 = ( i+2 \u003c lng ) ? str.charCodeAt( i+2 ) : 0;\n    b4 = ( i+3 \u003c lng ) ? str.charCodeAt( i+3 ) : 0;\n    \n     \n    triplet = ( ( decode[ b1 ] \u003c\u003c 18 ) \u0026 0xffffff )\n            | ( ( decode[ b2 ] \u003c\u003c 12 ) \u0026 0x3ffff )\n            | ( ( decode[ b3 ] \u003c\u003c  6 ) \u0026 0xfff )\n            | ( ( decode[ b4 ]       ) \u0026 0x3f );\n         \n     //  p(\"arr.length=\"+arr.length);    \n           \n    arr[ arr.length ] = ( triplet \u003e\u003e 16 ) \u0026 0xff;\n    \n    \n    if( b3 ) arr[ arr.length ] = ( triplet \u003e\u003e 8 ) \u0026 0xff;\n    if( b4 ) arr[ arr.length ] = triplet \u0026 0xff;\n    \n //   if(i==0)alert(\"str=\"+str+\" arr[ arr.length-1 ]=\"+arr[ arr.length-1 ]+\" decode[ b1 ]=\"+decode[ b1 ]);\n    \n    \n  }\n //      dp(\"arr=\"+arr);\n \n//  alert(\"arr.length=\"+arr.length );\n  return arr;\n}\n\n\n\n\nfunction ee(data, pw, withSalt){\n  return encryptEncode(data, pw, withSalt);\n}\n\nfunction dd(data, pw, withSalt){\n var ret = decryptDecode(data, pw, withSalt);\n return ret;\n}\n\nfunction encryptEncode(data, pw, withSalt){\n  return encryptData22(e(data), pw, withSalt);\n}\n\n\nfunction decryptDecode(data, pw, withSalt){\n  var ret =\tdecryptData22(data, pw, withSalt);\n  //dp(\"decryptDecode: ret1 = \"+ret);\n  ret =\tu(ret);\n  return ret;\n}\n\n\n\nfunction binl2hex(binarray){\n  var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\n  var str = \"\";\n  for(var i = 0; i \u003c binarray.length * 4; i++){\n    str += hex_tab.charAt((binarray[i\u003e\u003e2] \u003e\u003e ((i%4)*8+4)) \u0026 0xF) +\n           hex_tab.charAt((binarray[i\u003e\u003e2] \u003e\u003e ((i%4)*8  )) \u0026 0xF);\n  }\n  return str;\n}\n\n\nfunction md5(s){\n   return\tbinl2hex(core_md5(str2binl(s), s.length * chrsz));\t\n}\n\nfunction md5e(s){ return md5(e(s));}\n\nvar crypterLoaded=true;\n\n\n\n// Copyright (c) 2005  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Basic JavaScript BN library - subset useful for RSA encryption.\n\n// Bits per digit\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary\u00260xffffff)==0xefcafe);\n\n// (public) Constructor\nfunction BigInteger(a,b,c) {\n  if(a != null)\n    if(\"number\" == typeof a) this.fromNumber(a,b,c);\n    else if(b == null \u0026\u0026 \"string\" != typeof a) this.fromString(a,256);\n    else this.fromString(a,b);\n}\n\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\n\n// am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c \u003c 3*dvalue, x \u003c 2*dvalue, this_i \u003c dvalue\n// We need to select the fastest one that works in this environment.\n\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (\u003c 2^53)\nfunction am1(i,x,w,j,c,n) {\n  while(--n \u003e= 0) {\n    var v = x*this[i++]+w[j]+c;\n    c = Math.floor(v/0x4000000);\n    w[j++] = v\u00260x3ffffff;\n  }\n  return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be \u003c= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (\u003c 2^31)\nfunction am2(i,x,w,j,c,n) {\n  var xl = x\u00260x7fff, xh = x\u003e\u003e15;\n  while(--n \u003e= 0) {\n    var l = this[i]\u00260x7fff;\n    var h = this[i++]\u003e\u003e15;\n    var m = xh*l+h*xl;\n    l = xl*l+((m\u00260x7fff)\u003c\u003c15)+w[j]+(c\u00260x3fffffff);\n    c = (l\u003e\u003e\u003e30)+(m\u003e\u003e\u003e15)+xh*h+(c\u003e\u003e\u003e30);\n    w[j++] = l\u00260x3fffffff;\n  }\n  return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i,x,w,j,c,n) {\n  var xl = x\u00260x3fff, xh = x\u003e\u003e14;\n  while(--n \u003e= 0) {\n    var l = this[i]\u00260x3fff;\n    var h = this[i++]\u003e\u003e14;\n    var m = xh*l+h*xl;\n    l = xl*l+((m\u00260x3fff)\u003c\u003c14)+w[j]+c;\n    c = (l\u003e\u003e28)+(m\u003e\u003e14)+xh*h;\n    w[j++] = l\u00260xfffffff;\n  }\n  return c;\n}\nif(j_lm \u0026\u0026 (navigator.appName == \"Microsoft Internet Explorer\")) {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n}\nelse if(j_lm \u0026\u0026 (navigator.appName != \"Netscape\")) {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1\u003c\u003cdbits)-1);\nBigInteger.prototype.DV = (1\u003c\u003cdbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2,BI_FP);\nBigInteger.prototype.F1 = BI_FP-dbits;\nBigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr,vv;\nrr = \"0\".charCodeAt(0);\nfor(vv = 0; vv \u003c= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor(vv = 10; vv \u003c 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor(vv = 10; vv \u003c 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) { return BI_RM.charAt(n); }\nfunction intAt(s,i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return (c==null)?-1:c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n  for(var i = this.t-1; i \u003e= 0; --i) r[i] = this[i];\n  r.t = this.t;\n  r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV \u003c= x \u003c DV\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = (x\u003c0)?-1:0;\n  if(x \u003e 0) this[0] = x;\n  else if(x \u003c -1) this[0] = x+DV;\n  else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s,b) {\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 256) k = 8; // byte array\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else { this.fromRadix(s,b); return; }\n  this.t = 0;\n  this.s = 0;\n  var i = s.length, mi = false, sh = 0;\n  while(--i \u003e= 0) {\n    var x = (k==8)?s[i]\u00260xff:intAt(s,i);\n    if(x \u003c 0) {\n      if(s.charAt(i) == \"-\") mi = true;\n      continue;\n    }\n    mi = false;\n    if(sh == 0)\n      this[this.t++] = x;\n    else if(sh+k \u003e this.DB) {\n      this[this.t-1] |= (x\u0026((1\u003c\u003c(this.DB-sh))-1))\u003c\u003csh;\n      this[this.t++] = (x\u003e\u003e(this.DB-sh));\n    }\n    else\n      this[this.t-1] |= x\u003c\u003csh;\n    sh += k;\n    if(sh \u003e= this.DB) sh -= this.DB;\n  }\n  if(k == 8 \u0026\u0026 (s[0]\u00260x80) != 0) {\n    this.s = -1;\n    if(sh \u003e 0) this[this.t-1] |= ((1\u003c\u003c(this.DB-sh))-1)\u003c\u003csh;\n  }\n  this.clamp();\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n  var c = this.s\u0026this.DM;\n  while(this.t \u003e 0 \u0026\u0026 this[this.t-1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n  if(this.s \u003c 0) return \"-\"+this.negate().toString(b);\n  var k;\n  if(b == 16) k = 4;\n  else if(b == 8) k = 3;\n  else if(b == 2) k = 1;\n  else if(b == 32) k = 5;\n  else if(b == 4) k = 2;\n  else return this.toRadix(b);\n  var km = (1\u003c\u003ck)-1, d, m = false, r = \"\", i = this.t;\n  var p = this.DB-(i*this.DB)%k;\n  if(i-- \u003e 0) {\n    if(p \u003c this.DB \u0026\u0026 (d = this[i]\u003e\u003ep) \u003e 0) { m = true; r = int2char(d); }\n    while(i \u003e= 0) {\n      if(p \u003c k) {\n        d = (this[i]\u0026((1\u003c\u003cp)-1))\u003c\u003c(k-p);\n        d |= this[--i]\u003e\u003e(p+=this.DB-k);\n      }\n      else {\n        d = (this[i]\u003e\u003e(p-=k))\u0026km;\n        if(p \u003c= 0) { p += this.DB; --i; }\n      }\n      if(d \u003e 0) m = true;\n      if(m) r += int2char(d);\n    }\n  }\n  return m?r:\"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s\u003c0)?this.negate():this; }\n\n// (public) return + if this \u003e a, - if this \u003c a, 0 if equal\nfunction bnCompareTo(a) {\n  var r = this.s-a.s;\n  if(r != 0) return r;\n  var i = this.t;\n  r = i-a.t;\n  if(r != 0) return r;\n  while(--i \u003e= 0) if((r=this[i]-a[i]) != 0) return r;\n  return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n  var r = 1, t;\n  if((t=x\u003e\u003e\u003e16) != 0) { x = t; r += 16; }\n  if((t=x\u003e\u003e8) != 0) { x = t; r += 8; }\n  if((t=x\u003e\u003e4) != 0) { x = t; r += 4; }\n  if((t=x\u003e\u003e2) != 0) { x = t; r += 2; }\n  if((t=x\u003e\u003e1) != 0) { x = t; r += 1; }\n  return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n  if(this.t \u003c= 0) return 0;\n  return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s\u0026this.DM));\n}\n\n// (protected) r = this \u003c\u003c n*DB\nfunction bnpDLShiftTo(n,r) {\n  var i;\n  for(i = this.t-1; i \u003e= 0; --i) r[i+n] = this[i];\n  for(i = n-1; i \u003e= 0; --i) r[i] = 0;\n  r.t = this.t+n;\n  r.s = this.s;\n}\n\n// (protected) r = this \u003e\u003e n*DB\nfunction bnpDRShiftTo(n,r) {\n  for(var i = n; i \u003c this.t; ++i) r[i-n] = this[i];\n  r.t = Math.max(this.t-n,0);\n  r.s = this.s;\n}\n\n// (protected) r = this \u003c\u003c n\nfunction bnpLShiftTo(n,r) {\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1\u003c\u003ccbs)-1;\n  var ds = Math.floor(n/this.DB), c = (this.s\u003c\u003cbs)\u0026this.DM, i;\n  for(i = this.t-1; i \u003e= 0; --i) {\n    r[i+ds+1] = (this[i]\u003e\u003ecbs)|c;\n    c = (this[i]\u0026bm)\u003c\u003cbs;\n  }\n  for(i = ds-1; i \u003e= 0; --i) r[i] = 0;\n  r[ds] = c;\n  r.t = this.t+ds+1;\n  r.s = this.s;\n  r.clamp();\n}\n\n// (protected) r = this \u003e\u003e n\nfunction bnpRShiftTo(n,r) {\n  r.s = this.s;\n  var ds = Math.floor(n/this.DB);\n  if(ds \u003e= this.t) { r.t = 0; return; }\n  var bs = n%this.DB;\n  var cbs = this.DB-bs;\n  var bm = (1\u003c\u003cbs)-1;\n  r[0] = this[ds]\u003e\u003ebs;\n  for(var i = ds+1; i \u003c this.t; ++i) {\n    r[i-ds-1] |= (this[i]\u0026bm)\u003c\u003ccbs;\n    r[i-ds] = this[i]\u003e\u003ebs;\n  }\n  if(bs \u003e 0) r[this.t-ds-1] |= (this.s\u0026bm)\u003c\u003ccbs;\n  r.t = this.t-ds;\n  r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i \u003c m) {\n    c += this[i]-a[i];\n    r[i++] = c\u0026this.DM;\n    c \u003e\u003e= this.DB;\n  }\n  if(a.t \u003c this.t) {\n    c -= a.s;\n    while(i \u003c this.t) {\n      c += this[i];\n      r[i++] = c\u0026this.DM;\n      c \u003e\u003e= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i \u003c a.t) {\n      c -= a[i];\n      r[i++] = c\u0026this.DM;\n      c \u003e\u003e= this.DB;\n    }\n    c -= a.s;\n  }\n  r.s = (c\u003c0)?-1:0;\n  if(c \u003c -1) r[i++] = this.DV+c;\n  else if(c \u003e 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a,r) {\n  var x = this.abs(), y = a.abs();\n  var i = x.t;\n  r.t = i+y.t;\n  while(--i \u003e= 0) r[i] = 0;\n  for(i = 0; i \u003c y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n  r.s = 0;\n  r.clamp();\n  if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2*x.t;\n  while(--i \u003e= 0) r[i] = 0;\n  for(i = 0; i \u003c x.t-1; ++i) {\n    var c = x.am(i,x[i],r,2*i,0,1);\n    if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) \u003e= x.DV) {\n      r[i+x.t] -= x.DV;\n      r[i+x.t+1] = 1;\n    }\n  }\n  if(r.t \u003e 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n  r.s = 0;\n  r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m,q,r) {\n  var pm = m.abs();\n  if(pm.t \u003c= 0) return;\n  var pt = this.abs();\n  if(pt.t \u003c pm.t) {\n    if(q != null) q.fromInt(0);\n    if(r != null) this.copyTo(r);\n    return;\n  }\n  if(r == null) r = nbi();\n  var y = nbi(), ts = this.s, ms = m.s;\n  var nsh = this.DB-nbits(pm[pm.t-1]);\t// normalize modulus\n  if(nsh \u003e 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n  else { pm.copyTo(y); pt.copyTo(r); }\n  var ys = y.t;\n  var y0 = y[ys-1];\n  if(y0 == 0) return;\n  var yt = y0*(1\u003c\u003cthis.F1)+((ys\u003e1)?y[ys-2]\u003e\u003ethis.F2:0);\n  var d1 = this.FV/yt, d2 = (1\u003c\u003cthis.F1)/yt, e = 1\u003c\u003cthis.F2;\n  var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n  y.dlShiftTo(j,t);\n  if(r.compareTo(t) \u003e= 0) {\n    r[r.t++] = 1;\n    r.subTo(t,r);\n  }\n  BigInteger.ONE.dlShiftTo(ys,t);\n  t.subTo(y,y);\t// \"negative\" y so we can replace sub with am later\n  while(y.t \u003c ys) y[y.t++] = 0;\n  while(--j \u003e= 0) {\n    // Estimate quotient digit\n    var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n    if((r[i]+=y.am(0,qd,r,j,0,ys)) \u003c qd) {\t// Try it out\n      y.dlShiftTo(j,t);\n      r.subTo(t,r);\n      while(r[i] \u003c --qd) r.subTo(t,r);\n    }\n  }\n  if(q != null) {\n    r.drShiftTo(ys,q);\n    if(ts != ms) BigInteger.ZERO.subTo(q,q);\n  }\n  r.t = ys;\n  r.clamp();\n  if(nsh \u003e 0) r.rShiftTo(nsh,r);\t// Denormalize remainder\n  if(ts \u003c 0) BigInteger.ZERO.subTo(r,r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a,null,r);\n  if(this.s \u003c 0 \u0026\u0026 r.compareTo(BigInteger.ZERO) \u003e 0) a.subTo(r,r);\n  return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) { this.m = m; }\nfunction cConvert(x) {\n  if(x.s \u003c 0 || x.compareTo(this.m) \u003e= 0) return x.mod(this.m);\n  else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m,null,x); }\nfunction cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\nfunction cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n// (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\nfunction bnpInvDigit() {\n  if(this.t \u003c 1) return 0;\n  var x = this[0];\n  if((x\u00261) == 0) return 0;\n  var y = x\u00263;\t\t// y == 1/x mod 2^2\n  y = (y*(2-(x\u00260xf)*y))\u00260xf;\t// y == 1/x mod 2^4\n  y = (y*(2-(x\u00260xff)*y))\u00260xff;\t// y == 1/x mod 2^8\n  y = (y*(2-(((x\u00260xffff)*y)\u00260xffff)))\u00260xffff;\t// y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 \u003c DB \u003c= 32 and assumes ability to handle 48-bit ints\n  y = (y*(2-x*y%this.DV))%this.DV;\t\t// y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV \u003c y \u003c DV\n  return (y\u003e0)?this.DV-y:-y;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp\u00260x7fff;\n  this.mph = this.mp\u003e\u003e15;\n  this.um = (1\u003c\u003c(m.DB-15))-1;\n  this.mt2 = 2*m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t,r);\n  r.divRemTo(this.m,null,r);\n  if(x.s \u003c 0 \u0026\u0026 r.compareTo(BigInteger.ZERO) \u003e 0) this.m.subTo(r,r);\n  return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n  while(x.t \u003c= this.mt2)\t// pad x so am has enough room later\n    x[x.t++] = 0;\n  for(var i = 0; i \u003c this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i]\u00260x7fff;\n    var u0 = (j*this.mpl+(((j*this.mph+(x[i]\u003e\u003e15)*this.mpl)\u0026this.um)\u003c\u003c15))\u0026x.DM;\n    // use am to combine the multiply-shift-add into one call\n    j = i+this.m.t;\n    x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n    // propagate carry\n    while(x[j] \u003e= x.DV) { x[j] -= x.DV; x[++j]++; }\n  }\n  x.clamp();\n  x.drShiftTo(this.m.t,x);\n  if(x.compareTo(this.m) \u003e= 0) x.subTo(this.m,x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t\u003e0)?(this[0]\u00261):this.s) == 0; }\n\n// (protected) this^e, e \u003c 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e,z) {\n  if(e \u003e 0xffffffff || e \u003c 1) return BigInteger.ONE;\n  var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n  g.copyTo(r);\n  while(--i \u003e= 0) {\n    z.sqrTo(r,r2);\n    if((e\u0026(1\u003c\u003ci)) \u003e 0) z.mulTo(r2,g,r);\n    else { var t = r; r = r2; r2 = t; }\n  }\n  return z.revert(r);\n}\n\n// (public) this^e % m, 0 \u003c= e \u003c 2^32\nfunction bnModPowInt(e,m) {\n  var z;\n  if(e \u003c 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n  return this.exp(e,z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n// Copyright (c) 2005-2009  Tom Wu\n// All Rights Reserved.\n// See \"LICENSE\" for details.\n\n// Extended JavaScript BN functions, required for RSA private ops.\n\n// Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n// Version 1.2: square() API, isProbablePrime fix\n\n// (public)\nfunction bnClone() { var r = nbi(); this.copyTo(r); return r; }\n\n// (public) return value as integer\nfunction bnIntValue() {\n  if(this.s \u003c 0) {\n    if(this.t == 1) return this[0]-this.DV;\n    else if(this.t == 0) return -1;\n  }\n  else if(this.t == 1) return this[0];\n  else if(this.t == 0) return 0;\n  // assumes 16 \u003c DB \u003c 32\n  return ((this[1]\u0026((1\u003c\u003c(32-this.DB))-1))\u003c\u003cthis.DB)|this[0];\n}\n\n// (public) return value as byte\nfunction bnByteValue() { return (this.t==0)?this.s:(this[0]\u003c\u003c24)\u003e\u003e24; }\n\n// (public) return value as short (assumes DB\u003e=16)\nfunction bnShortValue() { return (this.t==0)?this.s:(this[0]\u003c\u003c16)\u003e\u003e16; }\n\n// (protected) return x s.t. r^x \u003c DV\nfunction bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\n\n// (public) 0 if this == 0, 1 if this \u003e 0\nfunction bnSigNum() {\n  if(this.s \u003c 0) return -1;\n  else if(this.t \u003c= 0 || (this.t == 1 \u0026\u0026 this[0] \u003c= 0)) return 0;\n  else return 1;\n}\n\n// (protected) convert to radix string\nfunction bnpToRadix(b) {\n  if(b == null) b = 10;\n  if(this.signum() == 0 || b \u003c 2 || b \u003e 36) return \"0\";\n  var cs = this.chunkSize(b);\n  var a = Math.pow(b,cs);\n  var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\n  this.divRemTo(d,y,z);\n  while(y.signum() \u003e 0) {\n    r = (a+z.intValue()).toString(b).substr(1) + r;\n    y.divRemTo(d,y,z);\n  }\n  return z.intValue().toString(b) + r;\n}\n\n// (protected) convert from radix string\nfunction bnpFromRadix(s,b) {\n  this.fromInt(0);\n  if(b == null) b = 10;\n  var cs = this.chunkSize(b);\n  var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\n  for(var i = 0; i \u003c s.length; ++i) {\n    var x = intAt(s,i);\n    if(x \u003c 0) {\n      if(s.charAt(i) == \"-\" \u0026\u0026 this.signum() == 0) mi = true;\n      continue;\n    }\n    w = b*w+x;\n    if(++j \u003e= cs) {\n      this.dMultiply(d);\n      this.dAddOffset(w,0);\n      j = 0;\n      w = 0;\n    }\n  }\n  if(j \u003e 0) {\n    this.dMultiply(Math.pow(b,j));\n    this.dAddOffset(w,0);\n  }\n  if(mi) BigInteger.ZERO.subTo(this,this);\n}\n\n// (protected) alternate constructor\nfunction bnpFromNumber(a,b,c) {\n  if(\"number\" == typeof b) {\n    // new BigInteger(int,int,RNG)\n    if(a \u003c 2) this.fromInt(1);\n    else {\n      this.fromNumber(a,c);\n      if(!this.testBit(a-1))\t// force MSB set\n        this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n      if(this.isEven()) this.dAddOffset(1,0); // force odd\n      while(!this.isProbablePrime(b)) {\n        this.dAddOffset(2,0);\n        if(this.bitLength() \u003e a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\n      }\n    }\n  }\n  else {\n    // new BigInteger(int,RNG)\n    var x = new Array(), t = a\u00267;\n    x.length = (a\u003e\u003e3)+1;\n    b.nextBytes(x);\n    if(t \u003e 0) x[0] \u0026= ((1\u003c\u003ct)-1); else x[0] = 0;\n    this.fromString(x,256);\n  }\n}\n\n// (public) convert to bigendian byte array\nfunction bnToByteArray() {\n  var i = this.t, r = new Array();\n  r[0] = this.s;\n  var p = this.DB-(i*this.DB)%8, d, k = 0;\n  if(i-- \u003e 0) {\n    if(p \u003c this.DB \u0026\u0026 (d = this[i]\u003e\u003ep) != (this.s\u0026this.DM)\u003e\u003ep)\n      r[k++] = d|(this.s\u003c\u003c(this.DB-p));\n    while(i \u003e= 0) {\n      if(p \u003c 8) {\n        d = (this[i]\u0026((1\u003c\u003cp)-1))\u003c\u003c(8-p);\n        d |= this[--i]\u003e\u003e(p+=this.DB-8);\n      }\n      else {\n        d = (this[i]\u003e\u003e(p-=8))\u00260xff;\n        if(p \u003c= 0) { p += this.DB; --i; }\n      }\n      if((d\u00260x80) != 0) d |= -256;\n      if(k == 0 \u0026\u0026 (this.s\u00260x80) != (d\u00260x80)) ++k;\n      if(k \u003e 0 || d != this.s) r[k++] = d;\n    }\n  }\n  return r;\n}\n\nfunction bnEquals(a) { return(this.compareTo(a)==0); }\nfunction bnMin(a) { return(this.compareTo(a)\u003c0)?this:a; }\nfunction bnMax(a) { return(this.compareTo(a)\u003e0)?this:a; }\n\n// (protected) r = this op a (bitwise)\nfunction bnpBitwiseTo(a,op,r) {\n  var i, f, m = Math.min(a.t,this.t);\n  for(i = 0; i \u003c m; ++i) r[i] = op(this[i],a[i]);\n  if(a.t \u003c this.t) {\n    f = a.s\u0026this.DM;\n    for(i = m; i \u003c this.t; ++i) r[i] = op(this[i],f);\n    r.t = this.t;\n  }\n  else {\n    f = this.s\u0026this.DM;\n    for(i = m; i \u003c a.t; ++i) r[i] = op(f,a[i]);\n    r.t = a.t;\n  }\n  r.s = op(this.s,a.s);\n  r.clamp();\n}\n\n// (public) this \u0026 a\nfunction op_and(x,y) { return x\u0026y; }\nfunction bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\n\n// (public) this | a\nfunction op_or(x,y) { return x|y; }\nfunction bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\n\n// (public) this ^ a\nfunction op_xor(x,y) { return x^y; }\nfunction bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\n\n// (public) this \u0026 ~a\nfunction op_andnot(x,y) { return x\u0026~y; }\nfunction bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\n\n// (public) ~this\nfunction bnNot() {\n  var r = nbi();\n  for(var i = 0; i \u003c this.t; ++i) r[i] = this.DM\u0026~this[i];\n  r.t = this.t;\n  r.s = ~this.s;\n  return r;\n}\n\n// (public) this \u003c\u003c n\nfunction bnShiftLeft(n) {\n  var r = nbi();\n  if(n \u003c 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\n  return r;\n}\n\n// (public) this \u003e\u003e n\nfunction bnShiftRight(n) {\n  var r = nbi();\n  if(n \u003c 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\n  return r;\n}\n\n// return index of lowest 1-bit in x, x \u003c 2^31\nfunction lbit(x) {\n  if(x == 0) return -1;\n  var r = 0;\n  if((x\u00260xffff) == 0) { x \u003e\u003e= 16; r += 16; }\n  if((x\u00260xff) == 0) { x \u003e\u003e= 8; r += 8; }\n  if((x\u00260xf) == 0) { x \u003e\u003e= 4; r += 4; }\n  if((x\u00263) == 0) { x \u003e\u003e= 2; r += 2; }\n  if((x\u00261) == 0) ++r;\n  return r;\n}\n\n// (public) returns index of lowest 1-bit (or -1 if none)\nfunction bnGetLowestSetBit() {\n  for(var i = 0; i \u003c this.t; ++i)\n    if(this[i] != 0) return i*this.DB+lbit(this[i]);\n  if(this.s \u003c 0) return this.t*this.DB;\n  return -1;\n}\n\n// return number of 1 bits in x\nfunction cbit(x) {\n  var r = 0;\n  while(x != 0) { x \u0026= x-1; ++r; }\n  return r;\n}\n\n// (public) return number of set bits\nfunction bnBitCount() {\n  var r = 0, x = this.s\u0026this.DM;\n  for(var i = 0; i \u003c this.t; ++i) r += cbit(this[i]^x);\n  return r;\n}\n\n// (public) true iff nth bit is set\nfunction bnTestBit(n) {\n  var j = Math.floor(n/this.DB);\n  if(j \u003e= this.t) return(this.s!=0);\n  return((this[j]\u0026(1\u003c\u003c(n%this.DB)))!=0);\n}\n\n// (protected) this op (1\u003c\u003cn)\nfunction bnpChangeBit(n,op) {\n  var r = BigInteger.ONE.shiftLeft(n);\n  this.bitwiseTo(r,op,r);\n  return r;\n}\n\n// (public) this | (1\u003c\u003cn)\nfunction bnSetBit(n) { return this.changeBit(n,op_or); }\n\n// (public) this \u0026 ~(1\u003c\u003cn)\nfunction bnClearBit(n) { return this.changeBit(n,op_andnot); }\n\n// (public) this ^ (1\u003c\u003cn)\nfunction bnFlipBit(n) { return this.changeBit(n,op_xor); }\n\n// (protected) r = this + a\nfunction bnpAddTo(a,r) {\n  var i = 0, c = 0, m = Math.min(a.t,this.t);\n  while(i \u003c m) {\n    c += this[i]+a[i];\n    r[i++] = c\u0026this.DM;\n    c \u003e\u003e= this.DB;\n  }\n  if(a.t \u003c this.t) {\n    c += a.s;\n    while(i \u003c this.t) {\n      c += this[i];\n      r[i++] = c\u0026this.DM;\n      c \u003e\u003e= this.DB;\n    }\n    c += this.s;\n  }\n  else {\n    c += this.s;\n    while(i \u003c a.t) {\n      c += a[i];\n      r[i++] = c\u0026this.DM;\n      c \u003e\u003e= this.DB;\n    }\n    c += a.s;\n  }\n  r.s = (c\u003c0)?-1:0;\n  if(c \u003e 0) r[i++] = c;\n  else if(c \u003c -1) r[i++] = this.DV+c;\n  r.t = i;\n  r.clamp();\n}\n\n// (public) this + a\nfunction bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\n\n// (public) this - a\nfunction bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\n\n// (public) this * a\nfunction bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\n\n// (public) this^2\nfunction bnSquare() { var r = nbi(); this.squareTo(r); return r; }\n\n// (public) this / a\nfunction bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\n\n// (public) this % a\nfunction bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\n\n// (public) [this/a,this%a]\nfunction bnDivideAndRemainder(a) {\n  var q = nbi(), r = nbi();\n  this.divRemTo(a,q,r);\n  return new Array(q,r);\n}\n\n// (protected) this *= n, this \u003e= 0, 1 \u003c n \u003c DV\nfunction bnpDMultiply(n) {\n  this[this.t] = this.am(0,n-1,this,0,0,this.t);\n  ++this.t;\n  this.clamp();\n}\n\n// (protected) this += n \u003c\u003c w words, this \u003e= 0\nfunction bnpDAddOffset(n,w) {\n  if(n == 0) return;\n  while(this.t \u003c= w) this[this.t++] = 0;\n  this[w] += n;\n  while(this[w] \u003e= this.DV) {\n    this[w] -= this.DV;\n    if(++w \u003e= this.t) this[this.t++] = 0;\n    ++this[w];\n  }\n}\n\n// A \"null\" reducer\nfunction NullExp() {}\nfunction nNop(x) { return x; }\nfunction nMulTo(x,y,r) { x.multiplyTo(y,r); }\nfunction nSqrTo(x,r) { x.squareTo(r); }\n\nNullExp.prototype.convert = nNop;\nNullExp.prototype.revert = nNop;\nNullExp.prototype.mulTo = nMulTo;\nNullExp.prototype.sqrTo = nSqrTo;\n\n// (public) this^e\nfunction bnPow(e) { return this.exp(e,new NullExp()); }\n\n// (protected) r = lower n words of \"this * a\", a.t \u003c= n\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyLowerTo(a,n,r) {\n  var i = Math.min(this.t+a.t,n);\n  r.s = 0; // assumes a,this \u003e= 0\n  r.t = i;\n  while(i \u003e 0) r[--i] = 0;\n  var j;\n  for(j = r.t-this.t; i \u003c j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\n  for(j = Math.min(a.t,n); i \u003c j; ++i) this.am(0,a[i],r,i,0,n-i);\n  r.clamp();\n}\n\n// (protected) r = \"this * a\" without lower n words, n \u003e 0\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyUpperTo(a,n,r) {\n  --n;\n  var i = r.t = this.t+a.t-n;\n  r.s = 0; // assumes a,this \u003e= 0\n  while(--i \u003e= 0) r[i] = 0;\n  for(i = Math.max(n-this.t,0); i \u003c a.t; ++i)\n    r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\n  r.clamp();\n  r.drShiftTo(1,r);\n}\n\n// Barrett modular reduction\nfunction Barrett(m) {\n  // setup Barrett\n  this.r2 = nbi();\n  this.q3 = nbi();\n  BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\n  this.mu = this.r2.divide(m);\n  this.m = m;\n}\n\nfunction barrettConvert(x) {\n  if(x.s \u003c 0 || x.t \u003e 2*this.m.t) return x.mod(this.m);\n  else if(x.compareTo(this.m) \u003c 0) return x;\n  else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\n}\n\nfunction barrettRevert(x) { return x; }\n\n// x = x mod m (HAC 14.42)\nfunction barrettReduce(x) {\n  x.drShiftTo(this.m.t-1,this.r2);\n  if(x.t \u003e this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\n  this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\n  this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\n  while(x.compareTo(this.r2) \u003c 0) x.dAddOffset(1,this.m.t+1);\n  x.subTo(this.r2,x);\n  while(x.compareTo(this.m) \u003e= 0) x.subTo(this.m,x);\n}\n\n// r = x^2 mod m; x != r\nfunction barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n// r = x*y mod m; x,y != r\nfunction barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\nBarrett.prototype.convert = barrettConvert;\nBarrett.prototype.revert = barrettRevert;\nBarrett.prototype.reduce = barrettReduce;\nBarrett.prototype.mulTo = barrettMulTo;\nBarrett.prototype.sqrTo = barrettSqrTo;\n\n// (public) this^e % m (HAC 14.85)\nfunction bnModPow(e,m) {\n  //if(!e) {e = {bitLength: function(){return 0;}};}\t\n  var i = e.bitLength(), k, r = nbv(1), z;\n  if(i \u003c= 0) return r;\n  else if(i \u003c 18) k = 1;\n  else if(i \u003c 48) k = 3;\n  else if(i \u003c 144) k = 4;\n  else if(i \u003c 768) k = 5;\n  else k = 6;\n  if(i \u003c 8)\n    z = new Classic(m);\n  else if(m.isEven())\n    z = new Barrett(m);\n  else\n    z = new Montgomery(m);\n\n  // precomputation\n  var g = new Array(), n = 3, k1 = k-1, km = (1\u003c\u003ck)-1;\n  g[1] = z.convert(this);\n  if(k \u003e 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1],g2);\n    while(n \u003c= km) {\n      g[n] = nbi();\n      z.mulTo(g2,g[n-2],g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t-1, w, is1 = true, r2 = nbi(), t;\n  i = nbits(e[j])-1;\n  while(j \u003e= 0) {\n    if(i \u003e= k1) w = (e[j]\u003e\u003e(i-k1))\u0026km;\n    else {\n      w = (e[j]\u0026((1\u003c\u003c(i+1))-1))\u003c\u003c(k1-i);\n      if(j \u003e 0) w |= e[j-1]\u003e\u003e(this.DB+i-k1);\n    }\n\n    n = k;\n    while((w\u00261) == 0) { w \u003e\u003e= 1; --n; }\n    if((i -= n) \u003c 0) { i += this.DB; --j; }\n    if(is1) {\t// ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    }\n    else {\n      while(n \u003e 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\n      if(n \u003e 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\n      z.mulTo(r2,g[w],r);\n    }\n\n    while(j \u003e= 0 \u0026\u0026 (e[j]\u0026(1\u003c\u003ci)) == 0) {\n      z.sqrTo(r,r2); t = r; r = r2; r2 = t;\n      if(--i \u003c 0) { i = this.DB-1; --j; }\n    }\n  }\n  return z.revert(r);\n}\n\n// (public) gcd(this,a) (HAC 14.54)\nfunction bnGCD(a) {\n  var x = (this.s\u003c0)?this.negate():this.clone();\n  var y = (a.s\u003c0)?a.negate():a.clone();\n  if(x.compareTo(y) \u003c 0) { var t = x; x = y; y = t; }\n  var i = x.getLowestSetBit(), g = y.getLowestSetBit();\n  if(g \u003c 0) return x;\n  if(i \u003c g) g = i;\n  if(g \u003e 0) {\n    x.rShiftTo(g,x);\n    y.rShiftTo(g,y);\n  }\n  while(x.signum() \u003e 0) {\n    if((i = x.getLowestSetBit()) \u003e 0) x.rShiftTo(i,x);\n    if((i = y.getLowestSetBit()) \u003e 0) y.rShiftTo(i,y);\n    if(x.compareTo(y) \u003e= 0) {\n      x.subTo(y,x);\n      x.rShiftTo(1,x);\n    }\n    else {\n      y.subTo(x,y);\n      y.rShiftTo(1,y);\n    }\n  }\n  if(g \u003e 0) y.lShiftTo(g,y);\n  return y;\n}\n\n// (protected) this % n, n \u003c 2^26\nfunction bnpModInt(n) {\n  if(n \u003c= 0) return 0;\n  var d = this.DV%n, r = (this.s\u003c0)?n-1:0;\n  if(this.t \u003e 0)\n    if(d == 0) r = this[0]%n;\n    else for(var i = this.t-1; i \u003e= 0; --i) r = (d*r+this[i])%n;\n  return r;\n}\n\n// (public) 1/this % m (HAC 14.61)\nfunction bnModInverse(m) {\n  var ac = m.isEven();\n  if((this.isEven() \u0026\u0026 ac) || m.signum() == 0) return BigInteger.ZERO;\n  var u = m.clone(), v = this.clone();\n  var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\n  while(u.signum() != 0) {\n    while(u.isEven()) {\n      u.rShiftTo(1,u);\n      if(ac) {\n        if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\n        a.rShiftTo(1,a);\n      }\n      else if(!b.isEven()) b.subTo(m,b);\n      b.rShiftTo(1,b);\n    }\n    while(v.isEven()) {\n      v.rShiftTo(1,v);\n      if(ac) {\n        if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\n        c.rShiftTo(1,c);\n      }\n      else if(!d.isEven()) d.subTo(m,d);\n      d.rShiftTo(1,d);\n    }\n    if(u.compareTo(v) \u003e= 0) {\n      u.subTo(v,u);\n      if(ac) a.subTo(c,a);\n      b.subTo(d,b);\n    }\n    else {\n      v.subTo(u,v);\n      if(ac) c.subTo(a,c);\n      d.subTo(b,d);\n    }\n  }\n  if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n  if(d.compareTo(m) \u003e= 0) return d.subtract(m);\n  if(d.signum() \u003c 0) d.addTo(m,d); else return d;\n  if(d.signum() \u003c 0) return d.add(m); else return d;\n}\n\nvar lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\nvar lplim = (1\u003c\u003c26)/lowprimes[lowprimes.length-1];\n\n// (public) test primality with certainty \u003e= 1-.5^t\nfunction bnIsProbablePrime(t) {\n  var i, x = this.abs();\n  if(x.t == 1 \u0026\u0026 x[0] \u003c= lowprimes[lowprimes.length-1]) {\n    for(i = 0; i \u003c lowprimes.length; ++i)\n      if(x[0] == lowprimes[i]) return true;\n    return false;\n  }\n  if(x.isEven()) return false;\n  i = 1;\n  while(i \u003c lowprimes.length) {\n    var m = lowprimes[i], j = i+1;\n    while(j \u003c lowprimes.length \u0026\u0026 m \u003c lplim) m *= lowprimes[j++];\n    m = x.modInt(m);\n    while(i \u003c j) if(m%lowprimes[i++] == 0) return false;\n  }\n  return x.millerRabin(t);\n}\n\n// (protected) true if probably prime (HAC 4.24, Miller-Rabin)\nfunction bnpMillerRabin(t) {\n  var n1 = this.subtract(BigInteger.ONE);\n  var k = n1.getLowestSetBit();\n  if(k \u003c= 0) return false;\n  var r = n1.shiftRight(k);\n  t = (t+1)\u003e\u003e1;\n  if(t \u003e lowprimes.length) t = lowprimes.length;\n  var a = nbi();\n  for(var i = 0; i \u003c t; ++i) {\n    //Pick bases at random, instead of starting at 2\n    a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\n    var y = a.modPow(r,this);\n    if(y.compareTo(BigInteger.ONE) != 0 \u0026\u0026 y.compareTo(n1) != 0) {\n      var j = 1;\n      while(j++ \u003c k \u0026\u0026 y.compareTo(n1) != 0) {\n        y = y.modPowInt(2,this);\n        if(y.compareTo(BigInteger.ONE) == 0) return false;\n      }\n      if(y.compareTo(n1) != 0) return false;\n    }\n  }\n  return true;\n}\n\n// protected\nBigInteger.prototype.chunkSize = bnpChunkSize;\nBigInteger.prototype.toRadix = bnpToRadix;\nBigInteger.prototype.fromRadix = bnpFromRadix;\nBigInteger.prototype.fromNumber = bnpFromNumber;\nBigInteger.prototype.bitwiseTo = bnpBitwiseTo;\nBigInteger.prototype.changeBit = bnpChangeBit;\nBigInteger.prototype.addTo = bnpAddTo;\nBigInteger.prototype.dMultiply = bnpDMultiply;\nBigInteger.prototype.dAddOffset = bnpDAddOffset;\nBigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\nBigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\nBigInteger.prototype.modInt = bnpModInt;\nBigInteger.prototype.millerRabin = bnpMillerRabin;\n\n// public\nBigInteger.prototype.clone = bnClone;\nBigInteger.prototype.intValue = bnIntValue;\nBigInteger.prototype.byteValue = bnByteValue;\nBigInteger.prototype.shortValue = bnShortValue;\nBigInteger.prototype.signum = bnSigNum;\nBigInteger.prototype.toByteArray = bnToByteArray;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.min = bnMin;\nBigInteger.prototype.max = bnMax;\nBigInteger.prototype.and = bnAnd;\nBigInteger.prototype.or = bnOr;\nBigInteger.prototype.xor = bnXor;\nBigInteger.prototype.andNot = bnAndNot;\nBigInteger.prototype.not = bnNot;\nBigInteger.prototype.shiftLeft = bnShiftLeft;\nBigInteger.prototype.shiftRight = bnShiftRight;\nBigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\nBigInteger.prototype.bitCount = bnBitCount;\nBigInteger.prototype.testBit = bnTestBit;\nBigInteger.prototype.setBit = bnSetBit;\nBigInteger.prototype.clearBit = bnClearBit;\nBigInteger.prototype.flipBit = bnFlipBit;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.remainder = bnRemainder;\nBigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\nBigInteger.prototype.modPow = bnModPow;\nBigInteger.prototype.modInverse = bnModInverse;\nBigInteger.prototype.pow = bnPow;\nBigInteger.prototype.gcd = bnGCD;\nBigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n\n// JSBN-specific extension\nBigInteger.prototype.square = bnSquare;\n\n// BigInteger interfaces not implemented in jsbn:\n\n// BigInteger(int signum, byte[] magnitude)\n// double doubleValue()\n// float floatValue()\n// int hashCode()\n// long longValue()\n// static BigInteger valueOf(long val)\n\n// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n  this.i = 0;\n  this.j = 0;\n  this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n  var i, j, t;\n  for(i = 0; i \u003c 256; ++i)\n    this.S[i] = i;\n  j = 0;\n  for(i = 0; i \u003c 256; ++i) {\n    j = (j + this.S[i] + key[i % key.length]) \u0026 255;\n    t = this.S[i];\n    this.S[i] = this.S[j];\n    this.S[j] = t;\n  }\n  this.i = 0;\n  this.j = 0;\n}\n\nfunction ARC4next() {\n  var t;\n  this.i = (this.i + 1) \u0026 255;\n  this.j = (this.j + this.S[this.i]) \u0026 255;\n  t = this.S[this.i];\n  this.S[this.i] = this.S[this.j];\n  this.S[this.j] = t;\n  return this.S[(t + this.S[this.i]) \u0026 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n  return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\n// Random number generator - requires a PRNG backend, e.g. prng4.js\n\n// For best results, put code like\n// \u003cbody onClick='rng_seed_time();' onKeyPress='rng_seed_time();'\u003e\n// in your main HTML document.\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n  rng_pool[rng_pptr++] ^= x \u0026 255;\n  rng_pool[rng_pptr++] ^= (x \u003e\u003e 8) \u0026 255;\n  rng_pool[rng_pptr++] ^= (x \u003e\u003e 16) \u0026 255;\n  rng_pool[rng_pptr++] ^= (x \u003e\u003e 24) \u0026 255;\n  if(rng_pptr \u003e= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n  rng_seed_int(new Date().getTime());\n}\n\n// Initialize the pool with junk if needed.\nif(rng_pool == null) {\n  rng_pool = new Array();\n  rng_pptr = 0;\n  var t;\n  if(navigator.appName == \"Netscape\" \u0026\u0026 navigator.appVersion \u003c \"5\" \u0026\u0026 window.crypto) {\n    // Extract entropy (256 bits) from NS4 RNG if available\n    var z = window.crypto.random(32);\n    for(t = 0; t \u003c z.length; ++t)\n      rng_pool[rng_pptr++] = z.charCodeAt(t) \u0026 255;\n  }  \n  while(rng_pptr \u003c rng_psize) {  // extract some randomness from Math.random()\n    t = Math.floor(65536 * Math.random());\n    rng_pool[rng_pptr++] = t \u003e\u003e\u003e 8;\n    rng_pool[rng_pptr++] = t \u0026 255;\n  }\n  rng_pptr = 0;\n  rng_seed_time();\n  //rng_seed_int(window.screenX);\n  //rng_seed_int(window.screenY);\n}\n\nfunction rng_get_byte() {\n  if(rng_state == null) {\n    rng_seed_time();\n    rng_state = prng_newstate();\n    rng_state.init(rng_pool);\n    for(rng_pptr = 0; rng_pptr \u003c rng_pool.length; ++rng_pptr)\n      rng_pool[rng_pptr] = 0;\n    rng_pptr = 0;\n    //rng_pool = null;\n  }\n  // T ODO: allow reseeding after first request\n  return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n  var i;\n  for(i = 0; i \u003c ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() {}\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n\n\n/*function e(s){\n try{\n  var s1 = encodeURIComponent(s);\n  s1=s1.split(\"'\").join(\"%27\");\n  return s1;\n }catch(er){ //  \n  p(\"in EncodeURIComponent: \"+er.toString());\n  return null;\n }\n}\n\nfunction u(s){\n\t//if(typeof(s)==\"object\"){return uo(s);}\n\tvar ret=s;\n\ttry{return decodeURIComponent(s);}catch(e){\n\treturn unescape(s);}\n}\n\nfunction p(s){  //print \ntry{console.log(s);}catch(ignoredIfFireBugNotVisible){}\n}*/\n\nfunction RSAKeys() {\n\t  this.n = null;\n\t  this.e = 0;\n\t  this.d = null;\n\t  this.p = null;\n\t  this.q = null;\n\t  this.dmp1 = null;\n\t  this.dmq1 = null;\n\t  this.coeff = null;\n}\n\nfunction RSAGenerate(B,E) {\n\t  var rng = new SecureRandom();\n\t  var qs = B\u003e\u003e1;\n\t  this.e = parseInt(E,16);\n\t  var ee = new BigInteger(E,16);\n\t  for(;;) {\n\t    for(;;) {\n\t      this.p = new BigInteger(B-qs,1,rng);\n\t      if(this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 \u0026\u0026 this.p.isProbablePrime(10)) break;\n\t    }\n\t    for(;;) {\n\t      this.q = new BigInteger(qs,1,rng);\n\t      if(this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 \u0026\u0026 this.q.isProbablePrime(10)) break;\n\t    }\n\t    if(this.p.compareTo(this.q) \u003c= 0) {\n\t      var t = this.p;\n\t      this.p = this.q;\n\t      this.q = t;\n\t    }\n\t    var p1 = this.p.subtract(BigInteger.ONE);\n\t    var q1 = this.q.subtract(BigInteger.ONE);\n\t    var phi = p1.multiply(q1);\n\t    if(phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n\t      this.n = this.p.multiply(this.q);\n\t      this.d = ee.modInverse(phi);\n\t      this.dmp1 = this.d.mod(p1);\n\t      this.dmq1 = this.d.mod(q1);\n\t      this.coeff = this.q.modInverse(this.p);\n\t      break;\n\t    }\n\t  }\n}\n//Set the private key fields N, e, d and CRT params from hex strings\nfunction RSASetPrivateEx(N,E,D,P,Q,DP,DQ,C) {\n  if(N != null \u0026\u0026 E != null \u0026\u0026 N.length \u003e 0 \u0026\u0026 E.length \u003e 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n    this.d = parseBigInt(D,16);\n    this.p = parseBigInt(P,16);\n    this.q = parseBigInt(Q,16);\n    this.dmp1 = parseBigInt(DP,16);\n    this.dmq1 = parseBigInt(DQ,16);\n    this.coeff = parseBigInt(C,16);\n  }\n  else\n    alert(\"Invalid RSA private key\");\n}\n//Set the private key fields N, e, and d from hex strings\nfunction RSASetPrivate(N,E,\tD) {\n\t  if(N != null \u0026\u0026 E != null  \u0026\u0026 N.length \u003e 0 \u0026\u0026 E.length \u003e 0\n\t\t\t  ) {\n\t    this.n = parseBigInt(N,16);\n\t    this.e = parseInt(E,16);\n\t    this.d = parseBigInt(D,16);\n\t  }\n\t  else\n\t    alert(\"Invalid RSA private key\");\n}\n\n//Set the public key fields N and e from hex strings\nfunction RSASetPublic(N,E) {\n  if(N != null \u0026\u0026 E != null \u0026\u0026 N.length \u003e 0 \u0026\u0026 E.length \u003e 0) {\n    this.n = parseBigInt(N,16);\n    this.e = parseInt(E,16);\n  }\n  else\n    alert(\"Invalid RSA public key\");\n}\n\nfunction parseBigInt(str,r) {\n\t  return new BigInteger(str,r);\n}\nRSAKeys.prototype.setPrivateEx = RSASetPrivateEx;\nRSAKeys.prototype.setPrivate = RSASetPrivate;\nRSAKeys.prototype.setPublic = RSASetPublic;\nRSAKeys.prototype.generate = RSAGenerate;\n\n\nfunction testString(){\n\tvar encoded = stringToBigInteger(\"aga Ð¿ÑÐ¸Ð²ÐµÑÐ¸Ðº\");\n\t\t\n\t\n\tp(\"testString: encoded=\"+encoded.toString(16));\n\t\n\tp(\"testString: decoded=\"+bigIntegerToString(encoded));\n}\n\n\n\n\n\nfunction bigIntegerToText(bi){\n\tvar hexString = bi.toString(16);\n\t//p(\"bigIntegerToString: hexString=\"+hexString);\n\tvar decimalArray = hexString2DecimalArray(hexString);\n\tvar ret = decimalArray2String(decimalArray);\t\n\treturn u(ret);\t\n}\n\nfunction decimalArray2String(decimalArray){\n\t  var ret = \"\";\n\t  for(var i = 0; i \u003c decimalArray.length; i++){        \n\t\t  if(decimalArray[i] == 0){continue;}\n\t\t  ret += String.fromCharCode(decimalArray[i]);\n\t  }\n\t  return  ret;        \t   \n }\n\nfunction hexString2DecimalArray(hexString){\n\t  // p(\"hexString2DecimalArray: hexString=\"+hexString);\n\t   if(!hexString){hexString = \"\";}\n\t   hexString = hexString.split(\" \").join(\"\");\n\t   hexString = hexString.split(\"\\n\").join(\"\");\n\t  // hexString = hexString.split(\"\\n\").join(\"\");\n\t   //p(\"hexString2DecimalArray: hexString space=\"+hexString.indexOf(\" \"));\n\t   if(hexString.length % 2 != 0){\n\t\t  throw (\"hexString % 2 != 0, hexString=\"+hexString);                  \n\t   }\n\t   hexString = hexString.toLowerCase();\n\t   //if(hexString == \"\"){}\n\t   var hex = {'0':0,'1': 1,'2':2,'3':3,'4':4,'5':5,'6':6,\n\t\t\t   '7':7,'8':8,'9':9,'a':10,\n\t\t\t      'b':11,'c':12,'d':13,'e':14,'f':15};\n\t   var decimalArray = [];\n\t   for(var i = 0; i \u003c hexString.length; i += 2){\n\t\t   var firstHex = hexString.charAt(i);\n\t\t   var lastHex = hexString.charAt(i+1);     \n\t\t  // if(lastHex == \"\"){}\t\t \t\t   \n\t\t   var decimal = hex[firstHex]*16 + hex[lastHex]; \n\t\t   //p(\"firstHex=\"+firstHex+\", lastHex=\"+lastHex+\", decimal=\"+decimal);\n\t\t   decimalArray.push(decimal);        \t\t   \n\t   }       \t   \n\t   return decimalArray;\n }\n\n/** thanks to Fred from\n *  http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript */\nfunction dec2hex(i){\n  var result = \"00\";\n  if      (i \u003e= 0    \u0026\u0026 i \u003c= 15)    { result = \"0\" + i.toString(16); }\n  else if (i \u003e= 16   \u0026\u0026 i \u003c= 255)   { result = \"\"  + i.toString(16); }\n  //else if (i \u003e= 256  \u0026\u0026 i \u003c= 4095)  { result = \"0\"   + i.toString(16); }\n  //else if (i \u003e= 4096 \u0026\u0026 i \u003c= 65535) { result =         i.toString(16); }\n  return result;\n}\n\nfunction textToHex(s){\n\tvar string = e(s);\n\tvar hexArray = [];  \n\t  for(var i = 0; i \u003c string.length; i++){\n\t\t  var code = string.charCodeAt(i);\n\t\t  var hexCode = dec2hex(code);\n\t\t  //p(\"hexCode=\"+hexCode);\n\t\t  hexArray.push(hexCode);\n\t  } \n\t  var ret = hexArray.join(\"\");\n\t  return ret;\n}\n\nfunction textToBigInteger(s){\n\tvar hex = textToHex(s);  \t \n\tvar ret = new BigInteger(hex, 16);\n\treturn ret;\n}\n\n/** for message */\n\nfunction publicEncrypt( serializedPublicKeyHex, messageHex) {\t\n\tvar publicKey = deserializePublicKey(serializedPublicKeyHex);  \n\tvar message = new BigInteger(messageHex, 16); \n\tvar encrypted =  message.modPowInt(publicKey.e, publicKey.n);\t\n\tvar encryptedHex = encrypted.toString(16);\n    return encryptedHex;\n}\n\nfunction publicEncrypt2(modulusHex, publicExponentHex, messageHex) {\t\n\tvar message = new BigInteger(messageHex, 16); \n\tvar modulus = new BigInteger(modulusHex, 16);  \n    var publicExponent = parseInt(publicExponentHex, 16);   \n\tvar encrypted =  message.modPowInt(publicExponent, modulus);\t\n\tvar encryptedHex = encrypted.toString(16);\n    return encryptedHex;\n}\n\n\nfunction privateDecrypt2(modulusHex, privateExponentHex, messageHex ) {\n    var message = new BigInteger(messageHex, 16); \n    var modulus = new BigInteger(modulusHex, 16);  \n    var privateExponent = new BigInteger(privateExponentHex, 16);     \n    var decrypted = message.modPow(privateExponent, modulus);\n\tvar decryptedHex = decrypted.toString(16);\n    return decryptedHex;\n}\n\nfunction privateDecrypt( serializedPrivateKeyHex, messageHex ) {\n\tvar privateKey = deserializePrivateKey(serializedPrivateKeyHex);\n    var message = new BigInteger(messageHex, 16); \n    var decrypted = message.modPow(privateKey.d, privateKey.n);\n\tvar decryptedHex = decrypted.toString(16); \t\n    return decryptedHex;\n}\n\n\n\n/** for signature */\n\n\nfunction privateEncrypt2(modulusHex, privateExponentHex, messageHex ) {\t\n\tvar message = new BigInteger(messageHex, 16); \n    var modulus = new BigInteger(modulusHex, 16);  \n    var privateExponent = new BigInteger(privateExponentHex, 16); \n\tvar encrypted = message.modPow(privateExponent, modulus);\t\n\tvar encryptedHex = encrypted.toString(16);   \n\treturn encryptedHex;\n}\n\nfunction privateEncrypt( serializedPrivateKeyHex, messageHex ) {\t\n\t var privateKey = deserializePrivateKey(serializedPrivateKeyHex);\n\t var message = new BigInteger(messageHex, 16); \n\t// textToBigInteger(message); \t \n\t var encrypted = message.modPow(privateKey.d, privateKey.n);\t\n\t //p(\"publicDecrypt: encrypted=\"+encrypted); \n\t var encryptedHex = encrypted.toString(16);   \n\t return encryptedHex;\n}\n\n//2 == ByModulusAndExponent\nfunction publicDecrypt2(modulusHex, publicExponentHex, messageHex) {\n    var message = new BigInteger(messageHex, 16); \t          \n    var modulus = new BigInteger(modulusHex, 16);  \n    var publicExponent = parseInt(publicExponentHex, 16);  \n    var decrypted =  message.modPowInt(publicExponent, modulus);   \n    var decryptedHex = decrypted.toString(16);\n    return decryptedHex;\n}\n\nfunction publicDecrypt( serializedPublicKeyHex, messageHex) {\n    var publicKey = deserializePublicKey(serializedPublicKeyHex);  \n   // p(\"publicDecrypt: messageHex=\"+messageHex);\n    var message = new BigInteger(messageHex, 16); \t    \n   // p(\"publicDecrypt: message=\"+message); \n    var decrypted =  message.modPowInt(publicKey.e, publicKey.n);   \n    //p(\"publicDecrypt: decrypted=\"+decrypted);\n    var decryptedHex = decrypted.toString(16);// bigIntegerToText(z); \n    return decryptedHex;\n}\n\n\nfunction recryptPrivateKey(params){\n\tvar encryptedEncodedPrivateKey = params.encryptedPrivateKey;\n\tvar oldPassword = params.oldPassword;\n\tvar newPassword = params.newPassword;\n\tvar encryptedPrivateKey = u(encryptedEncodedPrivateKey);\n\tvar oldPasswordMd5 = md5(oldPassword);\t\n\tvar privateKey = decryptData22(u(encryptedPrivateKey), oldPasswordMd5);\n\tvar newPasswordMd5 = md5(newPassword);\t\n\tvar recryptedPrivateKey = e(encryptData22(privateKey, newPasswordMd5));\t\n\treturn recryptedPrivateKey;\t\n}\n\n\n\n/** messaging */\n\n\nfunction encryptPrivateMessage(params){\n\t//console.log(\"encryptPrivateMessage: \"+JSON.stringify(params));\n\t//return params;\n\t//try{\n\tvar messagePassword =  md5(getRandomBase58String(22));\n\tvar encodedText = e(params.text);\n\tvar encryptedText = encryptData22(encodedText, messagePassword);\n\tvar encryptedSenderPassword = publicEncrypt(params.senderPublicKey, messagePassword);\n\tvar encryptedRecipientPassword = publicEncrypt(params.recipientPublicKey, messagePassword);\t\t\n\treturn {\n\t\tencryptedText: encryptedText, encryptedSenderPassword: encryptedSenderPassword,\n\t\tencryptedRecipientPassword: encryptedRecipientPassword\n\t};\t\n\t//}catch(ex){\n\t//\tconsole.log(\"in encryptPrivateMessage: \"+ex)\n\t\t//return {error: \"\"+ex};\n\t//}\t\n}\n\nfunction stringify(s){return JSON.stringify(s);}\nfunction p(s){console.log(s);}\n\n\nfunction encryptOrderAddressForSeller(params){\t\n\tvar messagePassword =  md5(getRandomBase58String(22));\n\tvar encodedText = e(params.orderAddress);\n\tvar encryptedAddress = encryptData22(encodedText, messagePassword);\n\tvar encryptedSellerPassword = publicEncrypt(params.sellerPublicKey, messagePassword);\t\t\n\t\t\n\tvar encryptedBuyerPassword = encryptAes({text: messagePassword, password: params.buyerEntrancePassword});\n\t\treturn {\n\t\tencryptedAddress: encryptedAddress,\n\t\tencryptedSellerPassword: encryptedSellerPassword,\n\t\tencryptedBuyerPassword: encryptedBuyerPassword\n\t};\t\n}\n\nfunction decryptOrderAddressForSeller(params){\t\n\t//p(\"decryptOrderAddressForSeller params=\"+str(params));\n\tparams.encryptedMessagePassword = params.encryptedSellerPassword;\n\tparams.encryptedText = params.encryptedAddress;\t\t\n\tdelete params.encryptedAddress;\n\tdelete params.encryptedSellerPassword;\n\tvar decrypted = decryptPrivateMessage(params);\n\treturn decrypted;\n}\n\nfunction encryptOrderAddressForBuyer(params){\t\n\tparams.text = e(params.orderAddress);\n\treturn encryptAes(params);\n}\n\nfunction decryptShippingAddressForBuyer(params){\n\t//p(\"decryptShippingAddressForBuyer: params=\"+stringify(params));\n\tparams.encrypted = params.orderAddress;\t\n\treturn decryptAes(params);\t\n}\n//{orderAddress: root.user.shippingAddress, password: loginPanel.password}\n\nfunction decryptOrderAddressForBuyer(params){\t\t\n\t//p(\"decryptOrderAddressForBuyer: params=\"+stringify(params));\n//\t{orderAddress: order.shippingAddress, \n//\t\tencryptedBuyerPassword: order.buyerAddressPassword,  entrancePassword: loginPanel.password};\n\tvar messagePassword = decryptAes({encrypted: params.encryptedBuyerPassword, password: params.entrancePassword});\t\n//\tp(\"decryptOrderAddressForBuyer: messagePassword=\"+messagePassword);\n\tparams.encrypted = params.orderAddress;\n\tvar decrypted = u(decryptData22(params.orderAddress, messagePassword));\n\t//var decrypted = decryptAes({encrypted: params.orderAddress, password: messagePassword});\t\n\treturn {decryptedAddress: decrypted};\n}\n\n\nfunction encryptSendInfo(params){\t\n\tvar messagePassword =  md5(getRandomBase58String(22));\t\n\t//p(\"encryptSendInfo: messagePassword=\"+messagePassword);\n\t\n\tvar encryptedSendInfo = encryptAes({text: params.sendInfo, password: messagePassword});\t\n\tvar encryptedBuyerPassword = publicEncrypt(params.buyerPublicKey, messagePassword);\t\t\n\t//p(\"encryptSendInfo: encryptedBuyerPassword=\"+encryptedBuyerPassword);\n\t\n\tvar encryptedSellerPassword = encryptAes({text: messagePassword, password: params.sellerEntrancePassword});\t\t\n\t\n\treturn {\n\t\tsendInfo: encryptedSendInfo, \n\t\tbuyerSendInfoPassword: encryptedBuyerPassword,\n\t\tsellerSendInfoPassword: encryptedSellerPassword\n\t};\t\n}\n\nfunction decryptSendInfoForSeller(params){\t\n\t//p(\"decryptSendInfoForSeller: params=\"+stringify(params));\n\t/*var params = {\n\t\t\tencryptedSendInfo: order.sendInfo, \n\t\t\tencryptedSellerPassword: order.sendInfoPassword,\n\t        sellerEntrancePassword: loginPanel.password\n\t\t};\t\t*/\t\n\t\n\tparams.encrypted = params.encryptedSellerPassword;\n\tparams.password = params.sellerEntrancePassword;\n\tvar decryptedPassword = decryptAes(params);\t\t\n\t//p(\"decryptSendInfoForSeller: decryptedPassword=\"+decryptedPassword);\n\tparams.encrypted = params.encryptedSendInfo;\n\tparams.password = decryptedPassword;\n\tvar decrypted = decryptAes(params);\t\n\treturn {text: decrypted};\n}\n\n\nfunction decryptSendInfoForBuyer(params){\t\t\n\t//p(\"decryptSendInfoForBuyer: params=\"+stringify(params));\n\tparams.encryptedMessagePassword = params.encryptedBuyerPassword;\n\tparams.encryptedText = params.encryptedSendInfo;\t\t\n\tdelete params.encryptedSendInfo;\n\tdelete params.encryptedBuyerPassword;\n\t//var decrypted = decryptPrivateMessage(params);\n\t//return decrypted;\n\t//p(\"decryptSendInfoForBuyer1: params=\"+stringify(params));\n\t//return {text: \"aga\"};\t\t\n\tvar privateKey = decryptPrivateKey(params);\t\t\n\t//p(\"decryptSendInfoForBuyer: privateKey=\"+privateKey);\t\n\t//p(\"decryptSendInfoForBuyer2: encryptedMessagePassword=\"+params.encryptedMessagePassword);\n\tvar messagePassword = privateDecrypt(privateKey, params.encryptedMessagePassword);\t\n\t//p(\"decryptSendInfoForBuyer3: messagePassword=\"+messagePassword);\n\t//var decryptedText = decryptAes({encrypted: params.encryptedText, password: messagePassword});\n\t//p(\"decryptSendInfoForBuyer4: encryptedText=\"+params.encryptedText);\n\tvar decryptedText = decryptAes({encrypted: params.encryptedText, password: messagePassword});\n\t//p(\"decryptSendInfoForBuyer5: decryptedText=\"+decryptedText);\n\t//var decodedText = u(decryptedText);\t\n\t//p(\"decryptSendInfoForBuyer6: decodedText=\"+decodedText);\n\t//console.log(\"decryptPrivateMessage: decodedText=\"+decodedText);decryptedText\n\t//var result = {text: decodedText};\n\tvar result = {text: decryptedText};\n\t\n\t//p(\"decryptPrivateMessage: result=\"+stringify(result));\n\treturn result;\t/**/\n\t\n\t\n}\n\n\nfunction decryptPrivateMessage(params){\t\t\n\t//\tp(\"decryptPrivateMessage1: params=\"+stringify(params));\n\t//return {text: \"aga\"};\t\t\n\tvar privateKey = decryptPrivateKey(params);\t\t\n\t//p(\"decryptPrivateMessage: privateKey=\"+privateKey);\t\n\t//p(\"decryptPrivateMessage2: encryptedMessagePassword=\"+params.encryptedMessagePassword);\n\tvar messagePassword = privateDecrypt(privateKey, params.encryptedMessagePassword);\t\n\t//p(\"decryptPrivateMessage3: messagePassword=\"+messagePassword);\n\t//var decryptedText = decryptAes({encrypted: params.encryptedText, password: messagePassword});\n\t//p(\"decryptPrivateMessage4: encryptedText=\"+params.encryptedText);\n\tvar decryptedText = decryptData22(params.encryptedText, messagePassword);\n\t//p(\"decryptPrivateMessage5: decryptedText=\"+decryptedText);\n\tvar decodedText = u(decryptedText);\t\n\t//p(\"decryptPrivateMessage6: decodedText=\"+decodedText);\n\tvar result = {text: decodedText};\n\t//p(\"decryptPrivateMessage: result=\"+str(result));\n\treturn result;\t/**/\t\n}\n\n\n\nfunction decryptPrivateKey(params){\t\t\n\t//p(\"decryptPrivateKey: params=\"+stringify(params));\n\tparams.encrypted = params.encryptedPrivateKey;\n\tvar decrypted = decryptAes(params);\n\treturn decrypted;\n}\n\nfunction decryptAesOuter(params){\t\n\treturn {text: decryptAes(params)};\n}\n\nfunction decryptAes(params){\t\n\t//p(\"decryptAes: params=\"+stringify(params));\n\tvar encryptedEncoded = params.encrypted;\n\t//\n\tvar encrypted = u(encryptedEncoded);\t\n\t//console.log(\"decryptPrivateKey: encryptedPrivateKey=\"+encryptedPrivateKey);\n\tvar password = params.password;\n\t//console.log(\"decryptPrivateKey: password=\"+password);\n\tvar passwordMd5 = md5(password);\n\t//console.log(\"decryptPrivateKey: passwordMd5=\"+passwordMd5);\n\tvar decrypted = decryptData22(encrypted, passwordMd5);\t\n\t//console.log(\"decryptPrivateKey: privateKey=\"+privateKey);\n\treturn u(decrypted);\n}\n\nfunction encryptAesOuter(params){\t\n\treturn {text: encryptAes(params)};\n}\n\nfunction encryptAes(params){\t\n\tvar password = params.password;\n\t//console.log(\"decryptPrivateKey: password=\"+password);\n\tvar passwordMd5 = md5(password);\n\tvar encrypted = e(encryptData22(e(params.text), passwordMd5));\n\treturn encrypted;\n}\n// \n\n\nfunction sign(params){\n\tvar privateKey = decryptPrivateKey(params);\t\t\t\n\tvar messageMd5 = md5(params.text);\n\tvar messageSignature =  privateEncrypt(privateKey, messageMd5);\t\n\treturn messageSignature;\t\n}\n\n\nfunction isSignatureOk(params){\n\tvar decryptedMd5 = publicDecrypt(params.publicKey, params.signature);\n\tvar textMd5 = md5(params.text);\n\treturn decryptedMd5 == textMd5;\t\n}\n\n\n\n\n\n\n/** end messaging */\n\n\nfunction getDecryptedSessionRandomMd5(params){\n\tvar encryptedEncodedPrivateKey = params.encryptedPrivateKey;\n\tvar encryptedSessionRandom = params.encryptedSessionRandom;\n\tvar password = params.password;\n\tvar encryptedPrivateKey = u(encryptedEncodedPrivateKey);\t\n\t/** 1 petahash/sec = 3.1536e+23 years for 3.1536e+38 hashes */\n\tvar passwordMd5 = md5(password);\n\tvar privateKey = decryptData22(u(encryptedPrivateKey), passwordMd5);\n\tvar decrypted = privateDecrypt(privateKey, encryptedSessionRandom);\n\tvar decryptedMd5 = md5(decrypted);\n\treturn {decrypted: decrypted, decryptedMd5: decryptedMd5};\t\n}\n\nfunction testCreateKeyBytes(params){\n\tvar keys = createKeyBytes(params);\n\tvar encryptedPrivateKey =  keys.encryptedPrivateKey;\n\tvar publicKey = keys.publicKey;\t\n\tvar passwordMd5 = md5(params.password);\n\tvar privateKey = decryptData22(u(encryptedPrivateKey), passwordMd5);\t\n\tvar message = md5(\" Ð¿ÑÐ¸Ð²ÐµÑÐ¸Ðº22 +-3aga\");\n\tvar encryptedHex = publicEncrypt(publicKey, message);\n\tvar decrypted = privateDecrypt(privateKey, encryptedHex);\n\tvar encrypted = privateEncrypt(privateKey, message);\n\tdecrypted = publicDecrypt(publicKey, encrypted);\n\treturn decrypted == message;\n}\n\n\n\nfunction createKeyBytes(params){\n\t  var keyLength = params.keyLength;\n\t  var password = params.password; \n\t  var forTest = params.forTest;\n\t  var rsaKeys = new RSAKeys();  \n\t  var publicExponentHex = \"10001\";\n\t  rsaKeys.generate(parseInt(keyLength), publicExponentHex);\t  \t    \n\t  var modulusHex = rsaKeys.n.toString(16);\t  \n\t  var privateExponentHex = rsaKeys.d.toString(16);\t  \t \t  \n\t  var p = rsaKeys.p.toString(16);\t\n\t  var q = rsaKeys.q.toString(16);\t  \n\t  var dmp1 = rsaKeys.dmp1.toString(16);\t\n\t  var dmq1 = rsaKeys.dmq1.toString(16);\t  \t  \n\t  var coeff = rsaKeys.coeff.toString(16);\t\t  \n\t  //console.log(\"privateExponentHex = \"+privateExponentHex);\n\t  var publicKeyHex = serializeChunks([modulusHex, publicExponentHex]);\n\t  var privateKeyHex = serializeChunks([modulusHex, publicExponentHex, privateExponentHex,\n\t                                       p, q, dmp1, dmq1, coeff]);\t\t  \t  \n\t  //return{publicKey : publicKeyHex, privateKey : privateKeyHex};\t   \n\t  var keys = {publicKey : publicKeyHex};\n\t   if(password){\n\t\t   var passwordMd5 = md5(password);\n\t\t  // console.log(\"password md5 = \"+passwordMd5);  \n\t\t   keys.encryptedPrivateKey = e(encryptData22(privateKeyHex, passwordMd5));\n\t\t   \n\t\t   \n\t\t   \n\t\t   if(forTest){\n\t\t     keys.passwordMd5 = passwordMd5;\n\t       } \n\t   }else{\n\t\t   keys.privateKey = privateKeyHex;\n\t   }\t\n\t   return keys;\n}\n\n\nfunction deserializePublicKey(serializedKey){\n\t//p(\"deserializePublicKey: serializedKey=\"+serializedKey);\n       var keyParts = deserializeChunks(serializedKey);  \n       if(keyParts.length != 2){throw \"keyParts.length != 2 : \"+keyParts.length;}\n       var rsaKey = new RSAKeys();                      \n      // rsa.setPublic(keyParts.modulus, keyParts.publicExponent);\n       rsaKey.setPublic(keyParts[0], keyParts[1]);\n       return rsaKey;       \n}\n\nfunction deserializePrivateKey(serializedKey){\n\t//p(\"serializedKey=\"+serializedKey);\n    var keyParts = deserializeChunks(serializedKey);  \n    var rsaKey = new RSAKeys();                      \n    //rsa.setPrivate(+keyParts.modulus, +keyParts.publicExponent, +keyParts.privateExponent);\n    if(keyParts.length == 3){\n      rsaKey.setPrivate(keyParts[0], keyParts[1], keyParts[2]);\n    }else if (keyParts.length == 8){\n      rsaKey.setPrivateEx(keyParts[0], keyParts[1], keyParts[2],\n      keyParts[3], keyParts[4],  keyParts[5], keyParts[6], keyParts[7]);\n    }else{\n    \tthrow \"invalid keyParts.length : \"+keyParts.length;\n    }    \n    return rsaKey;       \n}\n\n\nfunction serializeChunks(arrayOfHexStrings){\n\tvar ret = \"\";\n\tfor(var i = 0; i \u003c arrayOfHexStrings.length; i++){\n\t\tret += serializeChunk(arrayOfHexStrings[i]);\n\t}\t\n\treturn ret;\n}\n\nfunction serializeChunk(hexString){\n    var hexStringLength = hexString.length;\n    var hexStringLengthHex = new BigInteger(\"\" + hexStringLength).toString(16);\n    if(hexStringLengthHex.length \u003e 4){\n        throw \"hexStringLengthHex.length \u003e 4: \" + hexStringLengthHex;\n    }\n    var pads = [\"0000\",\"000\",\"00\", \"0\", \"\"];    \n    return pads[hexStringLengthHex.length] + hexStringLengthHex+hexString;       \n}\n\nfunction deserializeChunks(hexString){\t\t\n\t//p(\"deserializeChunks: hexString=\"+hexString);\n\tvar chunkStart = 0;\n\tvar chunks = [];\n\twhile(chunkStart \u003c hexString.length){\n\t\tvar chunkLengthHex = hexString.substring(chunkStart, chunkStart+4);\n\t\tvar chunkLength = parseInt(chunkLengthHex, 16);\n\t\tchunks.push(hexString.substring(chunkStart+4, chunkStart+4+chunkLength));\n\t\tchunkStart+=(4+chunkLength);\n\t}\t\n    return chunks;       \n}\n\n\nfunction getRandomDecimalArray(length){\n\t   var randomDecimalArray = []; \n\t   for(var i = 0; i \u003c length; i++){      \t  \n        randomDecimalArray.push(Math.floor(Math.random()*255)+1);\n\t   }\n\t   return randomDecimalArray;\n}\n\n\nfunction getRandomString(length){\t\n\t  var randomDecimalArray = getRandomDecimalArray(length);\n\t  return  decimalArray2String(randomDecimalArray);\t\t  \n}\n\nfunction getRandomHexString(length){\t\n\t  var ret = [];\n\t  for(var i = 0; i \u003c length; i++){      \t  \n\t      var r = (Math.floor(Math.random()*255)+1);\n\t      ret.push( dec2hex(r));\n\t  }\t  \n\t  return ret.join(\"\");\t\t  \n}\n\nvar base58Array = \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\".split(\"\");\n\nfunction getRandomBase58String(length){\t\t\n\t//return \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\";\t\n\t  if(length.size){length = length.size;}\n\t  var ret = [];\n\t  for(var i = 0; i \u003c length; i++){      \t  \n\t      var r = (Math.floor(Math.random()*58));\n\t      ret.push(base58Array[r]);\n\t  }\t  \n\t  return ret.join(\"\");\t\t  \n}\n\nfunction test(params){\t\n\tconsole.log(\"inside test worker\");\n\t  return params.aga;\t\t  \n}\n\n\n\n\n    onmessage = function (event) {      \n    \t\n      var requestId = event.data.requestId;\n      var workerFunction = eval(event.data.functionName);\n      var params = event.data.params;\n      try{\n          var result =  workerFunction(params);\n          postMessage({result: result, requestId: requestId}); \n      }catch(ex){\n    \t  postMessage({error: ex.message, requestId: requestId}); \n      }\n      \n    };\ncryptingLoaded = true;\n\u003c/script\u003e\n\n\u003clink id=\"favicon\" rel=\"shortcut icon\" type=\"image/gif\" \n      href=\"data:image/png;base64,R0lGODlhEAAQAJEAAPz8/Pv7+1OnUwAAACH5BAAAAAAALAAAAAAQABAAAAIjlI+py50BFQxo0mPfNFnazVjAFX7NB2qR0GEpm7bu6tT2LRQAOw==\"\u003e\n\u003cstyle\u003e\n\n/*!\n * Bootstrap v2.3.2\n *\n * Copyright 2013 Twitter, Inc\n * Licensed under the Apache License v2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Designed and built with all the love in the world @twitter by @mdo and @fat.\n */\n.clearfix {\n\t*zoom: 1;\n}\n\n.clearfix:before,.clearfix:after {\n\tdisplay: table;\n\tcontent: \"\";\n\tline-height: 0;\n}\n\n.clearfix:after {\n\tclear: both;\n}\n\n.hide-text {\n\tfont: 0/0 a;\n\tcolor: transparent;\n\ttext-shadow: none;\n\tbackground-color: transparent;\n\tborder: 0;\n}\n\n.input-block-level {\n\tdisplay: block;\n\twidth: 100%;\n\tmin-height: 30px;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\narticle,aside,details,figcaption,figure,footer,header,hgroup,nav,section\n\t{\n\tdisplay: block;\n}\n\naudio,canvas,video {\n\tdisplay: inline-block;\n\t*display: inline;\n\t*zoom: 1;\n}\n\naudio:not ([controls] ){\n\tdisplay: none;\n}\n\nhtml {\n\tfont-size: 100%;\n\t-webkit-text-size-adjust: 100%;\n\t-ms-text-size-adjust: 100%;\n}\n/* a:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px;}\na:hover,a:active{outline:0;} */\nsub,sup {\n\tposition: relative;\n\tfont-size: 75%;\n\tline-height: 0;\n\tvertical-align: baseline;\n}\n\nsup {\n\ttop: -0.5em;\n}\n\nsub {\n\tbottom: -0.25em;\n}\n\nimg {\n\tmax-width: 100%;\n\twidth: auto\\9;\n\theight: auto;\n\tvertical-align: middle;\n\tborder: 0;\n\t-ms-interpolation-mode: bicubic;\n}\n\n#map_canvas img,.google-maps img {\n\tmax-width: none;\n}\n\nbutton,input,select,textarea {\n\tmargin: 0;\n\tfont-size: 100%;\n\tvertical-align: middle;\n}\n\nbutton,input {\n\t*overflow: visible;\n\tline-height: normal;\n}\n\nbutton::-moz-focus-inner,input::-moz-focus-inner {\n\tpadding: 0;\n\tborder: 0;\n}\n\nbutton,html input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"]\n\t{\n\t-webkit-appearance: button;\n\tcursor: pointer;\n}\n\nlabel,select,button,input[type=\"button\"],input[type=\"reset\"],input[type=\"submit\"],input[type=\"radio\"],input[type=\"checkbox\"]\n\t{\n\tcursor: pointer;\n}\n\ninput[type=\"search\"] {\n\t-webkit-box-sizing: content-box;\n\t-moz-box-sizing: content-box;\n\tbox-sizing: content-box;\n\t-webkit-appearance: textfield;\n}\n\ninput[type=\"search\"]::-webkit-search-decoration,input[type=\"search\"]::-webkit-search-cancel-button\n\t{\n\t-webkit-appearance: none;\n}\n\ntextarea {\n\toverflow: auto;\n\tvertical-align: top;\n}\n\n@media print {\n\t* {\n\t\ttext-shadow: none !important;\n\t\tcolor: #000 !important;\n\t\tbackground: transparent !important;\n\t\tbox-shadow: none !important;\n\t}\n\ta,a:visited {\n\t\ttext-decoration: underline;\n\t}\n\ta[href]:after {\n\t\tcontent: \" (\" attr(href) \")\";\n\t}\n\tabbr[title]:after {\n\t\tcontent: \" (\" attr(title) \")\";\n\t}\n\t.ir a:after,a[href^=\"javascript:\"]:after,a[href^=\"#\"]:after {\n\t\tcontent: \"\";\n\t}\n\tpre,blockquote {\n\t\tborder: 1px solid #999;\n\t\tpage-break-inside: avoid;\n\t}\n\tthead {\n\t\tdisplay: table-header-group;\n\t}\n\ttr,img {\n\t\tpage-break-inside: avoid;\n\t}\n\timg {\n\t\tmax-width: 100% !important;\n\t}\n\t@page {\n\t\tmargin: 0.5cm;\n\t}\n\tp,h2,h3 {\n\t\torphans: 3;\n\t\twidows: 3;\n\t}\n\th2,h3 {\n\t\tpage-break-after: avoid;\n\t}\n}\n\nbody {\n\tmargin: 0;\n\tfont-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n\tfont-size: 14px;\n\tline-height: 20px;\n\tcolor: #333333;\n\tbackground-color: #ffffff;\n}\n/* a{color:#0088cc;text-decoration:none;}\na:hover,a:focus{color:#005580;text-decoration:underline;} */\n.img-rounded {\n\t-webkit-border-radius: 6px;\n\t-moz-border-radius: 6px;\n\tborder-radius: 6px;\n}\n\n.img-polaroid {\n\tpadding: 4px;\n\tbackground-color: #fff;\n\tborder: 1px solid #ccc;\n\tborder: 1px solid rgba(0, 0, 0, 0.2);\n\t-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\t-moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\tbox-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.img-circle {\n\t-webkit-border-radius: 500px;\n\t-moz-border-radius: 500px;\n\tborder-radius: 500px;\n}\n\n.row {\n\tmargin-left: -20px;\n\t*zoom: 1;\n}\n\n.row:before,.row:after {\n\tdisplay: table;\n\tcontent: \"\";\n\tline-height: 0;\n}\n\n.row:after {\n\tclear: both;\n}\n\n[class*=\"span\"] {\n\tfloat: left;\n\tmin-height: 1px;\n\tmargin-left: 20px;\n}\n\n.container,.navbar-static-top .container,.navbar-fixed-top .container,.navbar-fixed-bottom .container\n\t{\n\twidth: 940px;\n}\n\n.span12 {\n\twidth: 940px;\n}\n\n.span11 {\n\twidth: 860px;\n}\n\n.span10 {\n\twidth: 780px;\n}\n\n.span9 {\n\twidth: 700px;\n}\n\n.span8 {\n\twidth: 620px;\n}\n\n.span7 {\n\twidth: 540px;\n}\n\n.span6 {\n\twidth: 460px;\n}\n\n.span5 {\n\twidth: 380px;\n}\n\n.span4 {\n\twidth: 300px;\n}\n\n.span3 {\n\twidth: 220px;\n}\n\n.span2 {\n\twidth: 140px;\n}\n\n.span1 {\n\twidth: 60px;\n}\n\n.offset12 {\n\tmargin-left: 980px;\n}\n\n.offset11 {\n\tmargin-left: 900px;\n}\n\n.offset10 {\n\tmargin-left: 820px;\n}\n\n.offset9 {\n\tmargin-left: 740px;\n}\n\n.offset8 {\n\tmargin-left: 660px;\n}\n\n.offset7 {\n\tmargin-left: 580px;\n}\n\n.offset6 {\n\tmargin-left: 500px;\n}\n\n.offset5 {\n\tmargin-left: 420px;\n}\n\n.offset4 {\n\tmargin-left: 340px;\n}\n\n.offset3 {\n\tmargin-left: 260px;\n}\n\n.offset2 {\n\tmargin-left: 180px;\n}\n\n.offset1 {\n\tmargin-left: 100px;\n}\n\n[class*=\"span\"].hide,.row-fluid [class*=\"span\"].hide {\n\tdisplay: none;\n}\n\n[class*=\"span\"].pull-right,.row-fluid [class*=\"span\"].pull-right {\n\tfloat: right;\n}\n\n.container {\n\tmargin-right: auto;\n\tmargin-left: auto;\n\t*zoom: 1;\n}\n\n.container:before,.container:after {\n\tdisplay: table;\n\tcontent: \"\";\n\tline-height: 0;\n}\n\n.container:after {\n\tclear: both;\n}\n\n.container-fluid {\n\tpadding-right: 20px;\n\tpadding-left: 20px;\n\t*zoom: 1;\n}\n\n.container-fluid:before,.container-fluid:after {\n\tdisplay: table;\n\tcontent: \"\";\n\tline-height: 0;\n}\n\n.container-fluid:after {\n\tclear: both;\n}\n\np {\n\tmargin: 0 0 10px;\n}\n\n.lead {\n\tmargin-bottom: 20px;\n\tfont-size: 21px;\n\tfont-weight: 200;\n\tline-height: 30px;\n}\n\nsmall {\n\tfont-size: 85%;\n}\n\nstrong {\n\tfont-weight: bold;\n}\n\nem {\n\tfont-style: italic;\n}\n\ncite {\n\tfont-style: normal;\n}\n\n.muted {\n\tcolor: #999999;\n}\n\n.text-left {\n\ttext-align: left;\n}\n\n.text-right {\n\ttext-align: right;\n}\n\n.text-center {\n\ttext-align: center;\n}\n\nh1,h2,h3,h4,h5,h6 {\n\tmargin: 10px 0;\n\tfont-family: inherit;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: inherit;\n\ttext-rendering: optimizelegibility;\n}\n\nh1 small,h2 small,h3 small,h4 small,h5 small,h6 small {\n\tfont-weight: normal;\n\tline-height: 1;\n\tcolor: #999999;\n}\n\nh1,h2,h3 {\n\tline-height: 40px;\n}\n\nh1 {\n\tfont-size: 38.5px;\n}\n\nh2 {\n\tfont-size: 31.5px;\n}\n\nh3 {\n\tfont-size: 24.5px;\n}\n\nh4 {\n\tfont-size: 17.5px;\n}\n\nh5 {\n\tfont-size: 14px;\n}\n\nh6 {\n\tfont-size: 11.9px;\n}\n\nh1 small {\n\tfont-size: 24.5px;\n}\n\nh2 small {\n\tfont-size: 17.5px;\n}\n\nh3 small {\n\tfont-size: 14px;\n}\n\nh4 small {\n\tfont-size: 14px;\n}\n\n.page-header {\n\tpadding-bottom: 9px;\n\tmargin: 20px 0 30px;\n\tborder-bottom: 1px solid #eeeeee;\n}\n\nul,ol {\n\tpadding: 0;\n\tmargin: 0 0 10px 25px;\n}\n\nul ul,ul ol,ol ol,ol ul {\n\tmargin-bottom: 0;\n}\n\nli {\n\tline-height: 20px;\n}\n\nul.unstyled,ol.unstyled {\n\tmargin-left: 0;\n\tlist-style: none;\n}\n\nul.inline,ol.inline {\n\tmargin-left: 0;\n\tlist-style: none;\n}\n\nul.inline\u003eli,ol.inline\u003eli {\n\tdisplay: inline-block;\n\t*display: inline;\n\t*zoom: 1;\n\tpadding-left: 5px;\n\tpadding-right: 5px;\n}\n\ndl {\n\tmargin-bottom: 20px;\n}\n\ndt,dd {\n\tline-height: 20px;\n}\n\ndt {\n\tfont-weight: bold;\n}\n\ndd {\n\tmargin-left: 10px;\n}\n\n.dl-horizontal {\n\t*zoom: 1;\n}\n\n.dl-horizontal:before,.dl-horizontal:after {\n\tdisplay: table;\n\tcontent: \"\";\n\tline-height: 0;\n}\n\n.dl-horizontal:after {\n\tclear: both;\n}\n\n.dl-horizontal dt {\n\tfloat: left;\n\twidth: 160px;\n\tclear: left;\n\ttext-align: right;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.dl-horizontal dd {\n\tmargin-left: 180px;\n}\n\nhr {\n\tmargin: 20px 0;\n\tborder: 0;\n\tborder-top: 1px solid #eeeeee;\n\tborder-bottom: 1px solid #ffffff;\n}\n\nabbr[title],abbr[data-original-title] {\n\tcursor: help;\n\tborder-bottom: 1px dotted #999999;\n}\n\nabbr.initialism {\n\tfont-size: 90%;\n\ttext-transform: uppercase;\n}\n\nblockquote {\n\tpadding: 0 0 0 15px;\n\tmargin: 0 0 20px;\n\tborder-left: 5px solid #eeeeee;\n}\n\nblockquote p {\n\tmargin-bottom: 0;\n\tfont-size: 17.5px;\n\tfont-weight: 300;\n\tline-height: 1.25;\n}\n\nblockquote small {\n\tdisplay: block;\n\tline-height: 20px;\n\tcolor: #999999;\n}\n\nblockquote small:before {\n\tcontent: '\\2014 \\00A0';\n}\n\nblockquote.pull-right {\n\tfloat: right;\n\tpadding-right: 15px;\n\tpadding-left: 0;\n\tborder-right: 5px solid #eeeeee;\n\tborder-left: 0;\n}\n\nblockquote.pull-right p,blockquote.pull-right small {\n\ttext-align: right;\n}\n\nblockquote.pull-right small:before {\n\tcontent: '';\n}\n\nblockquote.pull-right small:after {\n\tcontent: '\\00A0 \\2014';\n}\n\nq:before,q:after,blockquote:before,blockquote:after {\n\tcontent: \"\";\n}\n\naddress {\n\tdisplay: block;\n\tmargin-bottom: 20px;\n\tfont-style: normal;\n\tline-height: 20px;\n}\n\ntable {\n\tmax-width: 100%;\n\tbackground-color: transparent;\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n.table {\n\twidth: 100%;\n\tmargin-bottom: 20px;\n}\n\n.table th,.table td {\n\tpadding: 8px;\n\tline-height: 20px;\n\ttext-align: left;\n\tvertical-align: top;\n\tborder-top: 1px solid #dddddd;\n}\n\n.table th {\n\tfont-weight: bold;\n}\n\n.table thead th {\n\tvertical-align: bottom;\n}\n\n.table caption+thead tr:first-child th,.table caption+thead tr:first-child td,.table colgroup+thead tr:first-child th,.table colgroup+thead tr:first-child td,.table thead:first-child tr:first-child th,.table thead:first-child tr:first-child td\n\t{\n\tborder-top: 0;\n}\n\n.table tbody+tbody {\n\tborder-top: 2px solid #dddddd;\n}\n\n.table .table {\n\tbackground-color: #ffffff;\n}\n\n.table-condensed th,.table-condensed td {\n\tpadding: 4px 5px;\n}\n\n.table-bordered {\n\tborder: 1px solid #dddddd;\n\tborder-collapse: separate;\n\t*border-collapse: collapse;\n\tborder-left: 0;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.table-bordered th,.table-bordered td {\n\tborder-left: 1px solid #dddddd;\n}\n\n.table-bordered caption+thead tr:first-child th,.table-bordered caption+tbody tr:first-child th,.table-bordered caption+tbody tr:first-child td,.table-bordered colgroup+thead tr:first-child th,.table-bordered colgroup+tbody tr:first-child th,.table-bordered colgroup+tbody tr:first-child td,.table-bordered thead:first-child tr:first-child th,.table-bordered tbody:first-child tr:first-child th,.table-bordered tbody:first-child tr:first-child td\n\t{\n\tborder-top: 0;\n}\n\n.table-bordered thead:first-child tr:first-child\u003eth:first-child,.table-bordered tbody:first-child tr:first-child\u003etd:first-child,.table-bordered tbody:first-child tr:first-child\u003eth:first-child\n\t{\n\t-webkit-border-top-left-radius: 4px;\n\t-moz-border-radius-topleft: 4px;\n\tborder-top-left-radius: 4px;\n}\n\n.table-bordered thead:first-child tr:first-child\u003eth:last-child,.table-bordered tbody:first-child tr:first-child\u003etd:last-child,.table-bordered tbody:first-child tr:first-child\u003eth:last-child\n\t{\n\t-webkit-border-top-right-radius: 4px;\n\t-moz-border-radius-topright: 4px;\n\tborder-top-right-radius: 4px;\n}\n\n.table-bordered thead:last-child tr:last-child\u003eth:first-child,.table-bordered tbody:last-child tr:last-child\u003etd:first-child,.table-bordered tbody:last-child tr:last-child\u003eth:first-child,.table-bordered tfoot:last-child tr:last-child\u003etd:first-child,.table-bordered tfoot:last-child tr:last-child\u003eth:first-child\n\t{\n\t-webkit-border-bottom-left-radius: 4px;\n\t-moz-border-radius-bottomleft: 4px;\n\tborder-bottom-left-radius: 4px;\n}\n\n.table-bordered thead:last-child tr:last-child\u003eth:last-child,.table-bordered tbody:last-child tr:last-child\u003etd:last-child,.table-bordered tbody:last-child tr:last-child\u003eth:last-child,.table-bordered tfoot:last-child tr:last-child\u003etd:last-child,.table-bordered tfoot:last-child tr:last-child\u003eth:last-child\n\t{\n\t-webkit-border-bottom-right-radius: 4px;\n\t-moz-border-radius-bottomright: 4px;\n\tborder-bottom-right-radius: 4px;\n}\n\n.table-bordered tfoot+tbody:last-child tr:last-child td:first-child {\n\t-webkit-border-bottom-left-radius: 0;\n\t-moz-border-radius-bottomleft: 0;\n\tborder-bottom-left-radius: 0;\n}\n\n.table-bordered tfoot+tbody:last-child tr:last-child td:last-child {\n\t-webkit-border-bottom-right-radius: 0;\n\t-moz-border-radius-bottomright: 0;\n\tborder-bottom-right-radius: 0;\n}\n\n.table-bordered caption+thead tr:first-child th:first-child,.table-bordered caption+tbody tr:first-child td:first-child,.table-bordered colgroup+thead tr:first-child th:first-child,.table-bordered colgroup+tbody tr:first-child td:first-child\n\t{\n\t-webkit-border-top-left-radius: 4px;\n\t-moz-border-radius-topleft: 4px;\n\tborder-top-left-radius: 4px;\n}\n\n.table-bordered caption+thead tr:first-child th:last-child,.table-bordered caption+tbody tr:first-child td:last-child,.table-bordered colgroup+thead tr:first-child th:last-child,.table-bordered colgroup+tbody tr:first-child td:last-child\n\t{\n\t-webkit-border-top-right-radius: 4px;\n\t-moz-border-radius-topright: 4px;\n\tborder-top-right-radius: 4px;\n}\n\n.table-striped tbody\u003etr:nth-child(odd)\u003etd,.table-striped tbody\u003etr:nth-child(odd)\u003eth\n\t{\n\tbackground-color: #f9f9f9;\n}\n\n.table-hover tbody tr:hover\u003etd,.table-hover tbody tr:hover\u003eth {\n\tbackground-color: #f5f5f5;\n}\n\ntable td[class*=\"span\"],table th[class*=\"span\"],.row-fluid table td[class*=\"span\"],.row-fluid table th[class*=\"span\"]\n\t{\n\tdisplay: table-cell;\n\tfloat: none;\n\tmargin-left: 0;\n}\n\n.table td.span1,.table th.span1 {\n\tfloat: none;\n\twidth: 44px;\n\tmargin-left: 0;\n}\n\n.table td.span2,.table th.span2 {\n\tfloat: none;\n\twidth: 124px;\n\tmargin-left: 0;\n}\n\n.table td.span3,.table th.span3 {\n\tfloat: none;\n\twidth: 204px;\n\tmargin-left: 0;\n}\n\n.table td.span4,.table th.span4 {\n\tfloat: none;\n\twidth: 284px;\n\tmargin-left: 0;\n}\n\n.table td.span5,.table th.span5 {\n\tfloat: none;\n\twidth: 364px;\n\tmargin-left: 0;\n}\n\n.table td.span6,.table th.span6 {\n\tfloat: none;\n\twidth: 444px;\n\tmargin-left: 0;\n}\n\n.table td.span7,.table th.span7 {\n\tfloat: none;\n\twidth: 524px;\n\tmargin-left: 0;\n}\n\n.table td.span8,.table th.span8 {\n\tfloat: none;\n\twidth: 604px;\n\tmargin-left: 0;\n}\n\n.table td.span9,.table th.span9 {\n\tfloat: none;\n\twidth: 684px;\n\tmargin-left: 0;\n}\n\n.table td.span10,.table th.span10 {\n\tfloat: none;\n\twidth: 764px;\n\tmargin-left: 0;\n}\n\n.table td.span11,.table th.span11 {\n\tfloat: none;\n\twidth: 844px;\n\tmargin-left: 0;\n}\n\n.table td.span12,.table th.span12 {\n\tfloat: none;\n\twidth: 924px;\n\tmargin-left: 0;\n}\n\n.table tbody tr.success\u003etd {\n\tbackground-color: #dff0d8;\n}\n\n.table tbody tr.error\u003etd {\n\tbackground-color: #f2dede;\n}\n\n.table tbody tr.warning\u003etd {\n\tbackground-color: #fcf8e3;\n}\n\n.table tbody tr.info\u003etd {\n\tbackground-color: #d9edf7;\n}\n\n.table-hover tbody tr.success:hover\u003etd {\n\tbackground-color: #d0e9c6;\n}\n\n.table-hover tbody tr.error:hover\u003etd {\n\tbackground-color: #ebcccc;\n}\n\n.table-hover tbody tr.warning:hover\u003etd {\n\tbackground-color: #faf2cc;\n}\n\n.table-hover tbody tr.info:hover\u003etd {\n\tbackground-color: #c4e3f3;\n}\n\n.btn {\n\tdisplay: inline-block;\n\t*display: inline;\n\t*zoom: 1;\n\tpadding: 4px 12px;\n\tmargin-bottom: 0;\n\tfont-size: 14px;\n\tline-height: 20px;\n\ttext-align: center;\n\tvertical-align: middle;\n\tcursor: pointer;\n\tcolor: #333333;\n\ttext-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);\n\tbackground-color: #f5f5f5;\n\tbackground-image: -moz-linear-gradient(top, #ffffff, #e6e6e6);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff),\n\t\tto(#e6e6e6));\n\tbackground-image: -webkit-linear-gradient(top, #ffffff, #e6e6e6);\n\tbackground-image: -o-linear-gradient(top, #ffffff, #e6e6e6);\n\tbackground-image: linear-gradient(to bottom, #ffffff, #e6e6e6);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff',\n\t\tendColorstr='#ffe6e6e6', GradientType=0);\n\tborder-color: #e6e6e6 #e6e6e6 #bfbfbf;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #e6e6e6;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n\tborder: 1px solid #cccccc;\n\t*border: 0;\n\tborder-bottom-color: #b3b3b3;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n\t*margin-left: .3em;\n\t-webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n\t-moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n\tbox-shadow: inset 0 1px 0 rgba(255, 255, 255, .2), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n}\n\n.btn:hover,.btn:focus,.btn:active,.btn.active,.btn.disabled,.btn[disabled]\n\t{\n\tcolor: #333333;\n\tbackground-color: #e6e6e6;\n\t*background-color: #d9d9d9;\n}\n\n.btn:active,.btn.active {\n\tbackground-color: #cccccc \\9;\n}\n\n.btn:first-child {\n\t*margin-left: 0;\n}\n\n.btn:hover,.btn:focus {\n\tcolor: #333333;\n\ttext-decoration: none;\n\tbackground-position: 0 -15px;\n\t-webkit-transition: background-position 0.1s linear;\n\t-moz-transition: background-position 0.1s linear;\n\t-o-transition: background-position 0.1s linear;\n\ttransition: background-position 0.1s linear;\n}\n\n.btn:focus {\n\toutline: thin dotted #333;\n\toutline: 5px auto -webkit-focus-ring-color;\n\toutline-offset: -2px;\n}\n\n.btn.active,.btn:active {\n\tbackground-image: none;\n\toutline: 0;\n\t-webkit-box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n\t-moz-box-shadow: inset 0 2px 4px rgba(0, 0, 0, .15), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n\tbox-shadow: inset 0 2px 4px rgba(0, 0, 0, .15), 0 1px 2px\n\t\trgba(0, 0, 0, .05);\n}\n\n.btn.disabled,.btn[disabled] {\n\tcursor: default;\n\tbackground-image: none;\n\topacity: 0.65;\n\tfilter: alpha(opacity = 65);\n\t-webkit-box-shadow: none;\n\t-moz-box-shadow: none;\n\tbox-shadow: none;\n}\n\n.btn-large {\n\tpadding: 11px 19px;\n\tfont-size: 17.5px;\n\t-webkit-border-radius: 6px;\n\t-moz-border-radius: 6px;\n\tborder-radius: 6px;\n}\n\n.btn-large [class^=\"icon-\"],.btn-large [class*=\" icon-\"] {\n\tmargin-top: 4px;\n}\n\n.btn-small {\n\tpadding: 2px 10px;\n\tfont-size: 11.9px;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n.btn-small [class^=\"icon-\"],.btn-small [class*=\" icon-\"] {\n\tmargin-top: 0;\n}\n\n.btn-mini [class^=\"icon-\"],.btn-mini [class*=\" icon-\"] {\n\tmargin-top: -1px;\n}\n\n.btn-mini {\n\tpadding: 0 6px;\n\tfont-size: 10.5px;\n\t-webkit-border-radius: 3px;\n\t-moz-border-radius: 3px;\n\tborder-radius: 3px;\n}\n\n.btn-block {\n\tdisplay: block;\n\twidth: 100%;\n\tpadding-left: 0;\n\tpadding-right: 0;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.btn-block+.btn-block {\n\tmargin-top: 5px;\n}\n\ninput[type=\"submit\"].btn-block,input[type=\"reset\"].btn-block,input[type=\"button\"].btn-block\n\t{\n\twidth: 100%;\n}\n\n.btn-primary.active,.btn-warning.active,.btn-danger.active,.btn-success.active,.btn-info.active,.btn-inverse.active\n\t{\n\tcolor: rgba(255, 255, 255, 0.75);\n}\n\n.btn-primary {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #006dcc;\n\tbackground-image: -moz-linear-gradient(top, #0088cc, #0044cc);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc),\n\t\tto(#0044cc));\n\tbackground-image: -webkit-linear-gradient(top, #0088cc, #0044cc);\n\tbackground-image: -o-linear-gradient(top, #0088cc, #0044cc);\n\tbackground-image: linear-gradient(to bottom, #0088cc, #0044cc);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff0088cc',\n\t\tendColorstr='#ff0044cc', GradientType=0);\n\tborder-color: #0044cc #0044cc #002a80;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #0044cc;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-primary:hover,.btn-primary:focus,.btn-primary:active,.btn-primary.active,.btn-primary.disabled,.btn-primary[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #0044cc;\n\t*background-color: #003bb3;\n}\n\n.btn-primary:active,.btn-primary.active {\n\tbackground-color: #003399 \\9;\n}\n\n.btn-warning {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #faa732;\n\tbackground-image: -moz-linear-gradient(top, #fbb450, #f89406);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#fbb450),\n\t\tto(#f89406));\n\tbackground-image: -webkit-linear-gradient(top, #fbb450, #f89406);\n\tbackground-image: -o-linear-gradient(top, #fbb450, #f89406);\n\tbackground-image: linear-gradient(to bottom, #fbb450, #f89406);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#fffbb450',\n\t\tendColorstr='#fff89406', GradientType=0);\n\tborder-color: #f89406 #f89406 #ad6704;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #f89406;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-warning:hover,.btn-warning:focus,.btn-warning:active,.btn-warning.active,.btn-warning.disabled,.btn-warning[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #f89406;\n\t*background-color: #df8505;\n}\n\n.btn-warning:active,.btn-warning.active {\n\tbackground-color: #c67605 \\9;\n}\n\n.btn-danger {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #da4f49;\n\tbackground-image: -moz-linear-gradient(top, #ee5f5b, #bd362f);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ee5f5b),\n\t\tto(#bd362f));\n\tbackground-image: -webkit-linear-gradient(top, #ee5f5b, #bd362f);\n\tbackground-image: -o-linear-gradient(top, #ee5f5b, #bd362f);\n\tbackground-image: linear-gradient(to bottom, #ee5f5b, #bd362f);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffee5f5b',\n\t\tendColorstr='#ffbd362f', GradientType=0);\n\tborder-color: #bd362f #bd362f #802420;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #bd362f;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-danger:hover,.btn-danger:focus,.btn-danger:active,.btn-danger.active,.btn-danger.disabled,.btn-danger[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #bd362f;\n\t*background-color: #a9302a;\n}\n\n.btn-danger:active,.btn-danger.active {\n\tbackground-color: #942a25 \\9;\n}\n\n.btn-success {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #5bb75b;\n\tbackground-image: -moz-linear-gradient(top, #62c462, #51a351);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#62c462),\n\t\tto(#51a351));\n\tbackground-image: -webkit-linear-gradient(top, #62c462, #51a351);\n\tbackground-image: -o-linear-gradient(top, #62c462, #51a351);\n\tbackground-image: linear-gradient(to bottom, #62c462, #51a351);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff62c462',\n\t\tendColorstr='#ff51a351', GradientType=0);\n\tborder-color: #51a351 #51a351 #387038;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #51a351;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-success:hover,.btn-success:focus,.btn-success:active,.btn-success.active,.btn-success.disabled,.btn-success[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #51a351;\n\t*background-color: #499249;\n}\n\n.btn-success:active,.btn-success.active {\n\tbackground-color: #408140 \\9;\n}\n\n.btn-info {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #49afcd;\n\tbackground-image: -moz-linear-gradient(top, #5bc0de, #2f96b4);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#5bc0de),\n\t\tto(#2f96b4));\n\tbackground-image: -webkit-linear-gradient(top, #5bc0de, #2f96b4);\n\tbackground-image: -o-linear-gradient(top, #5bc0de, #2f96b4);\n\tbackground-image: linear-gradient(to bottom, #5bc0de, #2f96b4);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff5bc0de',\n\t\tendColorstr='#ff2f96b4', GradientType=0);\n\tborder-color: #2f96b4 #2f96b4 #1f6377;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #2f96b4;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-info:hover,.btn-info:focus,.btn-info:active,.btn-info.active,.btn-info.disabled,.btn-info[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #2f96b4;\n\t*background-color: #2a85a0;\n}\n\n.btn-info:active,.btn-info.active {\n\tbackground-color: #24748c \\9;\n}\n\n.btn-inverse {\n\tcolor: #ffffff;\n\ttext-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n\tbackground-color: #363636;\n\tbackground-image: -moz-linear-gradient(top, #444444, #222222);\n\tbackground-image: -webkit-gradient(linear, 0 0, 0 100%, from(#444444),\n\t\tto(#222222));\n\tbackground-image: -webkit-linear-gradient(top, #444444, #222222);\n\tbackground-image: -o-linear-gradient(top, #444444, #222222);\n\tbackground-image: linear-gradient(to bottom, #444444, #222222);\n\tbackground-repeat: repeat-x;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff444444',\n\t\tendColorstr='#ff222222', GradientType=0);\n\tborder-color: #222222 #222222 #000000;\n\tborder-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);\n\t*background-color: #222222;\n\tfilter: progid:DXImageTransform.Microsoft.gradient(enabled=  false);\n}\n\n.btn-inverse:hover,.btn-inverse:focus,.btn-inverse:active,.btn-inverse.active,.btn-inverse.disabled,.btn-inverse[disabled]\n\t{\n\tcolor: #ffffff;\n\tbackground-color: #222222;\n\t*background-color: #151515;\n}\n\n.btn-inverse:active,.btn-inverse.active {\n\tbackground-color: #080808 \\9;\n}\n\nbutton.btn,input[type=\"submit\"].btn {\n\t*padding-top: 3px;\n\t*padding-bottom: 3px;\n}\n\nbutton.btn::-moz-focus-inner,input[type=\"submit\"].btn::-moz-focus-inner\n\t{\n\tpadding: 0;\n\tborder: 0;\n}\n\nbutton.btn.btn-large,input[type=\"submit\"].btn.btn-large {\n\t*padding-top: 7px;\n\t*padding-bottom: 7px;\n}\n\nbutton.btn.btn-small,input[type=\"submit\"].btn.btn-small {\n\t*padding-top: 3px;\n\t*padding-bottom: 3px;\n}\n\nbutton.btn.btn-mini,input[type=\"submit\"].btn.btn-mini {\n\t*padding-top: 1px;\n\t*padding-bottom: 1px;\n}\n\n\n.btn .caret {\n\tmargin-top: 8px;\n\tmargin-left: 0;\n}\n\n.btn-large .caret {\n\tmargin-top: 6px;\n}\n\n.btn-large .caret {\n\tborder-left-width: 5px;\n\tborder-right-width: 5px;\n\tborder-top-width: 5px;\n}\n\n.btn-mini .caret,.btn-small .caret {\n\tmargin-top: 8px;\n}\n\n.dropup .btn-large .caret {\n\tborder-bottom-width: 5px;\n}\n\n.btn-primary .caret,.btn-warning .caret,.btn-danger .caret,.btn-info .caret,.btn-success .caret,.btn-inverse .caret\n\t{\n\tborder-top-color: #ffffff;\n\tborder-bottom-color: #ffffff;\n}\n\n\n.alert {\n\tfont-size: 14;\n\tpadding: 8px 21px 8px 19px;\n\ttext-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n\tbackground-color: #fcf8e3;\n\tborder: 1px solid #fbeed5;\n\t-webkit-border-radius: 4px;\n\t-moz-border-radius: 4px;\n\tborder-radius: 4px;\n}\n\n.alert,.alert h4 {\n\tcolor: #c09853;\n}\n\n.alert h4 {\n\tmargin: 0;\n}\n\n.alert .close {\n\tposition: relative;\n\ttop: -2px;\n\tright: -21px;\n\tline-height: 20px;\n}\n\n.alert-success {\n\tbackground-color: #dff0d8;\n\tborder-color: #d6e9c6;\n\tcolor: #468847;\n}\n\n.alert-success h4 {\n\tcolor: #468847;\n}\n\n.alert-danger,.alert-error {\n\tbackground-color: #f2dede;\n\tborder-color: #eed3d7;\n\tcolor: #b94a48;\n}\n\n.alert-danger h4,.alert-error h4 {\n\tcolor: #b94a48;\n}\n\n.alert-info {\n\tbackground-color: #d9edf7;\n\tborder-color: #bce8f1;\n\tcolor: #3a87ad;\n}\n\n.alert-info h4 {\n\tcolor: #3a87ad;\n}\n\n.alert-block {\n\tpadding-top: 14px;\n\tpadding-bottom: 14px;\n}\n\n.alert-block\u003ep,.alert-block\u003eul {\n\tmargin-bottom: 0;\n}\n\n.alert-block p+p {\n\tmargin-top: 5px;\n}\n\n.hero-unit {\n\tpadding: 60px;\n\tmargin-bottom: 30px;\n\tfont-size: 18px;\n\tfont-weight: 200;\n\tline-height: 30px;\n\tcolor: inherit;\n\tbackground-color: #eeeeee;\n\t-webkit-border-radius: 6px;\n\t-moz-border-radius: 6px;\n\tborder-radius: 6px;\n}\n\n.hero-unit h1 {\n\tmargin-bottom: 0;\n\tfont-size: 60px;\n\tline-height: 1;\n\tcolor: inherit;\n\tletter-spacing: -1px;\n}\n\n.hero-unit li {\n\tline-height: 30px;\n}\n\n\n\n\n.close {\n\tfloat: right;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tline-height: 20px;\n\tcolor: #000000;\n\ttext-shadow: 0 1px 0 #ffffff;\n\topacity: 0.2;\n\tfilter: alpha(opacity = 20);\n}\n\n.close:hover,.close:focus {\n\tcolor: #000000;\n\ttext-decoration: none;\n\tcursor: pointer;\n\topacity: 0.4;\n\tfilter: alpha(opacity = 40);\n}\n\nbutton.close {\n\tpadding: 0;\n\tcursor: pointer;\n\tbackground: transparent;\n\tborder: 0;\n\t-webkit-appearance: none;\n}\n\n\n\n\n\n*[x-menu-panel]{display: none;}\n\n\n* [x-st-menu-item] {\n\twhite-space:nowrap;\n}\n\n\n\n* [x-st-menu] {\n\twhite-space:nowrap;\n}\n\n\n.menu1_selected,.menu-buttons90_selected,.menu-buttons120_selected,.menu2_selected,\n.menu3_selected,.menu-buttons_selected{cursor: default;}\n\n/** menu 3*/\n\n.menu1_out{\n\tcolor: #999;\n}\n.menu1_over, .menu1_selected{\n\tcolor: #fff;\t\n}\n\n\n/** menu-butons*/\n.menu-buttons90_out, .menu-buttons90_out h2, .menu-buttons90_out a, \n.menu-buttons90_over, .menu-buttons90_over h2, .menu-buttons90_over a, .menu-buttons90_selected{\nwidth: 100px;\n}\n\n.menu-buttons120_out, .menu-buttons120_out h2, .menu-buttons120_out a, \n.menu-buttons120_over, .menu-buttons120_over h2, .menu-buttons120_over a, .menu-buttons120_selected{\nwidth: 120px;\n}\n\n.menu-buttons60_out, .menu-buttons60_out h2, .menu-buttons60_out a, \n.menu-buttons60_over, .menu-buttons60_over h2, .menu-buttons60_over a, .menu-buttons60_selected{\nwidth: 60px;\n}\n\n.menu-buttons60_out, .menu-buttons60_out h2, .menu-buttons60_out a, \n.menu-buttons60_over, .menu-buttons60_over h2, .menu-buttons60_over a, .menu-buttons60_selected,\t\n\n.menu-buttons90_out, .menu-buttons90_out h2, .menu-buttons90_out a, \n.menu-buttons90_over, .menu-buttons90_over h2, .menu-buttons90_over a, .menu-buttons90_selected,\n\n.menu-buttons120_out, .menu-buttons120_out h2, .menu-buttons120_out a, \n.menu-buttons120_over, .menu-buttons120_over h2, .menu-buttons120_over a, .menu-buttons120_selected,\n\n.menu-buttons_out, .menu-buttons_out h2, .menu-buttons_out a, \n.menu-buttons_over, .menu-buttons_over h2, .menu-buttons_over a, .menu-buttons_selected{\n    border-radius: 3px;\n    background-color: #999999;\n    color: #FFFFFF;\n    display: inline-block;\n    font-size: 11.844px;\n    font-weight: bold;\n    line-height: 14px;\n    padding: 8px 6px;\n    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n    vertical-align: baseline;\n    white-space: nowrap;    \n}\n\n.menu-buttons60_over, .menu-buttons60_over h2, .menu-buttons60_over a, .menu-buttons60_selected,\n.menu-buttons90_over, .menu-buttons90_over h2, .menu-buttons90_over a, .menu-buttons90_selected,\n.menu-buttons120_over, .menu-buttons120_over h2, .menu-buttons120_over a, .menu-buttons120_selected,\n.menu-buttons_over, .menu-buttons_over h2, .menu-buttons_over a, .menu-buttons_selected{\n\tbackground-color: #3A87AD;\n\tcursor: pointer;\t\n}\n.menu-buttons60_selected, .menu-buttons60_selected h2, .menu-buttons60_selected a, \n.menu-buttons90_selected, .menu-buttons90_selected h2, .menu-buttons90_selected a, \n.menu-buttons120_selected, .menu-buttons120_selected h2, .menu-buttons120_selected a, \n.menu1_selected, .menu2_selected, .menu3_selected, .menu-buttons_selected{\n\tcursor: default;\n} \n\n\n/** menu 3*/\n\n.menu2_out, .menu2_out h2, .menu2_out a{\n\tcolor: #aaaaaa;\n}\n\n.menu2_over, .menu2_over h2, .menu2_over a, .menu2_selected{\n\tcolor: #555;\t\n}\n\n/** menu 3*/\n\n.menu3_out{\n\tcolor: #aaaaaa;\t\n}\n\n.menu3_out, .menu3_over, .menu3_selected {\n\tpadding-top: 11px;\n\tpadding-bottom: 11px;\t\t\n\tfont-size: 31.5px;\n    line-height: 40px;\n    text-align: center;\n}\n\n\n.menu3_out, .menu3_over{\n\tborder-top: 0px solid white;\n\tborder-left: 0px solid white;\n\tborder-right: 0px solid white;\n\tborder-bottom: 1px solid #ddd;\n/* \tborder-color: #ddd;\t \n\tpadding-left: 20px;\n\tpadding-right: 20px;\t*/\n}\n\n.menu3_over,  .menu3_selected{\n\tcolor: #555;\t\t\n\t\n}\n\n.menu3_selected{\n\tborder-top: 1px solid #ddd;\n\tborder-left: 1px solid #ddd;\n\tborder-right: 1px solid #ddd;\n\tborder-bottom: 0px solid white;\n/* \tborder-color: #ddd;\t \n\tpadding-left: 20px;\n\tpadding-right: 20px;*/\n}\n\n/** menu4*/\n\n.menu4_out{\n\tcolor: #aaaaaa;\t\n}\n\n.menu4_out, .menu4_over, .menu4_selected {\n\tpadding-top: 11px;\n\tpadding-bottom: 11px;\t\t\n\tfont-size: 16;\n    text-align: center;\n    white-space: nowrap;\n    font-weight: bold;\n}\n\n\n.menu4_out, .menu4_over{\n\tborder-top: 1px solid white;\n\tborder-left: 1px solid white;\n\tborder-right: 0px solid white;\n\tborder-bottom: 1px solid #ddd;\n}\n\n.menu4_over,  .menu4_selected{\n\tcolor: #555;\t\t\t\n}\n\n.menu4_selected{\n\tborder-top: 1px solid #ddd;\n\tborder-left: 1px solid #ddd;\n\tborder-right: 1px solid #ccc;\n\tborder-bottom: 1px solid white;\n}\n\n.menu4_out, .menu4_over, .menu3_over, .menu1_over, .menu2_over{\n\ttext-decoration: none; cursor: pointer;\n}\n\n\n\n\n/** end menu4*/\n\n.simple-menu td {\n\tpadding: 8px;\n}\n\n.simple-menu {\n\tborder: 1px solid;\n\tborder-color: #ddd;\n\tborder-radius: 9px;\n\tbackground-color: #eee ;\n}\n\n.menu-buttons-container td{\n\tpadding: 18px, 6px;\n}\n\n\n.mainCurrenciesClass{border-color: #222; background-color: #222; color: green; font-size: 10;font-weight: normal; margin-left: 0px;}\n\n.mainRatesClass{color: green; font-size: 12;}\n\n.shopSellerNickClass{color: green; font-size:16; font-weight: bold; padding: 4px; padding-left: 8px; padding-right: 8px;}\n\n.description800{font-size: 14; font-family: verdana; width: 800px;}\n\n.info-small{color: gray; font-size: 12;}\n\npre {\n    white-space: -moz-pre-wrap; /* Mozilla, supported since 1999 */\n    white-space: -pre-wrap; /* Opera */\n    white-space: -o-pre-wrap; /* Opera */\n    white-space: pre-wrap; /* CSS3 - Text module (Candidate Recommendation) http://www.w3.org/TR/css3-text/#white-space */\n    word-wrap: break-word; /* IE 5.5+ */\n}\n\ncode{\n  font-size: medium; padding: 6px; background-color: #ddd; border-radius: 6px; margin: 6px;\n}\n\n.itemAlert{border: 4px solid #ffcfcf; margin-right: 6px; border-radius: 9px;}\n\n\n.itemView{border: 4px solid #fff; margin-right: 6px; border-radius: 9px;}\n.itemView:hover{border: 4px solid #ddd; margin-right: 6px; border-radius: 9px;}\n\n.pageArrow{color: lightsteelblue; font-size:24;}\n.pageArrow:hover{color: steelblue; font-size:24; cursor: pointer;}\n\n.green{color: green;}\n\n\n*[x-menu-selector]{\ncursor: pointer;\t\n}\n\n\n.border_top{\n\tborder-top: 1px solid #ddd;\n}\n.border_top2{\n\tborder-top: 3px solid #ddd;\n}\n\n.table8 {\n\twidth: 100%;\n}\n\n.table8 th,.table8 td {\n\tpadding: 8px;\n\tline-height: 20px;\t\n\n}\n\n.table6 {\n\twidth: 100%;\n}\n\n.table6 th,.table6 td {\n\tpadding: 6px;\n\tline-height: 18px;\n}\n\n.head-left th{\ntext-align: left;\n}\n.head-right th{\ntext-align: right;\n}\n\n\n\n\n\n\n\n.help{cursor: help;}\n\n.rateUp{color: darkgreen; font-weight: bold;}\n.rateDown{color: indianred; font-weight: bold;}\n\n.width400{width: 400px;}\n.width500{width: 500px;}\n.height400{height: 400px;}\n.height200{height: 200px;}\n.height100{height: 100px;}\n.height40{height: 40px;}\n.height50{height: 50px;}\n.height60{height: 60px;}\n \n.animate-show {\n  -webkit-transition:all linear 0.6s;\n  transition:all linear 0.6s;\n  opacity:1;\n  background:white;\n  display:block!important;\n}\n\n.animate-show.ng-hide-add,\n.animate-show.ng-hide-remove {\n  display:block!important;\n}\n\n.animate-show.ng-hide {\n  opacity:0;\n  height: 0px;\n  z-index: -2;\n  position: relative;\n}\n\n\n.h1 {font-size: 38.5px;}\n.h2 {font-size: 31.5px;}\n.h3 {font-size: 24.5px;}\n.h4 {font-size: 17.5px;}\n.h5 {font-size: 14px;}\n.h6 {font-size: 11.9px;}\n.h3,.h4,.h5,.h6,.h1,.h2{font-weight: bold;}\n\n\n.left{text-align: left;}\n\n.changed{font-family: \"courier\"; font-size: 16; font-weight: bold; color: indianred;}\n\n.u{text-decoration: underline;}\n\nselect{ border: 1px solid; \nline-height: 20px;\npadding: 2px 2px;\nborder-radius: 4px; border-color: #ccc; display: inline-block;\n}\n\n\n\n/* a{text-decoration: none;}\na[href^=\"javascript:\"], a[x-ng-click] {color: steelblue;}\na:hover[href^=\"javascript:\"], a:hover[x-ng-click] {color: cornflowerblue; cursor: pointer:} */\n\na, a:visited , a:hover {text-decoration: underline;}\na{color: steelblue;}\na:hover{color: cornflowerblue; cursor: pointer:}\n\n\n.command, .command:hover{cursor: pointer;}\n.command{color: steelblue;}\n.command:hover{color: cornflowerblue;}\n\n\n.font13{font-size: 13;}\n\n\n.nobr{white-space:nowrap;}\n.pre{white-space:pre;}\n.center{text-align: center;}\n.right{text-align: right;}\n\n.nowhere{\n\tdisplay: none;\n\t/*position: absolute;*/\n}\n\n.round{\n\tborder-radius: 6px;\n}\n.round9{\n\tborder-radius: 9px;\n\tpadding: 9px;\n}\n\n.left-round{padding: 3px;\n\tborder-radius: 6px 0 0 6px;\n\tpadding-left: 6px;\n}\n.right-round{padding: 3px;\n\tborder-radius: 0 6px  6px 0;\n\tpadding-right: 6px;\n}\n\n\n.padded-3{\n\tpadding: 3px;\n}\n.padded-6{\n\tpadding: 6px;\n}\n\n.tpadded-3 td, .tpadded-3 th{\n\tpadding: 3px;\n}\n.tpadded-6 td, .tpadded-6 th{\n\tpadding: 6px;\n}\n\n.main {\n\t\n}\n\n.container .credit {\n\tmargin: 20px 0;\n}\n\nhtml,body {\n\tmargin: 0;\n\tpadding: 0;\n\theight: 100%;\n}\n\n#bodyDiv {\n\tmin-height: 100%;\n\tposition: relative;\n}\n\n\n\n\n\n#footer1 p{\tpadding-top: 16px;}\n\n\n\n\n.galka_green {\n width:20px; height: 20px;\n background-repeat: no-repeat;\n    background-image: url(\"data:image/gif;base64,R0lGODlhEgAQAPesAP38/ff59/v7/CuPAx51CKLVdTqEIRxzBw1OC5q1kly3NVy3Nw1GDRJWDzSFFg9ZBzCDDTKEEqy8rP7+/qm9p5LMY0XDDEK6C0aMKTKKGkfADiKBBUWKKjOXCKi6pKe+o0qWMTywCk6oH1PJGkycF2ikRBVdEXy2UTaYDiF3DOXs31fBIP39/VOCUxVmB/z8/Fe4HGK0H1KkNeLr4Obs5O/z7GLFKW3AKfv7+0LBB/n4+j+2C5+8l2afUfn5+UOxETh/J62+rYCsb/L18Gu1NYfCVpS0hziKFG2jWkWJMmG/ObTBs43IW7DDsZ62mObw32PDOqDBl/z7/KK8nB5tFHCact/p3SqPAw1NCk+lLtfk0yaDBwpUBhBSDv///whACFauMySCBTikCi2EDnnIOlSpNk+SNGHBOPb49Vu9I1CxHJW4hEScFojQSDKJEZOqkzeWDZvAjlvHIpmsmVTSGlHLFk+fKmapPUW4EHWtWJy9kLfEt0ONKgNAAk+tGtTf0Hy2V/H17YnEWwpJCnC9Mvr5+iyACvj69xNmBzGFCSqGEPr5+yp6FjyiDSBdHIzWUJbPZxRdDEm7FUeYKQdBCAI/Ai+PCGCRYOvv6DurCPf291KhNBloDPz8/T6lEZu9kezz5zWfCWOiR8vdxEGvDhNSD0GaIVCVN97n2HnLNTuWGoiuh////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAKwALAAAAAASABAAAAjmAFkJHEhwoBcrAQoqJKgFySc0BBMuRJVHlBkhhwSO6kFDoQpAd045iBCF1R8MiUpgIvikCBE7bsYAuTSDA4QjJE7UEAiKCSERKOAk6dNilQFDW9jEEDQkECQyakJ5AjGI0pIqDfhY6uDnRoUCbdJk+rEJQaU5L5p8cTSpkRgYqR7Z2CEpSxcGb3ywmhAEiwkZpEKskJNjRBkupfbgGMiCwgMqYPBcsEBnAaJIEgAUBPDBBSMFGuooScHJg2aFnaYcyADljCICTgQsFCiAxwZTqsIkKDR7oBQ9VwYY0dGb4KI4azTNDggAOw==\");\n}\n\n\n\ntextarea, input[type=\"text\"], input[type=\"password\"] {\n    background-color: #FFFFFF;\n    border: 1px solid #CCCCCC;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset;\n    transition: border 0.2s linear 0s, box-shadow 0.2s linear 0s;\n    border-radius: 4px 4px 4px 4px;\n    color: #555555;\n    display: inline-block;\n    font-size: 14px;    \n    line-height: 20px;\n    margin-bottom: 0px;\n    padding: 4px 6px;\n    vertical-align: middle;\n}\n\n\n\ntextarea[disabled], input[disabled] {\n\tbackground-color: #dddddd;\n}\n\ntextarea:focus, input[type=\"text\"]:focus, input[type=\"password\"]:focus {\n  border-color: rgba(82, 168, 236, 0.8);\n  outline: 0;\n  outline: thin dotted \\9;\n  /* IE6-9 */\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);\n     -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);\n          box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);\n}\n\n\n\n.time{\n\twidth: 16px;\n\theight: 16px;\n\tbackground-image: url('../img/time.png'); \t\n}\n\n\n.label,\n.badge {\n  display: inline-block;\n  color: #ffffff;\n  vertical-align: baseline;\n  white-space: nowrap;\n  background-color: #999999;\n}\n\n\n.label{\n  padding: 2px 4px;\n  font-size: 11.844px;\n  font-weight: bold;\n  line-height: 14px;\n  text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);\n  \n}\n\n.badge {\n  padding: 2px 2px;\n  font-size: 10;\n}\n\n\n.label {\n  -webkit-border-radius: 3px;\n  -moz-border-radius: 3px;\n  border-radius: 3px;\n}\n.badge {\n  padding-left: 9px;\n  padding-right: 9px;\n  -webkit-border-radius: 9px;\n  -moz-border-radius: 9px;\n  border-radius: 9px;\n}\n.label:empty,\n.badge:empty {\n  display: none;\n}\na.label:hover,\na.label:focus,\na.badge:hover,\na.badge:focus {\n  color: #ffffff;\n  text-decoration: none;\n  cursor: pointer;\n}\n.label-important,\n.badge-important {\n  background-color: #b94a48;\n}\n.label-important[href],\n.badge-important[href] {\n  background-color: #953b39;\n}\n.label-warning,\n.badge-warning {\n  background-color: #f89406;\n}\n.label-warning[href],\n.badge-warning[href] {\n  background-color: #c67605;\n}\n.label-success,\n.badge-success {\n  background-color: #468847;\n}\n.label-success[href],\n.badge-success[href] {\n  background-color: #356635;\n}\n.label-info,\n.badge-info {\n  background-color: #3a87ad;\n}\n.label-info[href],\n.badge-info[href] {\n  background-color: #2d6987;\n}\n.label-inverse,\n.badge-inverse {\n  background-color: #333333;\n}\n.label-inverse[href],\n.badge-inverse[href] {\n  background-color: #1a1a1a;\n}\n.btn .label,\n.btn .badge {\n  position: relative;\n  top: -1px;\n}\n\n\n\n/** from header.jsp*/\n.brand {\n\tcolor: #ffffff;\n\tfont-size: 16;\n\tfont-weight: bolder;\n}\n.brand-cell {\n\tcursor: pointer; width: 90px; height: 40px; padding-left: 25px;\n}\n.forum-cell {\n\t_padding-left: 15px;\n}\n\n.header-div {\n\theight: 40px; width: 100%; position: fixed; \t\n\tbackground-repeat: repeat-x, repeat-y;\n\tz-index: 10; \n}\n\n.header-div, #langsMenu {\t\nbackground-color: #222;\n}\n\n\n#header1 {\n\t\n}\n\n\n#footer1 {\n \t/*position: absolute; #bbccbb*/\n\tbackground: #222;\n\tbottom: 0;\n\twidth: 100%;\n\theight: 60px; /* Height of the footer */\n\n\tbackground-repeat: repeat-x, repeat-y;\n\tpadding-left: 60px;\n\tcolor: #999;\t\n}\n\n\n.small-header-menu{ font-size: 14; padding-left: 9px;}\n.large-header-menu{ font-size: 16; padding-left: 16px;}\n.header-user{width: 10px; padding-left: 6px;}\n.menu-main {width: 1200px; height: 40px;}\n.connectCell{width: 16px;}\n\n/** langs */\n\n#langsMenu {\t\n\tbackground-repeat: repeat-y;\n\tposition: absolute; padding-top: 10px;\t\n}\n\n\n.ru_lang{\n    background-image: url(\"data:image/gif;base64,R0lGODlhEgANAJEAAMwzAP///wBmzAAAACwAAAAAEgANAAACGIyPqcvtr4SctNqLs94W+A+G4kiW5omiBQA7\");\n \n}\n.en_lang{\n background-image: url(\"data:image/gif;base64,R0lGODlhEgANAJEAADtao5+v0r4AJ////ywAAAAAEgANAAACKIRvossw99yYlCLEsghm8FeFD2eQWhM5nWiV2KmwMgXXwjzbMC7rZwEAOw==\");\n}\n\n.loading{\n   width: 24px; height: 24px;\"\n   background-repeat: no-repeat;\n   background-image: url(\"data:image/gif;base64,R0lGODlhGAAYAPQAAP///xMPD9HQ0Pr6+uLh4bW0tOnp6ZaUlMzLy6Ohodra2q6trcTDw/Ly8oB+fo6Njb28vHNwcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==\");\n}\n\n\n.lock{\n   width: 16px; height: 16px;\"\n   background-repeat: no-repeat;\n   background-image: url(\n   \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAatJREFUeNqkk80rRFEUwM+9Hmahxobku+xYSUpmkqRYjYgaZGeBlGjyVf4OtjZ2vkrYkDAzPppISTRKWYgYYYZ5782849zHmxlj3mzm1u927zmnc+75uAwRIZMliY0xZtxLiTYinwgQ28SDUJgGMhSc86nunl55dW0DD91HuLyyjo6Ori9yPmrYpcJw0DfumkXPyRlOuKbR2TeAkzNzeOy7wKGRMY30jrQOSssqzrd2PVhX3/BExo1EHtFsb2p53dxxY0Fh0YGZAy7Cl5RX1jy/BMB3erREVw8RJPa8nv3l94+QCFBtWkTK0V5bb5MYipeCk6gi/OKiRaNfiqqI+nDTNrTa4D58Bahc/0e9AYz6uX4e6QeVzK3JKUglVsjLFQ0zHQdNz7PMqrfcQrwlajlEaZcJ5QdNZTBP3Q+GWEymo6Z2zykAYITHUIISLCxK8PqY/UcOGktdRIxkgRaWwBjGHGLQboFiqwwoZ8cTkbWUz5BQzdINkcWLMNypgS5PnFjFxIH/AQO3/tx8xtN/qsu7T1GpULJcPFwMSfvvOd3yiiFL/lQs0+/8LcAAuT4J7bzIXREAAAAASUVORK5CYII=\"\n   );\n}\n\n.unlock{\n   width: 16px; height: 16px;\"\n   background-repeat: no-repeat;\n   background-image: url(\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABy0lEQVR42mNkoBAwEqlOBojdgVgAiN8B8Q4gfk6UAUxMTOVBweFN0dHRbKKiIgwvX75kWLhw4Y/Nm9aX/v//fwohA6IKS6qWhoaFMqxZtZLh2bOnDHLyCgzBIaEM8+fO/T9j2sQAvAbIyMpfmL1wuX5NedHrs6dPBACFLgGxiY2d0/qq+maB+MjgI3gNMLe2/51TUMoSG+ozEcgtgIkzs7DMWbpmW3Jnc+07kAE2QByELTwMTa0LikvLGWLC/E4Due1AvB4ccIyMkxeu2pwzsav1A6OLNcPjLXMYZJiYsEQRIzgQGf7+/cdQ0MTwZ9pSBhGg8EcgblVS1Ux6+fzpR8Z4L4b3C6qB0fMff2h2LGNgqJzGIAFkvkSxJN4daEA5OH7B4B/Q2pl7/zPE2jIy8LAiTO1YDjRgNjYDXBnezy9lghvw8yczg3nWf4YtrUwMMhJ/4Ao7V/5nqJz7H9OAOEfm9/MKWQQYkYJw6jIOhqyInwyMTEguWPmPoXrJb0wDYm3Y3s/LZxNgYEQKhH/AEGX6hxIGnav+MdSs+o5pgKUy6935KXxKyLZhAw1rv/1cfuoHKBa+oBgAxFpA7MFAOF8cB+JjGFHNQCEAACU2lnr1jP9AAAAAAElFTkSuQmCC\");\n}\n\n.tryRemoveButton{\nbackground-image: url(\"data:image/gif;base64,R0lGODlhEAAQALMPAJymxqSsyaiyzb3G25ehuq+707K+1bW/09TS2qaoycG8yqOoytPN0svN3uXg4v///yH5BAEAAA8ALAAAAAAQABAAAARc8MlJq73XJVVVcpRWbJM3ghKzNE0iMMLaLAylrMOxFM2wcJUDYEAkAg4YgOCQEwAwD6VhGnheDoSCVktABrOFBWFX6FIQ4C4Cy0VMHISAWYKVoyRw7wR7h/r/DxEAOw==\");\n}\n\n.tryRemoveButton:hover{\nbackground-image: url(\"data:image/gif;base64,R0lGODlhEAAQANUAAAo/8GyO+W+N+G2N+G+N9xZF7CBP7R9O7QxD5Shd9Cdd9A9F1yVY8EiC/1mK/liI/liK/lqJ/Q9Fzw9G0Q9F0A5G2UeC/xBGyTR4/DN3/Dx+/jt9/kuB8LGn0TAx41VO1yUy6ygx6Ccw6JB2wRoz8sGguxA19xE49xA39wk590Zj9YOP7wo79zRh/oKS8YOR79zDy////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADEALAAAAAAQABAAAAZ8wJhwSCwaj0eYZ1QceWBEWKgVYgpHohYIKiyRXCvSp/QhvcIl4ghFEKhMqkHgZCVyWBHIw/FIcZAACg0NFgkASDEIDBsaGgwISBwVGJSUC39FHBOUBRIFGBkUmEIdF6AXHB0cphkXHUMwFwaoQ6sHF1xCsaNCq7mIwMExQQA7\");\n}\n\n.removeButton,  .removeButtonSmall {\nbackground-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQAAMGrrMawscSur76pqrWhorSgocWwsdG+v9XDxNXExbGbncy2uLOeoLKdn865u9G+wL+xr76wrr2trLurqr6urcy9vLuqqsq4uNnJydzNzdzOzsLBwf///wAAAAAAAAAAACH5BAEAABwALAAAAAAQABAAAAVaICeOZGme56aW6kZu0AW5IizT3BZpWdTuPVxOgsFUJJUiRVizJBBQxIQ52hgOh0eAWhU4vgJujrAolwvUDaM8aAzKDOFGUVa06At7VQHQ1/h+NSsvgyiGhyUhADs=\");\n}\n\n.removeButton:hover,   .removeButtonSmall:hover{\nbackground-image: url(\"data:image/gif;base64,R0lGODlhEAAQANUAAMczNfRxdPRzdPNydPNzddgqL+AsNN8sM8cpMOY2PuU2PsUgK+UwOfJVYPRja/NjavNja/Nka8UYJ8YZKMUZJ8YgLPJUYMUTJfE/UvA/UfJIWPFIWNRldN+cqMpdSc5uXspXRspYRslYRtWIfMlQQ9ymoMlHPslHP8hHP8c9OeBhW/WBfcc9OuNST/WAfvSAfuPExP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADEALAAAAAAQABAAAAZ8wJhwSCwaj0eYZ1QceWBEWKgVYgpHohYIKiyRXCvSp/QhvcIl4ghFEKhMqkHgZCVyWBHIw/FIcZAACg0NFgkASDEIDBsaGgwISBwVGJSUC39FHBOUBRIFGBkUmEIdF6AXHB0cphkXHUMwFwaoQ6sHF1xCsaNCq7mIwMExQQA7\");\n}\n\n.memorizeButton, .memorizedButton:hover{\nbackground-image: url(\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAhBJREFUeNp0U0FrE1EQfvP29RKq3Ui1tNJDUbz5AwTBS3tq7l68lJI/UM8FEY/5AQW9WPHowbMnIZCDRQitFQtV25I0Lom6yW7iJjvvOfO6u26XODBv981838y8efOgVquJVFZuzCsQovTV6/bFFLm9cN01xoTHXneS2hQvd5eXrrilUk0CPCItLV8rn6DRz+pfjl+w//6dWxsOwDYArJCObpbd1/5o9Lh52urD21cvZxbdufczyrmnpBQCQFAWgVqLSYxPiK+Vcp5SYEFBMn80iRveYPBALbhXq8q5IEtSgghDICaQbNsyHcfuISmb/Zxwfna2qoiyDnD5rLwFBjnEJJFFQGKjeteVoQSGo7JSaSIBQ4FocmTGaVLmSvocGJ0ZrNOk/wVy5vuHOZDDaLyrSWxUapzJBRK5yvIJkJW6/Gc82ZUfv581UZgdMlgQq0gy6Fw1qQ1tIvvd+fDtpCnZ5/mDLTLUdXIULJAyYkKOEeu9INiyzeTlqONFvUFQoar2GJBmz0i5ioi892s4rBy2OlEWgOWw3fF7Qbgaa93gIcoHsiVfDFaDJnB1/6ztZ9eZv9tPrXO/GwRrqM07tA21p7Bktv0MwjUaX//SPBQH5HOrE/7o9yv0Ft4gorBK/xS4QgnCIl5Ne3VH5944Rv1wqTz3PGlylfqE07BTA7DQk8ZRNN7kkW7/9s3/cH8FGAAW7ZLXAOKKZAAAAABJRU5ErkJggg==\");\n}\n\n.memorizeButton:hover, .memorizedButton{\nbackground-image: url(\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAjxJREFUeNqUU81rE1EQn/eRlyI2tqniR1sxCQjWixcPnupBqJBjEQ+iqHjx4yboRaj0fxAqeioIKtSDogiSgiAEQbSVIPhBLQihwYsx2U22eW+e8zZvdakf4MC8nTczv9987C5ASi7nhbySFzn4i8yMiKFrIyLzW+D2DjlYK6ibn4oqWC0p+6GoVt8W1LkkvrQnc+Z9Ua2sUOxzSYXviurWnZ0yLsRmt4rMsZx4nudwaLNgwKyFngUISL8hXKcrDgmY3cQAFCkn0DrFGgaqj9s4yV4X1IVtHG4ME3iAoo6A4qDpaCIYJHsLB5HxYCeWMWgaC3UNF2UWoOyCcYBAznTqfMMERG+nxeVJIlHMlqWzDTnRa5LrntQUiASUero8j5GcjpqbWXsndQZo+0lpkPUx43MjSqIxa/xjhPMRLYo0Xk5C5Eh+VrP9nTh/DCY7JExd23k+XdfL5JjrEGId+29AeyLtKxpv93yRgJwhwtzUl95yPOKYhEpJ8cO0l92MjqR1twiEFCE5OuT4jvCiEuKJpwGamGAxtGZ/lj0YlewIYXbFJPbX/K5yj3yu9RbCq5cdPHq+oQMXT5YMTwKMDgyw+9slmySC8aQN4z+ciKq3ja2+6eLU6TXdTHAi/X4ftTHam2V3xyQ7SNdSQtAlgo5lz6odLJ9d0600Rmz8L2iu3miG3SsqNkHXCd0nWKgEOH2pobsb88Wf/rrFEA19vgv7snycCJYetsypq1+Nhv+V44Ocncxx9q+cHwIMAE2VEZzv0ie2AAAAAElFTkSuQmCC\");\n}\n\n\n.removeButton, .removeButtonSmall, .tryRemoveButton, .memorizeButton, .memorizedButton {\nwidth: 16px; height: 16px;\nbackground-repeat: no-repeat;\ncursor: pointer;\n}\n\n\n.edit16  {\nwidth: 16px !important;\nheight: 16px !important;\t\nbackground-image: url(\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArZJREFUeNp0U81LVFEUP+fe9+GbUWdGF4EFmqaZSpYELkpwV7s2Ldr2BxgUQasgw4VgqxYt2ga2qE0gURjVTtsUQUEWyZCiNjrmfL1597370Xkzk31MPfjBu++dc36/8zv3oDEGVh4+gP89ohw4suLPIGctLmOznLENoRREQgBQLsYFKrtfmjORwDisLn28trX8es5OeNCaSLxPuu6UVOpV2CjA4lgdiWaEBBGMpQYHpzMnT4GIQrNXKIwUfH9Baz3doKgr8LeWmxUYdFUYPBWRP8k7hkxxS2D25aIJ8nlMJJMbCc5PU1SW/bNxRCCWK0IUJ0VpDcqrjyHZvm2GLlyEzOAwhCKcl1JnldRg1RPkL2JNiNh4KIq3wiAfFzNKCQi+vQX0NvHQmRMr69XdGVsEgIw1CvzhHbZJ6d8V1ZxN75QcgeW0A+ceRuVswTaVSz0TXQWjdS2e/S1dyeimX8mNxVKQphBbbTspVFrQGWcR7CUtDRhVB6s7mSR4oAJxvlrOX9ZRhVhTRsoq2G4GtVE0qnCRMz5L/QHqYB/WT2Yw0BlWi3PCz1ktbV1GywAtyyPpLpn2PWdbOIXoUFwZMCrGw49z6gUYw1jouLHS/W4y7ouB0ipWATIsxj7eIP0riIr+SBCmA0p8uOZYXYHhDt2HI5bXCZzYpb8BnBok9xExmm9xrXuM6CQkoWrSUNI9xO/UhNcVOI5HZnTHqpRm6Kb7wIrKUN35sMbQXEfUUFDdEEAnsaeAQwSM1OwruP/oecKxrd6R4X44drSP+rYka+16kcwcuCpEsJ7fKcJeQdF3TslhY2T1AdYKSG17m+vbfW/efYJzZyeejI4ev4NMPYsZcrm9eGeAM9o8UE2Xtlagt/dw2nHszwMDA7e51bqQ/Zov0fkgQ7Q5Z3GvUbzZjZzwN5gfAgwAcbtnqpiZcI4AAAAASUVORK5CYII=\");\nbackground-repeat: no-repeat;\ncursor: pointer;\n}\n\n.edit16:hover  {\nwidth: 16px !important;\nheight: 16px !important;\t\nbackground-image: url(\"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAutJREFUeNp0U1tIFFEY/s6ZObM7u5qbl8oMtItQJBFCGURkRb0khEQhPRT1GgZdoIcuWEgJ1otFDz1HD9FTNwohqxdLorBczLTYqF1W29SZdWbnfjrubilhh/kHBv7v8n//GcI5x0Drbix4CMFMclpxJ352ElkOxxSli1Ga0mwbhq4XWmYJzOTjhbDgkoKXVx6e+dJzo1stK0P14sVDS6LRdtN1X2Q1Ld8nz76CGX1BA5xIjeUHDl7SdR/pO7d5wjQajKoljypU9TohpEOI87wDjF39R16Uh5CXnXqq25PNubrDPNlvkMHzp7kxMkwqy8tT5YxtFV0J+p/h4fv+SdNINfuZPsivW7Fy/Vu+7f5DLN1/CDPZ3F3XsBOe6RRGADXnlF3xmLTJNlKXbeMTAsK462WhDN9ENDZAGi4eHxnLDHdGtQyoJBUJwOep01LPmrxl6R+ZmJMHAiyHakBDVUT51atV++mj1d0bNM7dQvecdKEcK9dhTn9o5IEjPtlsxFyJ1BHP1YQiukAj/a4F+MUqOPCWCRMOfDOxz5hKnHCdNMKl67iVHYYSrSdB4EIK9F5ZZl3ghuDMiH5vbo15I5xW5LLJbkt/L27MJh64OmFKBSQWg2uMTkRU0k5pKbj/AzT4KhD+PAKJibBCTZa0uj4UCyCTMByhIqu18HLfQal7AUQaocQDk0yMew0Yco/l4QUCIiviTq6RFjWIwLZwrr2BzO2CC8m4W1Ki3qYkgOEvR8pei7i9Fw6JgRJeJFBLVMpRW8ooLF8mpKYFJJeE/e3O9xC8s5S4iGf3Iu2sx7hTD1WeES4tETkpELQc6Y5E1fCqttZmtLTsgMxCHqnc/DyyauOpnD71Y/BzGnGNgDEGVdIEjBa3VsxAt6Pqu/jo6nsPXqHj3PiTQ21tPWD+swASPsbHEQRAmAXiB7P/Av+cPMGundtjZYsio5V7dl8joRWP+voT2UgkXCNRsQhFBDU7A2AXwc684r8FGACYWlBRGYzJKQAAAABJRU5ErkJggg==\");\nbackground-repeat: no-repeat;\ncursor: pointer;\n}\n\n.green_plus{\n\tcursor: pointer;\n\theight: 20px;\n    background-repeat: no-repeat;\n    background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQXAPz8/LfKpPX19aS6jfj4+MXWtf7+/sHSsLLGnrzOqv39/fLy8vn5+e/v7+vr6+jo6Pr6+vb29vPz86K5jK3Cmai+k4qae////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABcALAAAAAAQABAAAAVQ4CWOZGleVmqdpVUUKztaxxHLaJLcshUEvJkqhUAMUyILZclsLmOWinRKlUKPg8ExmJxMuCaLF9wa4y4K8RdgOAEIgqEkwnATFo5HQwBpi0IAOw==\");}    \n\n.green_plus:hover {\n\tcursor: pointer;\n\theight: 20px;\n    background-repeat: no-repeat;\n    background-image: url(\"data:image/gif;base64,R0lGODlhEAAQAMQZAKHXbPDw8Pr6+prSY/39/ajcdovIT5LNWXW5MfHx8efn5/X19fT09Ozs7O3t7fz8/Pv7+/b29vf39+Hh4dzc3HO4L4PDRXy+O09/If///wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABkALAAAAAAQABAAAAVRYCaOZGlmWIqdJVYUKztiABDL6DDcMnYcvJkqZTAMUyKMZclsLmOYi3RKlUKPCMQxmKxUuCaMF9wa4zIP8VdAOEEWgaEjETkJGI0JRRGQtEUhADs=\");} \n/**/\n\n\n\n\u003c/style\u003e\n\n\n\u003cstyle id=\"userStyles\"\u003e\u003c/style\u003e\n\u003cscript type=\"text/javascript\"\u003e\n\n//\nvar appName = \"xmarket\"; //defined in server properies.  uses in menu, cookies\n\n\nfunction nop(any) {/** no operation */}\n\nfunction openWindow(url){var w = window.open(url); nop(w);}\n\n// http://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format\n//function format\nString.prototype.startsWith = function(prefix) {\n\treturn startsWith(prefix, this);\n};\n\nArray.prototype.contains = function(obj) {\n    var i = this.length;\n    while (i--) {    \t\n        if (this[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n};\n\nArray.prototype.containsObject = function(obj) {\n    var i = this.length;\n    while (i--) {    \t\n        if (equalsNoHash(this[i], obj)) {\n            return true;\n        }\n    }\n    return false;\n};\n\n\nfunction equalsNoHash(o1, o2){\n\tfor(var name in o1){\n\t\t//p(name+\": \"+o1[name]+\":\"+o2[name]);\t\t\n\t\tif(name == \"$$hashKey\"){continue;}\n\t\tif(o1[name] != o2[name]){return false;}\n\t}\n\treturn true;\n}\n\nString.prototype.format = function() {\n    var formatted = this;        \n   // p(\"format: arguments.length=\"+arguments.length);    \n    if(isArray(arguments[0])){arguments = arguments[0];}    \n    for (var i = 0; i \u003c arguments.length; i++) {\n        var regexp = new RegExp('\\\\{'+i+'\\\\}', 'gi');\n        formatted = formatted.replace(regexp, arguments[i]);\n    }\n    return formatted;\n};\n\n\n\nvar Util = {};\n(function() {\t\n\t\n\tUtil.one_minute = 60000;\n\tUtil.one_hour = Util.one_minute*60;\n\tUtil.one_day = Util.one_hour*24;\n\tUtil.one_week = Util.one_day*7;\n\tUtil.one_month = Util.one_day*30;\n\t\n\tUtil.serverTimeDiff = 0;\n\t\n\t Util.arrayRemoveItem = function(array, item, keyField){\n\t\t var ret = [];\n\t\t for(var i = 0; i \u003c array.length; i++){\t\t\t\t \n\t\t\t if(array[i][keyField] != item[keyField]){\n\t\t\t\t ret.push(array[i]);\n\t\t\t }\n\t\t }\n\t\t return ret;\n    };\n\t\n\tUtil.p = function(message) {\n\t\t//alert(message);\n\t\t//\n\t\tif(console){console.log(message);}\t\t\n\t};\n\t\n\tUtil.listObject = function(object) {\n\t\tfor(var prop in object){\n\t\t\tp(prop+\": \"+object[prop]);\n\t\t}\n\t\t\n\t};\n\t\n\tUtil.u = function(s) {\n\t\ttry {\n\t\t\treturn decodeURIComponent(s);\n\t\t} catch (e) {\n\t\t\treturn unescape(s);\n\t\t}\n\t};\n\tUtil.it =  function (array, f){\n\t\t    for(var i = 0; i \u003c array.length; i ++){f(array[i], i);}\n\t }\t ;\n\tUtil.now =  function (){return ((new Date().getTime()) - Util.serverTimeDiff);};\t\t\n    Util.browserNow =  function (){return ((new Date().getTime()) - Util.serverTimeDiff);};\t\n    \n\tfunction not(x) {\n\t\ttry {\n\t\t\tif (typeof (x) == \"boolean\") {\n\t\t\t\treturn !x;\n\t\t\t}\n\t\t\t// if(typeof(x) == \"string\"){return x == \"\";} низзззя: see no !\n\t\t\tif (x == 0 || x == \"0\" || x == \"0.0\") {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ((typeof (x) == \"undefined\") || (typeof (x) == undefined) || !x || x == \"false\" || x == \"null\"\n\t\t\t\t\t|| x == \"undefined\" || x == undefined || x == null || x == false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (ex) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tfunction sure(x) {\n\t\tif (x == null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (x == \"null\") {\n\t\t\treturn false;\n\t\t}\n\t\treturn !no(x);\n\t}\n\n\t\n\tfunction no(x) {\n\t\tif (x == \"\" || x == \"undefined\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn not(x);\n\t}\n\n\tfunction pi(s) {// parse int\n\t\ttry{if (not(s))\n\t\t\treturn 0;\n\t\tvar r = parseInt(\"\" + s); // \"\"+s - if we occasionaly pass integer for\n\t\t\t\t\t\t\t\t\t// parse\n\t\tif (isNaN(r))\n\t\t\treturn 0;\n\t\treturn r;}catch(any){return 0;}\n\t}\n\n\tfunction pf(s) {// parse int\n\t\ttry{\n\t\tif (not(s)) {\n\t\t\treturn 0.0;\n\t\t}\n\t\tvar r = parseFloat(\"\" + s); // \"\"+s - if we occasionaly pass float for\n\t\t\t\t\t\t\t\t\t// parse\n\t\tif (isNaN(r)) {\n\t\t\treturn 0.0;\n\t\t}\n\t\treturn r;\n\t\t}catch(any){return 0.0;}\n\t\t\n\t}\n\n\tfunction pbool(s) {// parse boolean\n\t\ttry{\n\t\tif (s == null) {\n\t\t\treturn false;\n\t\t}\n\t\tif (not(s)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (s === true) {\n\t\t\treturn true;\n\t\t}\n\t\tif (s === false) {\n\t\t\treturn false;\n\t\t}\n\t\ts = (\"\" + s).toLowerCase();\n\t\t\n\t\tvar r = (s.indexOf(\"t\") == 0 ? true : false); // \"\"+s - if we occasionaly\n\t\t\t\t\t\t\t\t\t\t\t\t\t// pass integer for parse\n\t\treturn r;\n\t\t}catch(any){return false;}\n\t}\n\tfunction ge(elementId, fromDocument) {\n\t\tif (!fromDocument) {\n\t\t\tfromDocument = document;\n\t\t}\n\t\treturn fromDocument.getElementById(elementId);\n\t}\n\t\n\n\tUtil.sortObjectsArray = sortObjectsArray;\n\tUtil.ge = ge;\n\tUtil.pi = pi;\n\tUtil.pf = pf;\n\tUtil.pbool = pbool;\n\tUtil.pb = pbool;\n\tUtil.not = not;\n\tUtil.no = no;\n\n})();\nvar p = Util.p;\nvar ge = Util.ge;\nvar no = Util.no;\n\nfunction sortObjectsArray(array, fields, reverse){\t\n\t//p(\"sortObjectsArray: array=\"+array); \n\tif(!array){\t//p(\"sortObjectsArray: no array\"); \n\treturn [];}\n\tif(!fields){//p(\"sortObjectsArray: no fields\"); \n\treturn array.sort();}\n\tif(typeof(fields) == \"string\"){fields = fields.split(\",\");};\n    array.sort(\n\t\tfunction(a, b){\n\t\t\tfor(var i=0; i \u003c fields.length; i++){\n\t\t\t\tvar field = fields[i];\n\t\t\t\tif(field.indexOf(\"(\") \u003e -1){\t\t\t\t\t   \t\n\t\t\t\t   if(eval(\"a.\"+field) \u003c eval(\"b.\"+field)){return -1;}\n\t\t\t\t   if(eval(\"a.\"+field) \u003e eval(\"b.\"+field)){return 1;}\n\t\t\t\t}else{\t\t\t\t\t\n\t\t\t\t   if(a[field] \u003c b[field]){return -1;}\n\t\t\t\t   if(a[field] \u003e b[field]){return 1;}\n\t\t\t\t}\n\t\t\t}\n\t\t    return 0;\n\t\t}\n\t);\t\n    if(reverse){\n       array.reverse();\n    }\n    return array;\n}\n\nvar Listeners = {};\n\n(function() {\n\tvar listeners = {};\n\tnop(listeners);\n\t\n\tfunction add(eventName, f) {\t\t\t\n\t\tif (!listeners[eventName]) {\n\t\t\tlisteners[eventName] = [];\n\t\t}\n\t\tvar number = listeners[eventName].length;\n\t\tlisteners[eventName][number] = f;\n\t\t// st.p(\"added: eventName=\"+eventName+\", f=\"+f.name);\n\t\treturn {\n\t\t\teventName : eventName,\n\t\t\tnumber : number\n\t\t};\n\t}\n\t\n\tfunction clearListeners(clearedListeners) {\t\t\n\t\tfor(var i = 0 ; i \u003c clearedListeners.length; i++){\n\t\t\tclearListener(clearedListeners[i]);\t\t\t\n\t\t}\n\t}\n\t\n\t\n\tfunction clearListener(listener) {\t\t\n\t\tvar eventName = listener.eventName;\n\t\tvar number = listener.number;\n\t\tif (!listeners[eventName]) {\n\t\t\treturn;\n\t\t}\n\t\tvar newListeners = [];\n\t\tfor(var i = 0; i \u003c listeners[eventName].length; i++){\n\t\t\tif(i == number){continue;}\n\t\t\tnewListeners.push(listeners[eventName][i]);\n\t\t}\n\t\tlisteners[eventName] = newListeners;\t\n\t}\n\t\n\tfunction clear(eventName) {\n\t\tif (!listeners[eventName]) {return;}\n\t\tdelete listeners[eventName];\t\t\n\t}\n\t\n\tfunction notify(eventName, data) {\n\t\tif (!listeners[eventName]) {return;}\n\t\t// p(\"notifylisteners: listeners[\"+eventName+\"].length =\"\n\t\t// +listeners[eventName].length);\n\t\tUtil.it(listeners[eventName], function(f) {\n\t\t\t//try {\n\t\t\t\tf(data);\n\t\t\t\t// st.p(\"notified: eventName=\"+eventName+\", f=\"+f.name);\n\t\t\t//} catch (ex) {\n\t\t\t//\tp(\"in notifylisteners: eventName=\"+eventName+\", data=\"+data+\", ex=\" + ex.message);\n\t\t\t//}\n\t\t});\n\t}\n\n\tListeners.add = add;\n\tListeners.clear = clear;\n\tListeners.clearListener = clearListener;\n\tListeners.clearListeners = clearListeners;\n\tListeners.notify = notify;\n\n\n})();\n\nfunction performOnLogin(f){\t\n\tif(rootPanel.loged){f(); return;}\t\t\n\tListeners.add(\"onLogin\", f);\t\n}\n\nvar isIE = false;\nfunction setStyleClass(element, styleClass) {\n\ttry {\n\t\tif (isIE) {\n\t\t\telement.setAttribute('className', styleClass);\n\t\t} else {\n\t\t\telement.setAttribute('class', styleClass);\n\t\t}\n\t} catch (ignoreIfNotIsIE) {\n\t}\n}\n\n\nfunction disable(element, fromDocument) {\n\tif (Util.no(element)) {\n\t\treturn;\n\t}\n\tif (!fromDocument) {\n\t\tfromDocument = document;\n\t}\n\tif (typeof (element) == \"string\") {\n\t\telement = ge(element, fromDocument);\n\t}\n\ttry {\n\t\telement.disabled = true;\n\t} catch (ignoreIfNoDisableable) {\n\t}\n}\n\nfunction enable(element, fromDocument) {\n\tif (Util.no(element)) {\n\t\treturn;\n\t}\n\tif (!fromDocument) {\n\t\tfromDocument = document;\n\t}\n\tif (typeof (element) == \"string\") {\n\t\telement = ge(element, fromDocument);\n\t}\n\ttry {\n\t\telement.disabled = false;\n\t} catch (ignoreIfNoDisableable) {\n\t}\n}\n\nfunction u(s){return Util.u(s);}\nfunction u2(s){return Util.u(Util.u(s));}\n\nfunction e(s){return encodeURIComponent(s);}\nfunction e2(s){return e(e(s));}\n\nfunction pi(s){return Util.pi(s);}\n\nfunction pf(s){return Util.pf(s);}\n\n\nfunction round2(n){\t \n\t return round(n, 2);\n}\n\nfunction round4(n){\t \n\t return round(n, 4);\n}\n\nfunction round8(n){\t \n\t return round(n, 8);\n}\n\nfunction round(n, decimalDigits){\n\t var div=Math.pow(10, decimalDigits);\n\t return Math.round(n*div)/div;\n}\n\nfunction doublize8(s){return doublize(s, 8);}\n\nfunction doublize6(s){return doublize(s, 6);}\n\nfunction doublize4(s){return doublize(s, 4);}\n\nfunction doublize2(s){  return doublize(s, 2);}\n\nfunction doublize(s, count){      \n\t/**for compatibility with calls from old wrapper attribute instead new wrap one.  */\n\ttry{\n    s=pf(\"\"+s); \n    s = round(s, count ? count : 4);\t                   \n    if( (\"\"+s).indexOf(\".\") \u003c 0){s += \".00\";};   \n\t}catch(ex){p(\"in doublize: s=\"+s+\", count=\"+count+\", ex=\"+ex);}\n\treturn \"\"+s;        \n}\n\n\n\nfunction clone(o){if(!o){return null;}; return JSON.parse(toString(o));}\nfunction equals(o1, o2){if(o1==null || o2 == null){return false;};return toString(o1) == toString(o2);}\n\nfunction parse(string){return  JSON.parse(string);}\nfunction stringify(object){return  JSON.stringify(object);}\nfunction str(object){return  JSON.stringify(object);}\nfunction toString(o){return JSON.stringify(o);}\nfunction toJson(o){return JSON.stringify(o);}\nfunction fromJson(s){return JSON.parse(s);}\n\nfunction startsWith(prefix, string){\n\tif(!prefix){prefix = \"\";}\n\tif(!string){string = \"\";}\n\treturn string.indexOf(prefix, 0) == 0;\n}\n\n\nvar b58 = \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\";\n\nfunction isValidBitcoinAddress(address){\t\n\tif(!address){return false;}\n\tif(address.length \u003c 25 || address.length \u003e 34){return false;}\n\tvar array = address.split(\"\");\n\tif(pi(array[0]) \u003c 1){return false;}\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\tif(b58.indexOf(array[i]) \u003c 0){return false;}\t\n\t}\t\n\treturn true;\t\n}\t\n\nfunction getColumn(array, column, filter){\t//'default'\n\tvar ret = [];\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\tif(filter){\n\t\t\tvar str = \"array[i][column] \"+filter;\n\t\t\t//p(\"getColumn: str =\"+str);\n\t\t\tif(eval(str)){ret.push(array[i][column]);}\n\t\t}else{ret.push(array[i][column]);}\n\t} \t\n\treturn ret;\n}\t\n\nfunction getElementByField(array, column, value, ignoreCase){\t\n\t//p(\"getElementByField: column=\"+column);\n\tif(!value){return null;}\n\tif(ignoreCase){value = value.toLowerCase();}\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\tif(value == (ignoreCase ? array[i][column].toLowerCase(): array[i][column])){\n\t\t\treturn array[i];\n\t    };\n\t} \t\n\treturn null;\n}\n\nfunction toTime(t){\n\tvar sec = t/1000;\n\tvar hours = pi(sec/3600);\n\tvar min = pi((sec - hours*3600)/60);\t\n\treturn hours \u003e 0 ?( hours+\"h\"+min+\"m\"):(min+\"m\");\t\n}\n\n\nfunction contains(array, value, ignoreCase){\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\tif(value == (ignoreCase ? array[i].toLowerCase(): array[i])){\n\t\t\treturn true;\n\t    };\n\t} \t\n\treturn false;\t\n}\n\nfunction merge(donor, acceptor){\n\tfor(var k in donor){acceptor[k] = donor[k];}\t\n\treturn acceptor;\t\n}\n\nfunction isArray(object){try{return  JSON.stringify(object).substring(0,1) == \"[\";}catch(any){return false;};}\n\nfunction log(s){Util.p(s);}\nfunction error(s){if(console){console.error(s);}}\n\nfunction deleteByField(array, entityOrId, fieldName){\n\tvar value = entityOrId[fieldName] ? entityOrId[fieldName] : entityOrId;\n\tvar newArray = [];\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\t if(array[i][fieldName] != value){\n\t\t\t newArray.push(array[i]);\n\t\t }\n\t}\n\treturn newArray;  \t\n}\n\nfunction deleteById(array, entityOrId){\n\tif(!array || !entityOrId){return;}\n\tvar id = entityOrId.id ? entityOrId.id : entityOrId;\n\tvar newArray = [];\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\t if(array[i].id != id){\n\t\t\t newArray.push(array[i]);\n\t\t }\n\t}\n\treturn newArray;  \t\n}\n\nfunction deleteByIndex(array, index){\n\tvar newArray = [];\n\tfor(var i = 0; i \u003c array.length; i++){\n\t\t if(i != index){\n\t\t\t newArray.push(array[i]);\n\t\t };\n\t}\n\treturn newArray;  \t\n}\n\n\n\nfunction getEventPosition (e) { \t\t\n\tvar evt = e ? e : window.event;\tvar src = evt.target ? evt.target : evt.srcElement; \n\tvar x = evt.pageX ? evt.pageX : evt.clientX; var y = evt.pageY ? evt.pageY : evt.clientY; \n\tvar left = 0; \tvar top = 0; while (src.offsetParent) {left += src.offsetLeft; top += src.offsetTop; \n\tsrc = src.offsetParent;} return {x: x - left, y: y - top};\n}\n    \nfunction getElementPosition(elm) { \n\t  try {return elm.offset();} catch(e) {} \n\t  var rawDom = elm; \n\t  var _x = 0; \n\t  var _y = 0; \n\t  var body = document.documentElement || document.body; \n\t  var scrollX = window.pageXOffset || body.scrollLeft; \n\t  var scrollY = window.pageYOffset || body.scrollTop; \n\t  _x = rawDom.getBoundingClientRect().left + scrollX; \n\t  _y = rawDom.getBoundingClientRect().top + scrollY; \n\t  return { left: _x, top:_y }; \n}\n\nvar base58Array = \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\".split(\"\");\n\nfunction getRandomBase58String(length){\t\n\t  if(length.size){length = length.size;}\n\t  var ret = [];\n\t  for(var i = 0; i \u003c length; i++){      \t  \n\t      var r = (Math.floor(Math.random()*58));\n\t      ret.push(base58Array[r]);\n\t  }\t  \n\t  return ret.join(\"\");\t\t  \n}\n\n\nfunction date2string(time){\n\tvar ret = \"\"+new Date(time);\n\tvar arr = ret.split(\" \");    \t\n\t//Wed Dec 03 2014 02:28:58 GMT+0000 (UTC)\n\tarr = arr.slice(1,5);\n\treturn arr.join(\" \");\n}\n\nvar defaultSuspendEnableInterval = 5000;\n\nfunction suspendEnable(command, timeout){\t\n\tif(!command){return;}\t\n\tif(!timeout || pi(timeout) == 0){timeout = defaultSuspendEnableInterval;}\n\tcommand.disabled = true;\n\tsetTimeout(function(){command.disabled = false;}, timeout);    \n}\n\nfunction isSpace(c){ return (c == 32  || c == 9 || c == 10 || c == 13 || c == 0);}\n\nfunction trim(s) {\t\n\tif (s == \"\") {return \"\";}\t\n    if (!s) {return null;}    \n    var first =  s.charCodeAt(0);\n    if(isSpace(first)){return trim(s.substring(1));}\n    var last =  s.charCodeAt(s.length - 1);\n    if(isSpace(last)){return trim(s.substring(0, s.length - 1));}\n    return s;\n}\n\n\nvar query = {};\n\nfunction parseQueryString(){\n  var ask = (\"\"+document.location).indexOf(\"?\");\t \n  if(ask \u003c 0){return;}\n  var queryString = (\"\"+document.location).substring(ask+1);\t\n  p(\"queryString=\"+queryString);\n  var a = queryString.split('\u0026');\n  if(!isArray(a)){return;}\n  for (var i = 0 ; i \u003c a.length; i++) {  var b = a[i].split('=');   query[decodeURIComponent(b[0])] = decodeURIComponent(b[1]); }\n}\nparseQueryString();\n\n\nfunction toTime2(t, withSeconds){\n\tvar sec = pi(t/1000);\t\n\tvar hours = pi(sec/3600);\t\n\tvar min = pi((sec - hours*3600)/60);\t\t\n\tsec = sec % 60;\n\tif((\"\"+sec).length == 1){sec = \"0\" + sec;}\t\n\tif((\"\"+min).length == 1){min = \"0\" + min;}\t\n\tif((\"\"+hours).length == 1){hours = \"0\" +hours;}\t\t\n\treturn hours+\":\"+min + (withSeconds ? (\":\"+sec) : \"\");\t\n}\n\nfunction showServerTime(){\n\tsetTimeout(function(){//\n\t\tvar time = (Util.now()- Util.serverTimeDiff)%Util.one_day;\t\t\n\t\tif(ge(\"serverTimeDiv\")){\n\t\t   ge(\"serverTimeDiv\").innerHTML = toTime2(time);\n\t\t  // ge(\"serverTimeDiv\").setAttribute(\"title\", \"Server time: \"+ toTime2(time, true));\n\t\t}\n\t\tshowServerTime();\n\t}, 1000);\n}\nshowServerTime();\n\n\n\n\n\n\n\n/*\n AngularJS v1.2.9\n (c) 2010-2014 Google, Inc. http://angularjs.org\n License: MIT\n*/\n(function(Z,Q,r){'use strict';function F(b){return function(){var a=arguments[0],c,a=\"[\"+(b?b+\":\":\"\")+a+\"] http://errors.angularjs.org/1.2.9/\"+(b?b+\"/\":\"\")+a;for(c=1;c\u003carguments.length;c++)a=a+(1==c?\"?\":\"\u0026\")+\"p\"+(c-1)+\"=\"+encodeURIComponent(\"function\"==typeof arguments[c]?arguments[c].toString().replace(/ \\{[\\s\\S]*$/,\"\"):\"undefined\"==typeof arguments[c]?\"undefined\":\"string\"!=typeof arguments[c]?JSON.stringify(arguments[c]):arguments[c]);return Error(a)}}function rb(b){if(null==b||Aa(b))return!1;var a=\nb.length;return 1===b.nodeType\u0026\u0026a?!0:D(b)||K(b)||0===a||\"number\"===typeof a\u0026\u00260\u003ca\u0026\u0026a-1 in b}function q(b,a,c){var d;if(b)if(L(b))for(d in b)\"prototype\"==d||(\"length\"==d||\"name\"==d||b.hasOwnProperty\u0026\u0026!b.hasOwnProperty(d))||a.call(c,b[d],d);else if(b.forEach\u0026\u0026b.forEach!==q)b.forEach(a,c);else if(rb(b))for(d=0;d\u003cb.length;d++)a.call(c,b[d],d);else for(d in b)b.hasOwnProperty(d)\u0026\u0026a.call(c,b[d],d);return b}function Pb(b){var a=[],c;for(c in b)b.hasOwnProperty(c)\u0026\u0026a.push(c);return a.sort()}function Pc(b,\na,c){for(var d=Pb(b),e=0;e\u003cd.length;e++)a.call(c,b[d[e]],d[e]);return d}function Qb(b){return function(a,c){b(c,a)}}function Za(){for(var b=ka.length,a;b;){b--;a=ka[b].charCodeAt(0);if(57==a)return ka[b]=\"A\",ka.join(\"\");if(90==a)ka[b]=\"0\";else return ka[b]=String.fromCharCode(a+1),ka.join(\"\")}ka.unshift(\"0\");return ka.join(\"\")}function Rb(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function t(b){var a=b.$$hashKey;q(arguments,function(a){a!==b\u0026\u0026q(a,function(a,c){b[c]=a})});Rb(b,a);return b}function S(b){return parseInt(b,\n10)}function Sb(b,a){return t(new (t(function(){},{prototype:b})),a)}function w(){}function Ba(b){return b}function $(b){return function(){return b}}function z(b){return\"undefined\"===typeof b}function B(b){return\"undefined\"!==typeof b}function X(b){return null!=b\u0026\u0026\"object\"===typeof b}function D(b){return\"string\"===typeof b}function sb(b){return\"number\"===typeof b}function La(b){return\"[object Date]\"===$a.call(b)}function K(b){return\"[object Array]\"===$a.call(b)}function L(b){return\"function\"===typeof b}\nfunction ab(b){return\"[object RegExp]\"===$a.call(b)}function Aa(b){return b\u0026\u0026b.document\u0026\u0026b.location\u0026\u0026b.alert\u0026\u0026b.setInterval}function Qc(b){return!(!b||!(b.nodeName||b.on\u0026\u0026b.find))}function Rc(b,a,c){var d=[];q(b,function(b,g,f){d.push(a.call(c,b,g,f))});return d}function bb(b,a){if(b.indexOf)return b.indexOf(a);for(var c=0;c\u003cb.length;c++)if(a===b[c])return c;return-1}function Ma(b,a){var c=bb(b,a);0\u003c=c\u0026\u0026b.splice(c,1);return a}function aa(b,a){if(Aa(b)||b\u0026\u0026b.$evalAsync\u0026\u0026b.$watch)throw Na(\"cpws\");if(a){if(b===\na)throw Na(\"cpi\");if(K(b))for(var c=a.length=0;c\u003cb.length;c++)a.push(aa(b[c]));else{c=a.$$hashKey;q(a,function(b,c){delete a[c]});for(var d in b)a[d]=aa(b[d]);Rb(a,c)}}else(a=b)\u0026\u0026(K(b)?a=aa(b,[]):La(b)?a=new Date(b.getTime()):ab(b)?a=RegExp(b.source):X(b)\u0026\u0026(a=aa(b,{})));return a}function Tb(b,a){a=a||{};for(var c in b)b.hasOwnProperty(c)\u0026\u0026(\"$\"!==c.charAt(0)\u0026\u0026\"$\"!==c.charAt(1))\u0026\u0026(a[c]=b[c]);return a}function ua(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b\u0026\u0026a!==a)return!0;var c=typeof b,\nd;if(c==typeof a\u0026\u0026\"object\"==c)if(K(b)){if(!K(a))return!1;if((c=b.length)==a.length){for(d=0;d\u003cc;d++)if(!ua(b[d],a[d]))return!1;return!0}}else{if(La(b))return La(a)\u0026\u0026b.getTime()==a.getTime();if(ab(b)\u0026\u0026ab(a))return b.toString()==a.toString();if(b\u0026\u0026b.$evalAsync\u0026\u0026b.$watch||a\u0026\u0026a.$evalAsync\u0026\u0026a.$watch||Aa(b)||Aa(a)||K(a))return!1;c={};for(d in b)if(\"$\"!==d.charAt(0)\u0026\u0026!L(b[d])){if(!ua(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)\u0026\u0026\"$\"!==d.charAt(0)\u0026\u0026a[d]!==r\u0026\u0026!L(a[d]))return!1;return!0}return!1}\nfunction Ub(){return Q.securityPolicy\u0026\u0026Q.securityPolicy.isActive||Q.querySelector\u0026\u0026!(!Q.querySelector(\"[ng-csp]\")\u0026\u0026!Q.querySelector(\"[data-ng-csp]\"))}function cb(b,a){var c=2\u003carguments.length?va.call(arguments,2):[];return!L(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,c.concat(va.call(arguments,0))):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Sc(b,a){var c=a;\"string\"===typeof b\u0026\u0026\"$\"===b.charAt(0)?c=r:Aa(a)?c=\"$WINDOW\":\na\u0026\u0026Q===a?c=\"$DOCUMENT\":a\u0026\u0026(a.$evalAsync\u0026\u0026a.$watch)\u0026\u0026(c=\"$SCOPE\");return c}function qa(b,a){return\"undefined\"===typeof b?r:JSON.stringify(b,Sc,a?\"  \":null)}function Vb(b){return D(b)?JSON.parse(b):b}function Oa(b){\"function\"===typeof b?b=!0:b\u0026\u00260!==b.length?(b=x(\"\"+b),b=!(\"f\"==b||\"0\"==b||\"false\"==b||\"no\"==b||\"n\"==b||\"[]\"==b)):b=!1;return b}function ga(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A(\"\u003cdiv\u003e\").append(b).html();try{return 3===b[0].nodeType?x(c):c.match(/^(\u003c[^\u003e]+\u003e)/)[1].replace(/^\u003c([\\w\\-]+)/,\nfunction(a,b){return\"\u003c\"+x(b)})}catch(d){return x(c)}}function Wb(b){try{return decodeURIComponent(b)}catch(a){}}function Xb(b){var a={},c,d;q((b||\"\").split(\"\u0026\"),function(b){b\u0026\u0026(c=b.split(\"=\"),d=Wb(c[0]),B(d)\u0026\u0026(b=B(c[1])?Wb(c[1]):!0,a[d]?K(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Yb(b){var a=[];q(b,function(b,d){K(b)?q(b,function(b){a.push(wa(d,!0)+(!0===b?\"\":\"=\"+wa(b,!0)))}):a.push(wa(d,!0)+(!0===b?\"\":\"=\"+wa(b,!0)))});return a.length?a.join(\"\u0026\"):\"\"}function tb(b){return wa(b,\n!0).replace(/%26/gi,\"\u0026\").replace(/%3D/gi,\"=\").replace(/%2B/gi,\"+\")}function wa(b,a){return encodeURIComponent(b).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,a?\"%20\":\"+\")}function Tc(b,a){function c(a){a\u0026\u0026d.push(a)}var d=[b],e,g,f=[\"ng:app\",\"ng-app\",\"x-ng-app\",\"data-ng-app\"],h=/\\sng[:\\-]app(:\\s*([\\w\\d_]+);?)?\\s/;q(f,function(a){f[a]=!0;c(Q.getElementById(a));a=a.replace(\":\",\"\\\\:\");b.querySelectorAll\u0026\u0026(q(b.querySelectorAll(\".\"+a),c),q(b.querySelectorAll(\".\"+\na+\"\\\\:\"),c),q(b.querySelectorAll(\"[\"+a+\"]\"),c))});q(d,function(a){if(!e){var b=h.exec(\" \"+a.className+\" \");b?(e=a,g=(b[2]||\"\").replace(/\\s+/g,\",\")):q(a.attributes,function(b){!e\u0026\u0026f[b.name]\u0026\u0026(e=a,g=b.value)})}});e\u0026\u0026a(e,g?[g]:[])}function Zb(b,a){var c=function(){b=A(b);if(b.injector()){var c=b[0]===Q?\"document\":ga(b);throw Na(\"btstrpd\",c);}a=a||[];a.unshift([\"$provide\",function(a){a.value(\"$rootElement\",b)}]);a.unshift(\"ng\");c=$b(a);c.invoke([\"$rootScope\",\"$rootElement\",\"$compile\",\"$injector\",\"$animate\",\nfunction(a,b,c,d,e){a.$apply(function(){b.data(\"$injector\",d);c(b)(a)})}]);return c},d=/^NG_DEFER_BOOTSTRAP!/;if(Z\u0026\u0026!d.test(Z.name))return c();Z.name=Z.name.replace(d,\"\");Ca.resumeBootstrap=function(b){q(b,function(b){a.push(b)});c()}}function db(b,a){a=a||\"_\";return b.replace(Uc,function(b,d){return(d?a:\"\")+b.toLowerCase()})}function ub(b,a,c){if(!b)throw Na(\"areq\",a||\"?\",c||\"required\");return b}function Pa(b,a,c){c\u0026\u0026K(b)\u0026\u0026(b=b[b.length-1]);ub(L(b),a,\"not a function, got \"+(b\u0026\u0026\"object\"==typeof b?\nb.constructor.name||\"Object\":typeof b));return b}function xa(b,a){if(\"hasOwnProperty\"===b)throw Na(\"badname\",a);}function vb(b,a,c){if(!a)return b;a=a.split(\".\");for(var d,e=b,g=a.length,f=0;f\u003cg;f++)d=a[f],b\u0026\u0026(b=(e=b)[d]);return!c\u0026\u0026L(b)?cb(e,b):b}function wb(b){var a=b[0];b=b[b.length-1];if(a===b)return A(a);var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function Vc(b){var a=F(\"$injector\"),c=F(\"ng\");b=b.angular||(b.angular={});b.$$minErr=b.$$minErr||F;return b.module||\n(b.module=function(){var b={};return function(e,g,f){if(\"hasOwnProperty\"===e)throw c(\"badname\",\"module\");g\u0026\u0026b.hasOwnProperty(e)\u0026\u0026(b[e]=null);return b[e]||(b[e]=function(){function b(a,d,e){return function(){c[e||\"push\"]([a,d,arguments]);return n}}if(!g)throw a(\"nomod\",e);var c=[],d=[],l=b(\"$injector\",\"invoke\"),n={_invokeQueue:c,_runBlocks:d,requires:g,name:e,provider:b(\"$provide\",\"provider\"),factory:b(\"$provide\",\"factory\"),service:b(\"$provide\",\"service\"),value:b(\"$provide\",\"value\"),constant:b(\"$provide\",\n\"constant\",\"unshift\"),animation:b(\"$animateProvider\",\"register\"),filter:b(\"$filterProvider\",\"register\"),controller:b(\"$controllerProvider\",\"register\"),directive:b(\"$compileProvider\",\"directive\"),config:l,run:function(a){d.push(a);return this}};f\u0026\u0026l(f);return n}())}}())}function Qa(b){return b.replace(Wc,function(a,b,d,e){return e?d.toUpperCase():d}).replace(Xc,\"Moz$1\")}function xb(b,a,c,d){function e(b){var e=c\u0026\u0026b?[this.filter(b)]:[this],m=a,k,l,n,p,s,C;if(!d||null!=b)for(;e.length;)for(k=e.shift(),\nl=0,n=k.length;l\u003cn;l++)for(p=A(k[l]),m?p.triggerHandler(\"$destroy\"):m=!m,s=0,p=(C=p.children()).length;s\u003cp;s++)e.push(Da(C[s]));return g.apply(this,arguments)}var g=Da.fn[b],g=g.$original||g;e.$original=g;Da.fn[b]=e}function O(b){if(b instanceof O)return b;if(!(this instanceof O)){if(D(b)\u0026\u0026\"\u003c\"!=b.charAt(0))throw yb(\"nosel\");return new O(b)}if(D(b)){var a=Q.createElement(\"div\");a.innerHTML=\"\u003cdiv\u003e\u0026#160;\u003c/div\u003e\"+b;a.removeChild(a.firstChild);zb(this,a.childNodes);A(Q.createDocumentFragment()).append(this)}else zb(this,\nb)}function Ab(b){return b.cloneNode(!0)}function Ea(b){ac(b);var a=0;for(b=b.childNodes||[];a\u003cb.length;a++)Ea(b[a])}function bc(b,a,c,d){if(B(d))throw yb(\"offargs\");var e=la(b,\"events\");la(b,\"handle\")\u0026\u0026(z(a)?q(e,function(a,c){Bb(b,c,a);delete e[c]}):q(a.split(\" \"),function(a){z(c)?(Bb(b,a,e[a]),delete e[a]):Ma(e[a]||[],c)}))}function ac(b,a){var c=b[eb],d=Ra[c];d\u0026\u0026(a?delete Ra[c].data[a]:(d.handle\u0026\u0026(d.events.$destroy\u0026\u0026d.handle({},\"$destroy\"),bc(b)),delete Ra[c],b[eb]=r))}function la(b,a,c){var d=\nb[eb],d=Ra[d||-1];if(B(c))d||(b[eb]=d=++Yc,d=Ra[d]={}),d[a]=c;else return d\u0026\u0026d[a]}function cc(b,a,c){var d=la(b,\"data\"),e=B(c),g=!e\u0026\u0026B(a),f=g\u0026\u0026!X(a);d||f||la(b,\"data\",d={});if(e)d[a]=c;else if(g){if(f)return d\u0026\u0026d[a];t(d,a)}else return d}function Cb(b,a){return b.getAttribute?-1\u003c(\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \").indexOf(\" \"+a+\" \"):!1}function Db(b,a){a\u0026\u0026b.setAttribute\u0026\u0026q(a.split(\" \"),function(a){b.setAttribute(\"class\",ba((\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\n\" \").replace(\" \"+ba(a)+\" \",\" \")))})}function Eb(b,a){if(a\u0026\u0026b.setAttribute){var c=(\" \"+(b.getAttribute(\"class\")||\"\")+\" \").replace(/[\\n\\t]/g,\" \");q(a.split(\" \"),function(a){a=ba(a);-1===c.indexOf(\" \"+a+\" \")\u0026\u0026(c+=a+\" \")});b.setAttribute(\"class\",ba(c))}}function zb(b,a){if(a){a=a.nodeName||!B(a.length)||Aa(a)?[a]:a;for(var c=0;c\u003ca.length;c++)b.push(a[c])}}function dc(b,a){return fb(b,\"$\"+(a||\"ngController\")+\"Controller\")}function fb(b,a,c){b=A(b);9==b[0].nodeType\u0026\u0026(b=b.find(\"html\"));for(a=K(a)?a:[a];b.length;){for(var d=\n0,e=a.length;d\u003ce;d++)if((c=b.data(a[d]))!==r)return c;b=b.parent()}}function ec(b){for(var a=0,c=b.childNodes;a\u003cc.length;a++)Ea(c[a]);for(;b.firstChild;)b.removeChild(b.firstChild)}function fc(b,a){var c=gb[a.toLowerCase()];return c\u0026\u0026gc[b.nodeName]\u0026\u0026c}function Zc(b,a){var c=function(c,e){c.preventDefault||(c.preventDefault=function(){c.returnValue=!1});c.stopPropagation||(c.stopPropagation=function(){c.cancelBubble=!0});c.target||(c.target=c.srcElement||Q);if(z(c.defaultPrevented)){var g=c.preventDefault;\nc.preventDefault=function(){c.defaultPrevented=!0;g.call(c)};c.defaultPrevented=!1}c.isDefaultPrevented=function(){return c.defaultPrevented||!1===c.returnValue};var f=Tb(a[e||c.type]||[]);q(f,function(a){a.call(b,c)});8\u003e=M?(c.preventDefault=null,c.stopPropagation=null,c.isDefaultPrevented=null):(delete c.preventDefault,delete c.stopPropagation,delete c.isDefaultPrevented)};c.elem=b;return c}function Fa(b){var a=typeof b,c;\"object\"==a\u0026\u0026null!==b?\"function\"==typeof(c=b.$$hashKey)?c=b.$$hashKey():c===\nr\u0026\u0026(c=b.$$hashKey=Za()):c=b;return a+\":\"+c}function Sa(b){q(b,this.put,this)}function hc(b){var a,c;\"function\"==typeof b?(a=b.$inject)||(a=[],b.length\u0026\u0026(c=b.toString().replace($c,\"\"),c=c.match(ad),q(c[1].split(bd),function(b){b.replace(cd,function(b,c,d){a.push(d)})})),b.$inject=a):K(b)?(c=b.length-1,Pa(b[c],\"fn\"),a=b.slice(0,c)):Pa(b,\"fn\",!0);return a}function $b(b){function a(a){return function(b,c){if(X(b))q(b,Qb(a));else return a(b,c)}}function c(a,b){xa(a,\"service\");if(L(b)||K(b))b=n.instantiate(b);\nif(!b.$get)throw Ta(\"pget\",a);return l[a+h]=b}function d(a,b){return c(a,{$get:b})}function e(a){var b=[],c,d,g,h;q(a,function(a){if(!k.get(a)){k.put(a,!0);try{if(D(a))for(c=Ua(a),b=b.concat(e(c.requires)).concat(c._runBlocks),d=c._invokeQueue,g=0,h=d.length;g\u003ch;g++){var f=d[g],m=n.get(f[0]);m[f[1]].apply(m,f[2])}else L(a)?b.push(n.invoke(a)):K(a)?b.push(n.invoke(a)):Pa(a,\"module\")}catch(s){throw K(a)\u0026\u0026(a=a[a.length-1]),s.message\u0026\u0026(s.stack\u0026\u0026-1==s.stack.indexOf(s.message))\u0026\u0026(s=s.message+\"\\n\"+s.stack),\nTa(\"modulerr\",a,s.stack||s.message||s);}}});return b}function g(a,b){function c(d){if(a.hasOwnProperty(d)){if(a[d]===f)throw Ta(\"cdep\",m.join(\" \u003c- \"));return a[d]}try{return m.unshift(d),a[d]=f,a[d]=b(d)}catch(e){throw a[d]===f\u0026\u0026delete a[d],e;}finally{m.shift()}}function d(a,b,e){var g=[],h=hc(a),f,k,m;k=0;for(f=h.length;k\u003cf;k++){m=h[k];if(\"string\"!==typeof m)throw Ta(\"itkn\",m);g.push(e\u0026\u0026e.hasOwnProperty(m)?e[m]:c(m))}a.$inject||(a=a[f]);return a.apply(b,g)}return{invoke:d,instantiate:function(a,\nb){var c=function(){},e;c.prototype=(K(a)?a[a.length-1]:a).prototype;c=new c;e=d(a,c,b);return X(e)||L(e)?e:c},get:c,annotate:hc,has:function(b){return l.hasOwnProperty(b+h)||a.hasOwnProperty(b)}}}var f={},h=\"Provider\",m=[],k=new Sa,l={$provide:{provider:a(c),factory:a(d),service:a(function(a,b){return d(a,[\"$injector\",function(a){return a.instantiate(b)}])}),value:a(function(a,b){return d(a,$(b))}),constant:a(function(a,b){xa(a,\"constant\");l[a]=b;p[a]=b}),decorator:function(a,b){var c=n.get(a+h),\nd=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},n=l.$injector=g(l,function(){throw Ta(\"unpr\",m.join(\" \u003c- \"));}),p={},s=p.$injector=g(p,function(a){a=n.get(a+h);return s.invoke(a.$get,a)});q(e(b),function(a){s.invoke(a||w)});return s}function dd(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=[\"$window\",\"$location\",\"$rootScope\",function(a,c,d){function e(a){var b=null;q(a,function(a){b||\"a\"!==x(a.nodeName)||(b=a)});return b}function g(){var b=\nc.hash(),d;b?(d=f.getElementById(b))?d.scrollIntoView():(d=e(f.getElementsByName(b)))?d.scrollIntoView():\"top\"===b\u0026\u0026a.scrollTo(0,0):a.scrollTo(0,0)}var f=a.document;b\u0026\u0026d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)});return g}]}function ed(b,a,c,d){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(C--,0===C)for(;y.length;)try{y.pop()()}catch(b){c.error(b)}}}function g(a,b){(function T(){q(E,function(a){a()});u=b(T,a)})()}function f(){v=null;R!=h.url()\u0026\u0026(R=h.url(),q(ha,\nfunction(a){a(h.url())}))}var h=this,m=a[0],k=b.location,l=b.history,n=b.setTimeout,p=b.clearTimeout,s={};h.isMock=!1;var C=0,y=[];h.$$completeOutstandingRequest=e;h.$$incOutstandingRequestCount=function(){C++};h.notifyWhenNoOutstandingRequests=function(a){q(E,function(a){a()});0===C?a():y.push(a)};var E=[],u;h.addPollFn=function(a){z(u)\u0026\u0026g(100,n);E.push(a);return a};var R=k.href,H=a.find(\"base\"),v=null;h.url=function(a,c){k!==b.location\u0026\u0026(k=b.location);l!==b.history\u0026\u0026(l=b.history);if(a){if(R!=a)return R=\na,d.history?c?l.replaceState(null,\"\",a):(l.pushState(null,\"\",a),H.attr(\"href\",H.attr(\"href\"))):(v=a,c?k.replace(a):k.href=a),h}else return v||k.href.replace(/%27/g,\"'\")};var ha=[],N=!1;h.onUrlChange=function(a){if(!N){if(d.history)A(b).on(\"popstate\",f);if(d.hashchange)A(b).on(\"hashchange\",f);else h.addPollFn(f);N=!0}ha.push(a);return a};h.baseHref=function(){var a=H.attr(\"href\");return a?a.replace(/^(https?\\:)?\\/\\/[^\\/]*/,\"\"):\"\"};var V={},J=\"\",ca=h.baseHref();h.cookies=function(a,b){var d,e,g,h;if(a)b===\nr?m.cookie=escape(a)+\"=;path=\"+ca+\";expires=Thu, 01 Jan 1970 00:00:00 GMT\":D(b)\u0026\u0026(d=(m.cookie=escape(a)+\"=\"+escape(b)+\";path=\"+ca).length+1,4096\u003cd\u0026\u0026c.warn(\"Cookie '\"+a+\"' possibly not set or overflowed because it was too large (\"+d+\" \u003e 4096 bytes)!\"));else{if(m.cookie!==J)for(J=m.cookie,d=J.split(\"; \"),V={},g=0;g\u003cd.length;g++)e=d[g],h=e.indexOf(\"=\"),0\u003ch\u0026\u0026(a=unescape(e.substring(0,h)),V[a]===r\u0026\u0026(V[a]=unescape(e.substring(h+1))));return V}};h.defer=function(a,b){var c;C++;c=n(function(){delete s[c];\ne(a)},b||0);s[c]=!0;return c};h.defer.cancel=function(a){return s[a]?(delete s[a],p(a),e(w),!0):!1}}function fd(){this.$get=[\"$window\",\"$log\",\"$sniffer\",\"$document\",function(b,a,c,d){return new ed(b,d,a,c)}]}function gd(){this.$get=function(){function b(b,d){function e(a){a!=n\u0026\u0026(p?p==a\u0026\u0026(p=a.n):p=a,g(a.n,a.p),g(a,n),n=a,n.n=null)}function g(a,b){a!=b\u0026\u0026(a\u0026\u0026(a.p=b),b\u0026\u0026(b.n=a))}if(b in a)throw F(\"$cacheFactory\")(\"iid\",b);var f=0,h=t({},d,{id:b}),m={},k=d\u0026\u0026d.capacity||Number.MAX_VALUE,l={},n=null,p=null;\nreturn a[b]={put:function(a,b){var c=l[a]||(l[a]={key:a});e(c);if(!z(b))return a in m||f++,m[a]=b,f\u003ek\u0026\u0026this.remove(p.key),b},get:function(a){var b=l[a];if(b)return e(b),m[a]},remove:function(a){var b=l[a];b\u0026\u0026(b==n\u0026\u0026(n=b.p),b==p\u0026\u0026(p=b.n),g(b.n,b.p),delete l[a],delete m[a],f--)},removeAll:function(){m={};f=0;l={};n=p=null},destroy:function(){l=h=m=null;delete a[b]},info:function(){return t({},h,{size:f})}}}var a={};b.info=function(){var b={};q(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};\nreturn b}}function hd(){this.$get=[\"$cacheFactory\",function(b){return b(\"templates\")}]}function jc(b,a){var c={},d=\"Directive\",e=/^\\s*directive\\:\\s*([\\d\\w\\-_]+)\\s+(.*)$/,g=/(([\\d\\w\\-_]+)(?:\\:([^;]+))?;?)/,f=/^(on[a-z]+|formaction)$/;this.directive=function m(a,e){xa(a,\"directive\");D(a)?(ub(e,\"directiveFactory\"),c.hasOwnProperty(a)||(c[a]=[],b.factory(a+d,[\"$injector\",\"$exceptionHandler\",function(b,d){var e=[];q(c[a],function(c,g){try{var f=b.invoke(c);L(f)?f={compile:$(f)}:!f.compile\u0026\u0026f.link\u0026\u0026(f.compile=\n$(f.link));f.priority=f.priority||0;f.index=g;f.name=f.name||a;f.require=f.require||f.controller\u0026\u0026f.name;f.restrict=f.restrict||\"A\";e.push(f)}catch(m){d(m)}});return e}])),c[a].push(e)):q(a,Qb(m));return this};this.aHrefSanitizationWhitelist=function(b){return B(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return B(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};this.$get=[\"$injector\",\"$interpolate\",\n\"$exceptionHandler\",\"$http\",\"$templateCache\",\"$parse\",\"$controller\",\"$rootScope\",\"$document\",\"$sce\",\"$animate\",\"$$sanitizeUri\",function(a,b,l,n,p,s,C,y,E,u,R,H){function v(a,b,c,d,e){a instanceof A||(a=A(a));q(a,function(b,c){3==b.nodeType\u0026\u0026b.nodeValue.match(/\\S+/)\u0026\u0026(a[c]=A(b).wrap(\"\u003cspan\u003e\u003c/span\u003e\").parent()[0])});var g=N(a,b,a,c,d,e);ha(a,\"ng-scope\");return function(b,c,d){ub(b,\"scope\");var e=c?Ga.clone.call(a):a;q(d,function(a,b){e.data(\"$\"+b+\"Controller\",a)});d=0;for(var f=e.length;d\u003cf;d++){var m=\ne[d].nodeType;1!==m\u0026\u00269!==m||e.eq(d).data(\"$scope\",b)}c\u0026\u0026c(e,b);g\u0026\u0026g(b,e,e);return e}}function ha(a,b){try{a.addClass(b)}catch(c){}}function N(a,b,c,d,e,g){function f(a,c,d,e){var g,k,s,l,n,p,I;g=c.length;var C=Array(g);for(n=0;n\u003cg;n++)C[n]=c[n];I=n=0;for(p=m.length;n\u003cp;I++)k=C[I],c=m[n++],g=m[n++],s=A(k),c?(c.scope?(l=a.$new(),s.data(\"$scope\",l)):l=a,(s=c.transclude)||!e\u0026\u0026b?c(g,l,k,d,V(a,s||b)):c(g,l,k,d,e)):g\u0026\u0026g(a,k.childNodes,r,e)}for(var m=[],k,s,l,n,p=0;p\u003ca.length;p++)k=new Fb,s=J(a[p],[],k,0===\np?d:r,e),(g=s.length?ia(s,a[p],k,b,c,null,[],[],g):null)\u0026\u0026g.scope\u0026\u0026ha(A(a[p]),\"ng-scope\"),k=g\u0026\u0026g.terminal||!(l=a[p].childNodes)||!l.length?null:N(l,g?g.transclude:b),m.push(g,k),n=n||g||k,g=null;return n?f:null}function V(a,b){return function(c,d,e){var g=!1;c||(c=a.$new(),g=c.$$transcluded=!0);d=b(c,d,e);if(g)d.on(\"$destroy\",cb(c,c.$destroy));return d}}function J(a,b,c,d,f){var k=c.$attr,m;switch(a.nodeType){case 1:T(b,ma(Ha(a).toLowerCase()),\"E\",d,f);var s,l,n;m=a.attributes;for(var p=0,C=m\u0026\u0026m.length;p\u003c\nC;p++){var y=!1,R=!1;s=m[p];if(!M||8\u003c=M||s.specified){l=s.name;n=ma(l);W.test(n)\u0026\u0026(l=db(n.substr(6),\"-\"));var v=n.replace(/(Start|End)$/,\"\");n===v+\"Start\"\u0026\u0026(y=l,R=l.substr(0,l.length-5)+\"end\",l=l.substr(0,l.length-6));n=ma(l.toLowerCase());k[n]=l;c[n]=s=ba(s.value);fc(a,n)\u0026\u0026(c[n]=!0);S(a,b,s,n);T(b,n,\"A\",d,f,y,R)}}a=a.className;if(D(a)\u0026\u0026\"\"!==a)for(;m=g.exec(a);)n=ma(m[2]),T(b,n,\"C\",d,f)\u0026\u0026(c[n]=ba(m[3])),a=a.substr(m.index+m[0].length);break;case 3:F(b,a.nodeValue);break;case 8:try{if(m=e.exec(a.nodeValue))n=\nma(m[1]),T(b,n,\"M\",d,f)\u0026\u0026(c[n]=ba(m[2]))}catch(E){}}b.sort(z);return b}function ca(a,b,c){var d=[],e=0;if(b\u0026\u0026a.hasAttribute\u0026\u0026a.hasAttribute(b)){do{if(!a)throw ja(\"uterdir\",b,c);1==a.nodeType\u0026\u0026(a.hasAttribute(b)\u0026\u0026e++,a.hasAttribute(c)\u0026\u0026e--);d.push(a);a=a.nextSibling}while(0\u003ce)}else d.push(a);return A(d)}function P(a,b,c){return function(d,e,g,f,m){e=ca(e[0],b,c);return a(d,e,g,f,m)}}function ia(a,c,d,e,g,f,m,n,p){function y(a,b,c,d){if(a){c\u0026\u0026(a=P(a,c,d));a.require=G.require;if(H===G||G.$$isolateScope)a=\nkc(a,{isolateScope:!0});m.push(a)}if(b){c\u0026\u0026(b=P(b,c,d));b.require=G.require;if(H===G||G.$$isolateScope)b=kc(b,{isolateScope:!0});n.push(b)}}function R(a,b,c){var d,e=\"data\",g=!1;if(D(a)){for(;\"^\"==(d=a.charAt(0))||\"?\"==d;)a=a.substr(1),\"^\"==d\u0026\u0026(e=\"inheritedData\"),g=g||\"?\"==d;d=null;c\u0026\u0026\"data\"===e\u0026\u0026(d=c[a]);d=d||b[e](\"$\"+a+\"Controller\");if(!d\u0026\u0026!g)throw ja(\"ctreq\",a,da);}else K(a)\u0026\u0026(d=[],q(a,function(a){d.push(R(a,b,c))}));return d}function E(a,e,g,f,p){function y(a,b){var c;2\u003earguments.length\u0026\u0026(b=a,\na=r);z\u0026\u0026(c=ca);return p(a,b,c)}var I,v,N,u,P,J,ca={},hb;I=c===g?d:Tb(d,new Fb(A(g),d.$attr));v=I.$$element;if(H){var T=/^\\s*([@=\u0026])(\\??)\\s*(\\w*)\\s*$/;f=A(g);J=e.$new(!0);ia\u0026\u0026ia===H.$$originalDirective?f.data(\"$isolateScope\",J):f.data(\"$isolateScopeNoTemplate\",J);ha(f,\"ng-isolate-scope\");q(H.scope,function(a,c){var d=a.match(T)||[],g=d[3]||c,f=\"?\"==d[2],d=d[1],m,l,n,p;J.$$isolateBindings[c]=d+g;switch(d){case \"@\":I.$observe(g,function(a){J[c]=a});I.$$observers[g].$$scope=e;I[g]\u0026\u0026(J[c]=b(I[g])(e));\nbreak;case \"=\":if(f\u0026\u0026!I[g])break;l=s(I[g]);p=l.literal?ua:function(a,b){return a===b};n=l.assign||function(){m=J[c]=l(e);throw ja(\"nonassign\",I[g],H.name);};m=J[c]=l(e);J.$watch(function(){var a=l(e);p(a,J[c])||(p(a,m)?n(e,a=J[c]):J[c]=a);return m=a},null,l.literal);break;case \"\u0026\":l=s(I[g]);J[c]=function(a){return l(e,a)};break;default:throw ja(\"iscp\",H.name,c,a);}})}hb=p\u0026\u0026y;V\u0026\u0026q(V,function(a){var b={$scope:a===H||a.$$isolateScope?J:e,$element:v,$attrs:I,$transclude:hb},c;P=a.controller;\"@\"==P\u0026\u0026(P=\nI[a.name]);c=C(P,b);ca[a.name]=c;z||v.data(\"$\"+a.name+\"Controller\",c);a.controllerAs\u0026\u0026(b.$scope[a.controllerAs]=c)});f=0;for(N=m.length;f\u003cN;f++)try{u=m[f],u(u.isolateScope?J:e,v,I,u.require\u0026\u0026R(u.require,v,ca),hb)}catch(G){l(G,ga(v))}f=e;H\u0026\u0026(H.template||null===H.templateUrl)\u0026\u0026(f=J);a\u0026\u0026a(f,g.childNodes,r,p);for(f=n.length-1;0\u003c=f;f--)try{u=n[f],u(u.isolateScope?J:e,v,I,u.require\u0026\u0026R(u.require,v,ca),hb)}catch(B){l(B,ga(v))}}p=p||{};var N=-Number.MAX_VALUE,u,V=p.controllerDirectives,H=p.newIsolateScopeDirective,\nia=p.templateDirective;p=p.nonTlbTranscludeDirective;for(var T=!1,z=!1,t=d.$$element=A(c),G,da,U,F=e,O,M=0,na=a.length;M\u003cna;M++){G=a[M];var Va=G.$$start,S=G.$$end;Va\u0026\u0026(t=ca(c,Va,S));U=r;if(N\u003eG.priority)break;if(U=G.scope)u=u||G,G.templateUrl||(x(\"new/isolated scope\",H,G,t),X(U)\u0026\u0026(H=G));da=G.name;!G.templateUrl\u0026\u0026G.controller\u0026\u0026(U=G.controller,V=V||{},x(\"'\"+da+\"' controller\",V[da],G,t),V[da]=G);if(U=G.transclude)T=!0,G.$$tlb||(x(\"transclusion\",p,G,t),p=G),\"element\"==U?(z=!0,N=G.priority,U=ca(c,Va,S),\nt=d.$$element=A(Q.createComment(\" \"+da+\": \"+d[da]+\" \")),c=t[0],ib(g,A(va.call(U,0)),c),F=v(U,e,N,f\u0026\u0026f.name,{nonTlbTranscludeDirective:p})):(U=A(Ab(c)).contents(),t.empty(),F=v(U,e));if(G.template)if(x(\"template\",ia,G,t),ia=G,U=L(G.template)?G.template(t,d):G.template,U=Y(U),G.replace){f=G;U=A(\"\u003cdiv\u003e\"+ba(U)+\"\u003c/div\u003e\").contents();c=U[0];if(1!=U.length||1!==c.nodeType)throw ja(\"tplrt\",da,\"\");ib(g,t,c);na={$attr:{}};U=J(c,[],na);var W=a.splice(M+1,a.length-(M+1));H\u0026\u0026ic(U);a=a.concat(U).concat(W);B(d,na);\nna=a.length}else t.html(U);if(G.templateUrl)x(\"template\",ia,G,t),ia=G,G.replace\u0026\u0026(f=G),E=w(a.splice(M,a.length-M),t,d,g,F,m,n,{controllerDirectives:V,newIsolateScopeDirective:H,templateDirective:ia,nonTlbTranscludeDirective:p}),na=a.length;else if(G.compile)try{O=G.compile(t,d,F),L(O)?y(null,O,Va,S):O\u0026\u0026y(O.pre,O.post,Va,S)}catch(Z){l(Z,ga(t))}G.terminal\u0026\u0026(E.terminal=!0,N=Math.max(N,G.priority))}E.scope=u\u0026\u0026!0===u.scope;E.transclude=T\u0026\u0026F;return E}function ic(a){for(var b=0,c=a.length;b\u003cc;b++)a[b]=Sb(a[b],\n{$$isolateScope:!0})}function T(b,e,g,f,k,s,n){if(e===k)return null;k=null;if(c.hasOwnProperty(e)){var p;e=a.get(e+d);for(var C=0,y=e.length;C\u003cy;C++)try{p=e[C],(f===r||f\u003ep.priority)\u0026\u0026-1!=p.restrict.indexOf(g)\u0026\u0026(s\u0026\u0026(p=Sb(p,{$$start:s,$$end:n})),b.push(p),k=p)}catch(v){l(v)}}return k}function B(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;q(a,function(d,e){\"$\"!=e.charAt(0)\u0026\u0026(b[e]\u0026\u0026(d+=(\"style\"===e?\";\":\" \")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,g){\"class\"==g?(ha(e,b),a[\"class\"]=(a[\"class\"]?a[\"class\"]+\n\" \":\"\")+b):\"style\"==g?(e.attr(\"style\",e.attr(\"style\")+\";\"+b),a.style=(a.style?a.style+\";\":\"\")+b):\"$\"==g.charAt(0)||a.hasOwnProperty(g)||(a[g]=b,d[g]=c[g])})}function w(a,b,c,d,e,g,f,m){var k=[],s,l,C=b[0],y=a.shift(),v=t({},y,{templateUrl:null,transclude:null,replace:null,$$originalDirective:y}),R=L(y.templateUrl)?y.templateUrl(b,c):y.templateUrl;b.empty();n.get(u.getTrustedResourceUrl(R),{cache:p}).success(function(n){var p,E;n=Y(n);if(y.replace){n=A(\"\u003cdiv\u003e\"+ba(n)+\"\u003c/div\u003e\").contents();p=n[0];if(1!=\nn.length||1!==p.nodeType)throw ja(\"tplrt\",y.name,R);n={$attr:{}};ib(d,b,p);var u=J(p,[],n);X(y.scope)\u0026\u0026ic(u);a=u.concat(a);B(c,n)}else p=C,b.html(n);a.unshift(v);s=ia(a,p,c,e,b,y,g,f,m);q(d,function(a,c){a==p\u0026\u0026(d[c]=b[0])});for(l=N(b[0].childNodes,e);k.length;){n=k.shift();E=k.shift();var H=k.shift(),ha=k.shift(),u=b[0];E!==C\u0026\u0026(u=Ab(p),ib(H,A(E),u));E=s.transclude?V(n,s.transclude):ha;s(l,n,u,d,E)}k=null}).error(function(a,b,c,d){throw ja(\"tpload\",d.url);});return function(a,b,c,d,e){k?(k.push(b),\nk.push(c),k.push(d),k.push(e)):s(l,b,c,d,e)}}function z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name\u003cb.name?-1:1:a.index-b.index}function x(a,b,c,d){if(b)throw ja(\"multidir\",b.name,c.name,a,ga(d));}function F(a,c){var d=b(c,!0);d\u0026\u0026a.push({priority:0,compile:$(function(a,b){var c=b.parent(),e=c.data(\"$binding\")||[];e.push(d);ha(c.data(\"$binding\",e),\"ng-binding\");a.$watch(d,function(a){b[0].nodeValue=a})})})}function O(a,b){if(\"srcdoc\"==b)return u.HTML;var c=Ha(a);if(\"xlinkHref\"==\nb||\"FORM\"==c\u0026\u0026\"action\"==b||\"IMG\"!=c\u0026\u0026(\"src\"==b||\"ngSrc\"==b))return u.RESOURCE_URL}function S(a,c,d,e){var g=b(d,!0);if(g){if(\"multiple\"===e\u0026\u0026\"SELECT\"===Ha(a))throw ja(\"selmulti\",ga(a));c.push({priority:100,compile:function(){return{pre:function(c,d,m){d=m.$$observers||(m.$$observers={});if(f.test(e))throw ja(\"nodomevents\");if(g=b(m[e],!0,O(a,e)))m[e]=g(c),(d[e]||(d[e]=[])).$$inter=!0,(m.$$observers\u0026\u0026m.$$observers[e].$$scope||c).$watch(g,function(a,b){\"class\"===e\u0026\u0026a!=b?m.$updateClass(a,b):m.$set(e,\na)})}}}})}}function ib(a,b,c){var d=b[0],e=b.length,g=d.parentNode,f,m;if(a)for(f=0,m=a.length;f\u003cm;f++)if(a[f]==d){a[f++]=c;m=f+e-1;for(var k=a.length;f\u003ck;f++,m++)m\u003ck?a[f]=a[m]:delete a[f];a.length-=e-1;break}g\u0026\u0026g.replaceChild(c,d);a=Q.createDocumentFragment();a.appendChild(d);c[A.expando]=d[A.expando];d=1;for(e=b.length;d\u003ce;d++)g=b[d],A(g).remove(),a.appendChild(g),delete b[d];b[0]=c;b.length=1}function kc(a,b){return t(function(){return a.apply(null,arguments)},a,b)}var Fb=function(a,b){this.$$element=\na;this.$attr=b||{}};Fb.prototype={$normalize:ma,$addClass:function(a){a\u0026\u00260\u003ca.length\u0026\u0026R.addClass(this.$$element,a)},$removeClass:function(a){a\u0026\u00260\u003ca.length\u0026\u0026R.removeClass(this.$$element,a)},$updateClass:function(a,b){this.$removeClass(lc(b,a));this.$addClass(lc(a,b))},$set:function(a,b,c,d){var e=fc(this.$$element[0],a);e\u0026\u0026(this.$$element.prop(a,b),d=e);this[a]=b;d?this.$attr[a]=d:(d=this.$attr[a])||(this.$attr[a]=d=db(a,\"-\"));e=Ha(this.$$element);if(\"A\"===e\u0026\u0026\"href\"===a||\"IMG\"===e\u0026\u0026\"src\"===a)this[a]=\nb=H(b,\"src\"===a);!1!==c\u0026\u0026(null===b||b===r?this.$$element.removeAttr(d):this.$$element.attr(d,b));(c=this.$$observers)\u0026\u0026q(c[a],function(a){try{a(b)}catch(c){l(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);e.push(b);y.$evalAsync(function(){e.$$inter||b(c[a])});return b}};var da=b.startSymbol(),na=b.endSymbol(),Y=\"{{\"==da||\"}}\"==na?Ba:function(a){return a.replace(/\\{\\{/g,da).replace(/}}/g,na)},W=/^ngAttr[A-Z]/;return v}]}function ma(b){return Qa(b.replace(id,\n\"\"))}function lc(b,a){var c=\"\",d=b.split(/\\s+/),e=a.split(/\\s+/),g=0;a:for(;g\u003cd.length;g++){for(var f=d[g],h=0;h\u003ce.length;h++)if(f==e[h])continue a;c+=(0\u003cc.length?\" \":\"\")+f}return c}function jd(){var b={},a=/^(\\S+)(\\s+as\\s+(\\w+))?$/;this.register=function(a,d){xa(a,\"controller\");X(a)?t(b,a):b[a]=d};this.$get=[\"$injector\",\"$window\",function(c,d){return function(e,g){var f,h,m;D(e)\u0026\u0026(f=e.match(a),h=f[1],m=f[3],e=b.hasOwnProperty(h)?b[h]:vb(g.$scope,h,!0)||vb(d,h,!0),Pa(e,h,!0));f=c.instantiate(e,g);\nif(m){if(!g||\"object\"!=typeof g.$scope)throw F(\"$controller\")(\"noscp\",h||e.name,m);g.$scope[m]=f}return f}}]}function kd(){this.$get=[\"$window\",function(b){return A(b.document)}]}function ld(){this.$get=[\"$log\",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function mc(b){var a={},c,d,e;if(!b)return a;q(b.split(\"\\n\"),function(b){e=b.indexOf(\":\");c=x(ba(b.substr(0,e)));d=ba(b.substr(e+1));c\u0026\u0026(a[c]=a[c]?a[c]+(\", \"+d):d)});return a}function nc(b){var a=X(b)?b:r;return function(c){a||\n(a=mc(b));return c?a[x(c)]||null:a}}function oc(b,a,c){if(L(c))return c(b,a);q(c,function(c){b=c(b,a)});return b}function md(){var b=/^\\s*(\\[|\\{[^\\{])/,a=/[\\}\\]]\\s*$/,c=/^\\)\\]\\}',?\\n/,d={\"Content-Type\":\"application/json;charset=utf-8\"},e=this.defaults={transformResponse:[function(d){D(d)\u0026\u0026(d=d.replace(c,\"\"),b.test(d)\u0026\u0026a.test(d)\u0026\u0026(d=Vb(d)));return d}],transformRequest:[function(a){return X(a)\u0026\u0026\"[object File]\"!==$a.call(a)?qa(a):a}],headers:{common:{Accept:\"application/json, text/plain, */*\"},post:aa(d),\nput:aa(d),patch:aa(d)},xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\"},g=this.interceptors=[],f=this.responseInterceptors=[];this.$get=[\"$httpBackend\",\"$browser\",\"$cacheFactory\",\"$rootScope\",\"$q\",\"$injector\",function(a,b,c,d,n,p){function s(a){function c(a){var b=t({},a,{data:oc(a.data,a.headers,d.transformResponse)});return 200\u003c=a.status\u0026\u0026300\u003ea.status?b:n.reject(b)}var d={transformRequest:e.transformRequest,transformResponse:e.transformResponse},g=function(a){function b(a){var c;q(a,function(b,\nd){L(b)\u0026\u0026(c=b(),null!=c?a[d]=c:delete a[d])})}var c=e.headers,d=t({},a.headers),g,f,c=t({},c.common,c[x(a.method)]);b(c);b(d);a:for(g in c){a=x(g);for(f in d)if(x(f)===a)continue a;d[g]=c[g]}return d}(a);t(d,a);d.headers=g;d.method=Ia(d.method);(a=Gb(d.url)?b.cookies()[d.xsrfCookieName||e.xsrfCookieName]:r)\u0026\u0026(g[d.xsrfHeaderName||e.xsrfHeaderName]=a);var f=[function(a){g=a.headers;var b=oc(a.data,nc(g),a.transformRequest);z(a.data)\u0026\u0026q(g,function(a,b){\"content-type\"===x(b)\u0026\u0026delete g[b]});z(a.withCredentials)\u0026\u0026\n!z(e.withCredentials)\u0026\u0026(a.withCredentials=e.withCredentials);return C(a,b,g).then(c,c)},r],h=n.when(d);for(q(u,function(a){(a.request||a.requestError)\u0026\u0026f.unshift(a.request,a.requestError);(a.response||a.responseError)\u0026\u0026f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),h=h.then(a,k)}h.success=function(a){h.then(function(b){a(b.data,b.status,b.headers,d)});return h};h.error=function(a){h.then(null,function(b){a(b.data,b.status,b.headers,d)});return h};return h}function C(b,\nc,g){function f(a,b,c){u\u0026\u0026(200\u003c=a\u0026\u0026300\u003ea?u.put(r,[a,b,mc(c)]):u.remove(r));m(b,a,c);d.$$phase||d.$apply()}function m(a,c,d){c=Math.max(c,0);(200\u003c=c\u0026\u0026300\u003ec?p.resolve:p.reject)({data:a,status:c,headers:nc(d),config:b})}function k(){var a=bb(s.pendingRequests,b);-1!==a\u0026\u0026s.pendingRequests.splice(a,1)}var p=n.defer(),C=p.promise,u,q,r=y(b.url,b.params);s.pendingRequests.push(b);C.then(k,k);(b.cache||e.cache)\u0026\u0026(!1!==b.cache\u0026\u0026\"GET\"==b.method)\u0026\u0026(u=X(b.cache)?b.cache:X(e.cache)?e.cache:E);if(u)if(q=u.get(r),\nB(q)){if(q.then)return q.then(k,k),q;K(q)?m(q[1],q[0],aa(q[2])):m(q,200,{})}else u.put(r,C);z(q)\u0026\u0026a(b.method,r,c,f,g,b.timeout,b.withCredentials,b.responseType);return C}function y(a,b){if(!b)return a;var c=[];Pc(b,function(a,b){null===a||z(a)||(K(a)||(a=[a]),q(a,function(a){X(a)\u0026\u0026(a=qa(a));c.push(wa(b)+\"=\"+wa(a))}))});return a+(-1==a.indexOf(\"?\")?\"?\":\"\u0026\")+c.join(\"\u0026\")}var E=c(\"$http\"),u=[];q(g,function(a){u.unshift(D(a)?p.get(a):p.invoke(a))});q(f,function(a,b){var c=D(a)?p.get(a):p.invoke(a);u.splice(b,\n0,{response:function(a){return c(n.when(a))},responseError:function(a){return c(n.reject(a))}})});s.pendingRequests=[];(function(a){q(arguments,function(a){s[a]=function(b,c){return s(t(c||{},{method:a,url:b}))}})})(\"get\",\"delete\",\"head\",\"jsonp\");(function(a){q(arguments,function(a){s[a]=function(b,c,d){return s(t(d||{},{method:a,url:b,data:c}))}})})(\"post\",\"put\");s.defaults=e;return s}]}function nd(b){return 8\u003e=M\u0026\u0026\"patch\"===x(b)?new ActiveXObject(\"Microsoft.XMLHTTP\"):new Z.XMLHttpRequest}function od(){this.$get=\n[\"$browser\",\"$window\",\"$document\",function(b,a,c){return pd(b,nd,b.defer,a.angular.callbacks,c[0])}]}function pd(b,a,c,d,e){function g(a,b){var c=e.createElement(\"script\"),d=function(){c.onreadystatechange=c.onload=c.onerror=null;e.body.removeChild(c);b\u0026\u0026b()};c.type=\"text/javascript\";c.src=a;M\u0026\u00268\u003e=M?c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)\u0026\u0026d()}:c.onload=c.onerror=function(){d()};e.body.appendChild(c);return d}var f=-1;return function(e,m,k,l,n,p,s,C){function y(){u=f;\nH\u0026\u0026H();v\u0026\u0026v.abort()}function E(a,d,e,g){r\u0026\u0026c.cancel(r);H=v=null;d=0===d?e?200:404:d;a(1223==d?204:d,e,g);b.$$completeOutstandingRequest(w)}var u;b.$$incOutstandingRequestCount();m=m||b.url();if(\"jsonp\"==x(e)){var R=\"_\"+(d.counter++).toString(36);d[R]=function(a){d[R].data=a};var H=g(m.replace(\"JSON_CALLBACK\",\"angular.callbacks.\"+R),function(){d[R].data?E(l,200,d[R].data):E(l,u||-2);d[R]=Ca.noop})}else{var v=a(e);v.open(e,m,!0);q(n,function(a,b){B(a)\u0026\u0026v.setRequestHeader(b,a)});v.onreadystatechange=\nfunction(){if(v\u0026\u00264==v.readyState){var a=null,b=null;u!==f\u0026\u0026(a=v.getAllResponseHeaders(),b=\"response\"in v?v.response:v.responseText);E(l,u||v.status,b,a)}};s\u0026\u0026(v.withCredentials=!0);C\u0026\u0026(v.responseType=C);v.send(k||null)}if(0\u003cp)var r=c(y,p);else p\u0026\u0026p.then\u0026\u0026p.then(y)}}function qd(){var b=\"{{\",a=\"}}\";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=[\"$parse\",\"$exceptionHandler\",\"$sce\",function(c,d,e){function g(g,k,l){for(var n,p,s=0,C=[],\ny=g.length,E=!1,u=[];s\u003cy;)-1!=(n=g.indexOf(b,s))\u0026\u0026-1!=(p=g.indexOf(a,n+f))?(s!=n\u0026\u0026C.push(g.substring(s,n)),C.push(s=c(E=g.substring(n+f,p))),s.exp=E,s=p+h,E=!0):(s!=y\u0026\u0026C.push(g.substring(s)),s=y);(y=C.length)||(C.push(\"\"),y=1);if(l\u0026\u00261\u003cC.length)throw pc(\"noconcat\",g);if(!k||E)return u.length=y,s=function(a){try{for(var b=0,c=y,f;b\u003cc;b++)\"function\"==typeof(f=C[b])\u0026\u0026(f=f(a),f=l?e.getTrusted(l,f):e.valueOf(f),null===f||z(f)?f=\"\":\"string\"!=typeof f\u0026\u0026(f=qa(f))),u[b]=f;return u.join(\"\")}catch(h){a=pc(\"interr\",\ng,h.toString()),d(a)}},s.exp=g,s.parts=C,s}var f=b.length,h=a.length;g.startSymbol=function(){return b};g.endSymbol=function(){return a};return g}]}function rd(){this.$get=[\"$rootScope\",\"$window\",\"$q\",function(b,a,c){function d(d,f,h,m){var k=a.setInterval,l=a.clearInterval,n=c.defer(),p=n.promise,s=0,C=B(m)\u0026\u0026!m;h=B(h)?h:0;p.then(null,null,d);p.$$intervalId=k(function(){n.notify(s++);0\u003ch\u0026\u0026s\u003e=h\u0026\u0026(n.resolve(s),l(p.$$intervalId),delete e[p.$$intervalId]);C||b.$apply()},f);e[p.$$intervalId]=n;return p}\nvar e={};d.cancel=function(a){return a\u0026\u0026a.$$intervalId in e?(e[a.$$intervalId].reject(\"canceled\"),clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1};return d}]}function sd(){this.$get=function(){return{id:\"en-us\",NUMBER_FORMATS:{DECIMAL_SEP:\".\",GROUP_SEP:\",\",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:\"\",posSuf:\"\",negPre:\"-\",negSuf:\"\",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:\"\\u00a4\",posSuf:\"\",negPre:\"(\\u00a4\",negSuf:\")\",gSize:3,lgSize:3}],CURRENCY_SYM:\"$\"},DATETIME_FORMATS:{MONTH:\"January February March April May June July August September October November December\".split(\" \"),\nSHORTMONTH:\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),DAY:\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),SHORTDAY:\"Sun Mon Tue Wed Thu Fri Sat\".split(\" \"),AMPMS:[\"AM\",\"PM\"],medium:\"MMM d, y h:mm:ss a\",\"short\":\"M/d/yy h:mm a\",fullDate:\"EEEE, MMMM d, y\",longDate:\"MMMM d, y\",mediumDate:\"MMM d, y\",shortDate:\"M/d/yy\",mediumTime:\"h:mm:ss a\",shortTime:\"h:mm a\"},pluralCat:function(b){return 1===b?\"one\":\"other\"}}}}function qc(b){b=b.split(\"/\");for(var a=b.length;a--;)b[a]=\ntb(b[a]);return b.join(\"/\")}function rc(b,a,c){b=ya(b,c);a.$$protocol=b.protocol;a.$$host=b.hostname;a.$$port=S(b.port)||td[b.protocol]||null}function sc(b,a,c){var d=\"/\"!==b.charAt(0);d\u0026\u0026(b=\"/\"+b);b=ya(b,c);a.$$path=decodeURIComponent(d\u0026\u0026\"/\"===b.pathname.charAt(0)?b.pathname.substring(1):b.pathname);a.$$search=Xb(b.search);a.$$hash=decodeURIComponent(b.hash);a.$$path\u0026\u0026\"/\"!=a.$$path.charAt(0)\u0026\u0026(a.$$path=\"/\"+a.$$path)}function oa(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Wa(b){var a=\nb.indexOf(\"#\");return-1==a?b:b.substr(0,a)}function Hb(b){return b.substr(0,Wa(b).lastIndexOf(\"/\")+1)}function tc(b,a){this.$$html5=!0;a=a||\"\";var c=Hb(b);rc(b,this,b);this.$$parse=function(a){var e=oa(c,a);if(!D(e))throw Ib(\"ipthprfx\",a,c);sc(e,this,b);this.$$path||(this.$$path=\"/\");this.$$compose()};this.$$compose=function(){var a=Yb(this.$$search),b=this.$$hash?\"#\"+tb(this.$$hash):\"\";this.$$url=qc(this.$$path)+(a?\"?\"+a:\"\")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$rewrite=function(d){var e;\nif((e=oa(b,d))!==r)return d=e,(e=oa(a,e))!==r?c+(oa(\"/\",e)||e):b+d;if((e=oa(c,d))!==r)return c+e;if(c==d+\"/\")return c}}function Jb(b,a){var c=Hb(b);rc(b,this,b);this.$$parse=function(d){var e=oa(b,d)||oa(c,d),e=\"#\"==e.charAt(0)?oa(a,e):this.$$html5?e:\"\";if(!D(e))throw Ib(\"ihshprfx\",d,a);sc(e,this,b);d=this.$$path;var g=/^\\/?.*?:(\\/.*)/;0===e.indexOf(b)\u0026\u0026(e=e.replace(b,\"\"));g.exec(e)||(d=(e=g.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};this.$$compose=function(){var c=Yb(this.$$search),e=this.$$hash?\n\"#\"+tb(this.$$hash):\"\";this.$$url=qc(this.$$path)+(c?\"?\"+c:\"\")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:\"\")};this.$$rewrite=function(a){if(Wa(b)==Wa(a))return a}}function uc(b,a){this.$$html5=!0;Jb.apply(this,arguments);var c=Hb(b);this.$$rewrite=function(d){var e;if(b==Wa(d))return d;if(e=oa(c,d))return b+a+e;if(c===d+\"/\")return c}}function jb(b){return function(){return this[b]}}function vc(b,a){return function(c){if(z(c))return this[b];this[b]=a(c);this.$$compose();return this}}function ud(){var b=\n\"\",a=!1;this.hashPrefix=function(a){return B(a)?(b=a,this):b};this.html5Mode=function(b){return B(b)?(a=b,this):a};this.$get=[\"$rootScope\",\"$browser\",\"$sniffer\",\"$rootElement\",function(c,d,e,g){function f(a){c.$broadcast(\"$locationChangeSuccess\",h.absUrl(),a)}var h,m=d.baseHref(),k=d.url();a?(m=k.substring(0,k.indexOf(\"/\",k.indexOf(\"//\")+2))+(m||\"/\"),e=e.history?tc:uc):(m=Wa(k),e=Jb);h=new e(m,\"#\"+b);h.$$parse(h.$$rewrite(k));g.on(\"click\",function(a){if(!a.ctrlKey\u0026\u0026!a.metaKey\u0026\u00262!=a.which){for(var b=\nA(a.target);\"a\"!==x(b[0].nodeName);)if(b[0]===g[0]||!(b=b.parent())[0])return;var e=b.prop(\"href\");X(e)\u0026\u0026\"[object SVGAnimatedString]\"===e.toString()\u0026\u0026(e=ya(e.animVal).href);var f=h.$$rewrite(e);e\u0026\u0026(!b.attr(\"target\")\u0026\u0026f\u0026\u0026!a.isDefaultPrevented())\u0026\u0026(a.preventDefault(),f!=d.url()\u0026\u0026(h.$$parse(f),c.$apply(),Z.angular[\"ff-684208-preventDefault\"]=!0))}});h.absUrl()!=k\u0026\u0026d.url(h.absUrl(),!0);d.onUrlChange(function(a){h.absUrl()!=a\u0026\u0026(c.$evalAsync(function(){var b=h.absUrl();h.$$parse(a);c.$broadcast(\"$locationChangeStart\",\na,b).defaultPrevented?(h.$$parse(b),d.url(b)):f(b)}),c.$$phase||c.$digest())});var l=0;c.$watch(function(){var a=d.url(),b=h.$$replace;l\u0026\u0026a==h.absUrl()||(l++,c.$evalAsync(function(){c.$broadcast(\"$locationChangeStart\",h.absUrl(),a).defaultPrevented?h.$$parse(a):(d.url(h.absUrl(),b),f(a))}));h.$$replace=!1;return l});return h}]}function vd(){var b=!0,a=this;this.debugEnabled=function(a){return B(a)?(b=a,this):b};this.$get=[\"$window\",function(c){function d(a){a instanceof Error\u0026\u0026(a.stack?a=a.message\u0026\u0026\n-1===a.stack.indexOf(a.message)?\"Error: \"+a.message+\"\\n\"+a.stack:a.stack:a.sourceURL\u0026\u0026(a=a.message+\"\\n\"+a.sourceURL+\":\"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||w;a=!1;try{a=!!e.apply}catch(m){}return a?function(){var a=[];q(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?\"\":b)}}return{log:e(\"log\"),info:e(\"info\"),warn:e(\"warn\"),error:e(\"error\"),debug:function(){var c=e(\"debug\");return function(){b\u0026\u0026c.apply(a,arguments)}}()}}]}function ea(b,\na){if(\"constructor\"===b)throw za(\"isecfld\",a);return b}function Xa(b,a){if(b){if(b.constructor===b)throw za(\"isecfn\",a);if(b.document\u0026\u0026b.location\u0026\u0026b.alert\u0026\u0026b.setInterval)throw za(\"isecwindow\",a);if(b.children\u0026\u0026(b.nodeName||b.on\u0026\u0026b.find))throw za(\"isecdom\",a);}return b}function kb(b,a,c,d,e){e=e||{};a=a.split(\".\");for(var g,f=0;1\u003ca.length;f++){g=ea(a.shift(),d);var h=b[g];h||(h={},b[g]=h);b=h;b.then\u0026\u0026e.unwrapPromises\u0026\u0026(ra(d),\"$$v\"in b||function(a){a.then(function(b){a.$$v=b})}(b),b.$$v===r\u0026\u0026(b.$$v=\n{}),b=b.$$v)}g=ea(a.shift(),d);return b[g]=c}function wc(b,a,c,d,e,g,f){ea(b,g);ea(a,g);ea(c,g);ea(d,g);ea(e,g);return f.unwrapPromises?function(f,m){var k=m\u0026\u0026m.hasOwnProperty(b)?m:f,l;if(null==k)return k;(k=k[b])\u0026\u0026k.then\u0026\u0026(ra(g),\"$$v\"in k||(l=k,l.$$v=r,l.then(function(a){l.$$v=a})),k=k.$$v);if(!a)return k;if(null==k)return r;(k=k[a])\u0026\u0026k.then\u0026\u0026(ra(g),\"$$v\"in k||(l=k,l.$$v=r,l.then(function(a){l.$$v=a})),k=k.$$v);if(!c)return k;if(null==k)return r;(k=k[c])\u0026\u0026k.then\u0026\u0026(ra(g),\"$$v\"in k||(l=k,l.$$v=r,l.then(function(a){l.$$v=\na})),k=k.$$v);if(!d)return k;if(null==k)return r;(k=k[d])\u0026\u0026k.then\u0026\u0026(ra(g),\"$$v\"in k||(l=k,l.$$v=r,l.then(function(a){l.$$v=a})),k=k.$$v);if(!e)return k;if(null==k)return r;(k=k[e])\u0026\u0026k.then\u0026\u0026(ra(g),\"$$v\"in k||(l=k,l.$$v=r,l.then(function(a){l.$$v=a})),k=k.$$v);return k}:function(g,f){var k=f\u0026\u0026f.hasOwnProperty(b)?f:g;if(null==k)return k;k=k[b];if(!a)return k;if(null==k)return r;k=k[a];if(!c)return k;if(null==k)return r;k=k[c];if(!d)return k;if(null==k)return r;k=k[d];return e?null==k?r:k=k[e]:k}}function wd(b,\na){ea(b,a);return function(a,d){return null==a?r:(d\u0026\u0026d.hasOwnProperty(b)?d:a)[b]}}function xd(b,a,c){ea(b,c);ea(a,c);return function(c,e){if(null==c)return r;c=(e\u0026\u0026e.hasOwnProperty(b)?e:c)[b];return null==c?r:c[a]}}function xc(b,a,c){if(Kb.hasOwnProperty(b))return Kb[b];var d=b.split(\".\"),e=d.length,g;if(a.unwrapPromises||1!==e)if(a.unwrapPromises||2!==e)if(a.csp)g=6\u003ee?wc(d[0],d[1],d[2],d[3],d[4],c,a):function(b,g){var f=0,h;do h=wc(d[f++],d[f++],d[f++],d[f++],d[f++],c,a)(b,g),g=r,b=h;while(f\u003ce);\nreturn h};else{var f=\"var p;\\n\";q(d,function(b,d){ea(b,c);f+=\"if(s == null) return undefined;\\ns=\"+(d?\"s\":'((k\u0026\u0026k.hasOwnProperty(\"'+b+'\"))?k:s)')+'[\"'+b+'\"];\\n'+(a.unwrapPromises?'if (s \u0026\u0026 s.then) {\\n pw(\"'+c.replace(/([\"\\r\\n])/g,\"\\\\$1\")+'\");\\n if (!(\"$$v\" in s)) {\\n p=s;\\n p.$$v = undefined;\\n p.then(function(v) {p.$$v=v;});\\n}\\n s=s.$$v\\n}\\n':\"\")});var f=f+\"return s;\",h=new Function(\"s\",\"k\",\"pw\",f);h.toString=$(f);g=a.unwrapPromises?function(a,b){return h(a,b,ra)}:h}else g=xd(d[0],d[1],c);else g=\nwd(d[0],c);\"hasOwnProperty\"!==b\u0026\u0026(Kb[b]=g);return g}function yd(){var b={},a={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(b){return B(b)?(a.unwrapPromises=!!b,this):a.unwrapPromises};this.logPromiseWarnings=function(b){return B(b)?(a.logPromiseWarnings=b,this):a.logPromiseWarnings};this.$get=[\"$filter\",\"$sniffer\",\"$log\",function(c,d,e){a.csp=d.csp;ra=function(b){a.logPromiseWarnings\u0026\u0026!yc.hasOwnProperty(b)\u0026\u0026(yc[b]=!0,e.warn(\"[$parse] Promise found in the expression `\"+\nb+\"`. Automatic unwrapping of promises in Angular expressions is deprecated.\"))};return function(d){var e;switch(typeof d){case \"string\":if(b.hasOwnProperty(d))return b[d];e=new Lb(a);e=(new Ya(e,c,a)).parse(d,!1);\"hasOwnProperty\"!==d\u0026\u0026(b[d]=e);return e;case \"function\":return d;default:return w}}}]}function zd(){this.$get=[\"$rootScope\",\"$exceptionHandler\",function(b,a){return Ad(function(a){b.$evalAsync(a)},a)}]}function Ad(b,a){function c(a){return a}function d(a){return f(a)}var e=function(){var h=\n[],m,k;return k={resolve:function(a){if(h){var c=h;h=r;m=g(a);c.length\u0026\u0026b(function(){for(var a,b=0,d=c.length;b\u003cd;b++)a=c[b],m.then(a[0],a[1],a[2])})}},reject:function(a){k.resolve(f(a))},notify:function(a){if(h){var c=h;h.length\u0026\u0026b(function(){for(var b,d=0,e=c.length;d\u003ce;d++)b=c[d],b[2](a)})}},promise:{then:function(b,g,f){var k=e(),C=function(d){try{k.resolve((L(b)?b:c)(d))}catch(e){k.reject(e),a(e)}},y=function(b){try{k.resolve((L(g)?g:d)(b))}catch(c){k.reject(c),a(c)}},E=function(b){try{k.notify((L(f)?\nf:c)(b))}catch(d){a(d)}};h?h.push([C,y,E]):m.then(C,y,E);return k.promise},\"catch\":function(a){return this.then(null,a)},\"finally\":function(a){function b(a,c){var d=e();c?d.resolve(a):d.reject(a);return d.promise}function d(e,g){var f=null;try{f=(a||c)()}catch(h){return b(h,!1)}return f\u0026\u0026L(f.then)?f.then(function(){return b(e,g)},function(a){return b(a,!1)}):b(e,g)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},g=function(a){return a\u0026\u0026L(a.then)?a:{then:function(c){var d=\ne();b(function(){d.resolve(c(a))});return d.promise}}},f=function(c){return{then:function(g,f){var l=e();b(function(){try{l.resolve((L(f)?f:d)(c))}catch(b){l.reject(b),a(b)}});return l.promise}}};return{defer:e,reject:f,when:function(h,m,k,l){var n=e(),p,s=function(b){try{return(L(m)?m:c)(b)}catch(d){return a(d),f(d)}},C=function(b){try{return(L(k)?k:d)(b)}catch(c){return a(c),f(c)}},y=function(b){try{return(L(l)?l:c)(b)}catch(d){a(d)}};b(function(){g(h).then(function(a){p||(p=!0,n.resolve(g(a).then(s,\nC,y)))},function(a){p||(p=!0,n.resolve(C(a)))},function(a){p||n.notify(y(a))})});return n.promise},all:function(a){var b=e(),c=0,d=K(a)?[]:{};q(a,function(a,e){c++;g(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c\u0026\u0026b.resolve(d);return b.promise}}}function Bd(){var b=10,a=F(\"$rootScope\"),c=null;this.digestTtl=function(a){arguments.length\u0026\u0026(b=a);return b};this.$get=[\"$injector\",\"$exceptionHandler\",\"$parse\",\"$browser\",function(d,\ne,g,f){function h(){this.$id=Za();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this[\"this\"]=this.$root=this;this.$$destroyed=!1;this.$$asyncQueue=[];this.$$postDigestQueue=[];this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings={}}function m(b){if(p.$$phase)throw a(\"inprog\",p.$$phase);p.$$phase=b}function k(a,b){var c=g(a);Pa(c,b);return c}function l(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]\u0026\u0026\ndelete a.$$listenerCount[c];while(a=a.$parent)}function n(){}h.prototype={constructor:h,$new:function(a){a?(a=new h,a.$root=this.$root,a.$$asyncQueue=this.$$asyncQueue,a.$$postDigestQueue=this.$$postDigestQueue):(a=function(){},a.prototype=this,a=new a,a.$id=Za());a[\"this\"]=a;a.$$listeners={};a.$$listenerCount={};a.$parent=this;a.$$watchers=a.$$nextSibling=a.$$childHead=a.$$childTail=null;a.$$prevSibling=this.$$childTail;this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=a:this.$$childHead=\nthis.$$childTail=a;return a},$watch:function(a,b,d){var e=k(a,\"watch\"),g=this.$$watchers,f={fn:b,last:n,get:e,exp:a,eq:!!d};c=null;if(!L(b)){var h=k(b||w,\"listener\");f.fn=function(a,b,c){h(c)}}if(\"string\"==typeof a\u0026\u0026e.constant){var m=f.fn;f.fn=function(a,b,c){m.call(this,a,b,c);Ma(g,f)}}g||(g=this.$$watchers=[]);g.unshift(f);return function(){Ma(g,f);c=null}},$watchCollection:function(a,b){var c=this,d,e,f=0,h=g(a),m=[],k={},l=0;return this.$watch(function(){e=h(c);var a,b;if(X(e))if(rb(e))for(d!==\nm\u0026\u0026(d=m,l=d.length=0,f++),a=e.length,l!==a\u0026\u0026(f++,d.length=l=a),b=0;b\u003ca;b++)d[b]!==e[b]\u0026\u0026(f++,d[b]=e[b]);else{d!==k\u0026\u0026(d=k={},l=0,f++);a=0;for(b in e)e.hasOwnProperty(b)\u0026\u0026(a++,d.hasOwnProperty(b)?d[b]!==e[b]\u0026\u0026(f++,d[b]=e[b]):(l++,d[b]=e[b],f++));if(l\u003ea)for(b in f++,d)d.hasOwnProperty(b)\u0026\u0026!e.hasOwnProperty(b)\u0026\u0026(l--,delete d[b])}else d!==e\u0026\u0026(d=e,f++);return f},function(){b(e,d,c)})},$digest:function(){var d,f,g,h,k=this.$$asyncQueue,l=this.$$postDigestQueue,q,v,r=b,N,V=[],J,A,P;m(\"$digest\");c=null;do{v=\n!1;for(N=this;k.length;){try{P=k.shift(),P.scope.$eval(P.expression)}catch(B){p.$$phase=null,e(B)}c=null}a:do{if(h=N.$$watchers)for(q=h.length;q--;)try{if(d=h[q])if((f=d.get(N))!==(g=d.last)\u0026\u0026!(d.eq?ua(f,g):\"number\"==typeof f\u0026\u0026\"number\"==typeof g\u0026\u0026isNaN(f)\u0026\u0026isNaN(g)))v=!0,c=d,d.last=d.eq?aa(f):f,d.fn(f,g===n?f:g,N),5\u003er\u0026\u0026(J=4-r,V[J]||(V[J]=[]),A=L(d.exp)?\"fn: \"+(d.exp.name||d.exp.toString()):d.exp,A+=\"; newVal: \"+qa(f)+\"; oldVal: \"+qa(g),V[J].push(A));else if(d===c){v=!1;break a}}catch(t){p.$$phase=\nnull,e(t)}if(!(h=N.$$childHead||N!==this\u0026\u0026N.$$nextSibling))for(;N!==this\u0026\u0026!(h=N.$$nextSibling);)N=N.$parent}while(N=h);if((v||k.length)\u0026\u0026!r--)throw p.$$phase=null,a(\"infdig\",b,qa(V));}while(v||k.length);for(p.$$phase=null;l.length;)try{l.shift()()}catch(z){e(z)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast(\"$destroy\");this.$$destroyed=!0;this!==p\u0026\u0026(q(this.$$listenerCount,cb(null,l,this)),a.$$childHead==this\u0026\u0026(a.$$childHead=this.$$nextSibling),a.$$childTail==this\u0026\u0026\n(a.$$childTail=this.$$prevSibling),this.$$prevSibling\u0026\u0026(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling\u0026\u0026(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a){p.$$phase||p.$$asyncQueue.length||f.defer(function(){p.$$asyncQueue.length\u0026\u0026p.$digest()});this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},\n$apply:function(a){try{return m(\"$apply\"),this.$eval(a)}catch(b){e(b)}finally{p.$$phase=null;try{p.$digest()}catch(c){throw e(c),c;}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[bb(c,b)]=null;l(e,1,a)}},$emit:function(a,b){var c=[],d,f=this,g=!1,h={name:a,targetScope:f,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=\n!0},defaultPrevented:!1},m=[h].concat(va.call(arguments,1)),k,l;do{d=f.$$listeners[a]||c;h.currentScope=f;k=0;for(l=d.length;k\u003cl;k++)if(d[k])try{d[k].apply(null,m)}catch(p){e(p)}else d.splice(k,1),k--,l--;if(g)break;f=f.$parent}while(f);return h},$broadcast:function(a,b){for(var c=this,d=this,f={name:a,targetScope:this,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1},g=[f].concat(va.call(arguments,1)),h,k;c=d;){f.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h\u003ck;h++)if(d[h])try{d[h].apply(null,\ng)}catch(m){e(m)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]\u0026\u0026c.$$childHead||c!==this\u0026\u0026c.$$nextSibling))for(;c!==this\u0026\u0026!(d=c.$$nextSibling);)c=c.$parent}return f}};var p=new h;return p}]}function Cd(){var b=/^\\s*(https?|ftp|mailto|tel|file):/,a=/^\\s*(https?|ftp|file):|data:image\\//;this.aHrefSanitizationWhitelist=function(a){return B(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return B(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,g;if(!M||8\u003c=\nM)if(g=ya(c).href,\"\"!==g\u0026\u0026!g.match(e))return\"unsafe:\"+g;return c}}}function Dd(b){if(\"self\"===b)return b;if(D(b)){if(-1\u003cb.indexOf(\"***\"))throw sa(\"iwcard\",b);b=b.replace(/([-()\\[\\]{}+?*.$\\^|,:#\u003c!\\\\])/g,\"\\\\$1\").replace(/\\x08/g,\"\\\\x08\").replace(\"\\\\*\\\\*\",\".*\").replace(\"\\\\*\",\"[^:/.?\u0026;]*\");return RegExp(\"^\"+b+\"$\")}if(ab(b))return RegExp(\"^\"+b.source+\"$\");throw sa(\"imatcher\");}function zc(b){var a=[];B(b)\u0026\u0026q(b,function(b){a.push(Dd(b))});return a}function Ed(){this.SCE_CONTEXTS=fa;var b=[\"self\"],a=[];this.resourceUrlWhitelist=\nfunction(a){arguments.length\u0026\u0026(b=zc(a));return b};this.resourceUrlBlacklist=function(b){arguments.length\u0026\u0026(a=zc(b));return a};this.$get=[\"$injector\",function(c){function d(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a\u0026\u0026(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var e=function(a){throw sa(\"unsafe\");};c.has(\"$sanitize\")\u0026\u0026(e=c.get(\"$sanitize\"));\nvar g=d(),f={};f[fa.HTML]=d(g);f[fa.CSS]=d(g);f[fa.URL]=d(g);f[fa.JS]=d(g);f[fa.RESOURCE_URL]=d(f[fa.URL]);return{trustAs:function(a,b){var c=f.hasOwnProperty(a)?f[a]:null;if(!c)throw sa(\"icontext\",a,b);if(null===b||b===r||\"\"===b)return b;if(\"string\"!==typeof b)throw sa(\"itype\",a);return new c(b)},getTrusted:function(c,d){if(null===d||d===r||\"\"===d)return d;var g=f.hasOwnProperty(c)?f[c]:null;if(g\u0026\u0026d instanceof g)return d.$$unwrapTrustedValue();if(c===fa.RESOURCE_URL){var g=ya(d.toString()),l,n,p=\n!1;l=0;for(n=b.length;l\u003cn;l++)if(\"self\"===b[l]?Gb(g):b[l].exec(g.href)){p=!0;break}if(p)for(l=0,n=a.length;l\u003cn;l++)if(\"self\"===a[l]?Gb(g):a[l].exec(g.href)){p=!1;break}if(p)return d;throw sa(\"insecurl\",d.toString());}if(c===fa.HTML)return e(d);throw sa(\"unsafe\");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Fd(){var b=!0;this.enabled=function(a){arguments.length\u0026\u0026(b=!!a);return b};this.$get=[\"$parse\",\"$sniffer\",\"$sceDelegate\",function(a,c,d){if(b\u0026\u0026c.msie\u0026\u00268\u003ec.msieDocumentMode)throw sa(\"iequirks\");\nvar e=aa(fa);e.isEnabled=function(){return b};e.trustAs=d.trustAs;e.getTrusted=d.getTrusted;e.valueOf=d.valueOf;b||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=Ba);e.parseAs=function(b,c){var d=a(c);return d.literal\u0026\u0026d.constant?d:function(a,c){return e.getTrusted(b,d(a,c))}};var g=e.parseAs,f=e.getTrusted,h=e.trustAs;q(fa,function(a,b){var c=x(b);e[Qa(\"parse_as_\"+c)]=function(b){return g(a,b)};e[Qa(\"get_trusted_\"+c)]=function(b){return f(a,b)};e[Qa(\"trust_as_\"+c)]=function(b){return h(a,\nb)}});return e}]}function Gd(){this.$get=[\"$window\",\"$document\",function(b,a){var c={},d=S((/android (\\d+)/.exec(x((b.navigator||{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),g=a[0]||{},f=g.documentMode,h,m=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=g.body\u0026\u0026g.body.style,l=!1,n=!1;if(k){for(var p in k)if(l=m.exec(p)){h=l[0];h=h.substr(0,1).toUpperCase()+h.substr(1);break}h||(h=\"WebkitOpacity\"in k\u0026\u0026\"webkit\");l=!!(\"transition\"in k||h+\"Transition\"in k);n=!!(\"animation\"in k||h+\"Animation\"in\nk);!d||l\u0026\u0026n||(l=D(g.body.style.webkitTransition),n=D(g.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4\u003ed||e),hashchange:\"onhashchange\"in b\u0026\u0026(!f||7\u003cf),hasEvent:function(a){if(\"input\"==a\u0026\u00269==M)return!1;if(z(c[a])){var b=g.createElement(\"div\");c[a]=\"on\"+a in b}return c[a]},csp:Ub(),vendorPrefix:h,transitions:l,animations:n,android:d,msie:M,msieDocumentMode:f}}]}function Hd(){this.$get=[\"$rootScope\",\"$browser\",\"$q\",\"$exceptionHandler\",function(b,a,c,d){function e(e,h,\nm){var k=c.defer(),l=k.promise,n=B(m)\u0026\u0026!m;h=a.defer(function(){try{k.resolve(e())}catch(a){k.reject(a),d(a)}finally{delete g[l.$$timeoutId]}n||b.$apply()},h);l.$$timeoutId=h;g[h]=k;return l}var g={};e.cancel=function(b){return b\u0026\u0026b.$$timeoutId in g?(g[b.$$timeoutId].reject(\"canceled\"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return e}]}function ya(b,a){var c=b;M\u0026\u0026(Y.setAttribute(\"href\",c),c=Y.href);Y.setAttribute(\"href\",c);return{href:Y.href,protocol:Y.protocol?Y.protocol.replace(/:$/,\n\"\"):\"\",host:Y.host,search:Y.search?Y.search.replace(/^\\?/,\"\"):\"\",hash:Y.hash?Y.hash.replace(/^#/,\"\"):\"\",hostname:Y.hostname,port:Y.port,pathname:\"/\"===Y.pathname.charAt(0)?Y.pathname:\"/\"+Y.pathname}}function Gb(b){b=D(b)?ya(b):b;return b.protocol===Ac.protocol\u0026\u0026b.host===Ac.host}function Id(){this.$get=$(Z)}function Bc(b){function a(d,e){if(X(d)){var g={};q(d,function(b,c){g[c]=a(c,b)});return g}return b.factory(d+c,e)}var c=\"Filter\";this.register=a;this.$get=[\"$injector\",function(a){return function(b){return a.get(b+\nc)}}];a(\"currency\",Cc);a(\"date\",Dc);a(\"filter\",Jd);a(\"json\",Kd);a(\"limitTo\",Ld);a(\"lowercase\",Md);a(\"number\",Ec);a(\"orderBy\",Fc);a(\"uppercase\",Nd)}function Jd(){return function(b,a,c){if(!K(b))return b;var d=typeof c,e=[];e.check=function(a){for(var b=0;b\u003ce.length;b++)if(!e[b](a))return!1;return!0};\"function\"!==d\u0026\u0026(c=\"boolean\"===d\u0026\u0026c?function(a,b){return Ca.equals(a,b)}:function(a,b){b=(\"\"+b).toLowerCase();return-1\u003c(\"\"+a).toLowerCase().indexOf(b)});var g=function(a,b){if(\"string\"==typeof b\u0026\u0026\"!\"===\nb.charAt(0))return!g(a,b.substr(1));switch(typeof a){case \"boolean\":case \"number\":case \"string\":return c(a,b);case \"object\":switch(typeof b){case \"object\":return c(a,b);default:for(var d in a)if(\"$\"!==d.charAt(0)\u0026\u0026g(a[d],b))return!0}return!1;case \"array\":for(d=0;d\u003ca.length;d++)if(g(a[d],b))return!0;return!1;default:return!1}};switch(typeof a){case \"boolean\":case \"number\":case \"string\":a={$:a};case \"object\":for(var f in a)(function(b){\"undefined\"!=typeof a[b]\u0026\u0026e.push(function(c){return g(\"$\"==b?c:\nvb(c,b),a[b])})})(f);break;case \"function\":e.push(a);break;default:return b}d=[];for(f=0;f\u003cb.length;f++){var h=b[f];e.check(h)\u0026\u0026d.push(h)}return d}}function Cc(b){var a=b.NUMBER_FORMATS;return function(b,d){z(d)\u0026\u0026(d=a.CURRENCY_SYM);return Gc(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,2).replace(/\\u00A4/g,d)}}function Ec(b){var a=b.NUMBER_FORMATS;return function(b,d){return Gc(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function Gc(b,a,c,d,e){if(isNaN(b)||!isFinite(b))return\"\";var g=0\u003eb;b=Math.abs(b);\nvar f=b+\"\",h=\"\",m=[],k=!1;if(-1!==f.indexOf(\"e\")){var l=f.match(/([\\d\\.]+)e(-?)(\\d+)/);l\u0026\u0026\"-\"==l[2]\u0026\u0026l[3]\u003ee+1?f=\"0\":(h=f,k=!0)}if(k)0\u003ce\u0026\u0026(-1\u003cb\u0026\u00261\u003eb)\u0026\u0026(h=b.toFixed(e));else{f=(f.split(Hc)[1]||\"\").length;z(e)\u0026\u0026(e=Math.min(Math.max(a.minFrac,f),a.maxFrac));f=Math.pow(10,e);b=Math.round(b*f)/f;b=(\"\"+b).split(Hc);f=b[0];b=b[1]||\"\";var l=0,n=a.lgSize,p=a.gSize;if(f.length\u003e=n+p)for(l=f.length-n,k=0;k\u003cl;k++)0===(l-k)%p\u0026\u00260!==k\u0026\u0026(h+=c),h+=f.charAt(k);for(k=l;k\u003cf.length;k++)0===(f.length-k)%n\u0026\u00260!==k\u0026\u0026(h+=c),\nh+=f.charAt(k);for(;b.length\u003ce;)b+=\"0\";e\u0026\u0026\"0\"!==e\u0026\u0026(h+=d+b.substr(0,e))}m.push(g?a.negPre:a.posPre);m.push(h);m.push(g?a.negSuf:a.posSuf);return m.join(\"\")}function Mb(b,a,c){var d=\"\";0\u003eb\u0026\u0026(d=\"-\",b=-b);for(b=\"\"+b;b.length\u003ca;)b=\"0\"+b;c\u0026\u0026(b=b.substr(b.length-a));return d+b}function W(b,a,c,d){c=c||0;return function(e){e=e[\"get\"+b]();if(0\u003cc||e\u003e-c)e+=c;0===e\u0026\u0026-12==c\u0026\u0026(e=12);return Mb(e,a,d)}}function lb(b,a){return function(c,d){var e=c[\"get\"+b](),g=Ia(a?\"SHORT\"+b:b);return d[g][e]}}function Dc(b){function a(a){var b;\nif(b=a.match(c)){a=new Date(0);var g=0,f=0,h=b[8]?a.setUTCFullYear:a.setFullYear,m=b[8]?a.setUTCHours:a.setHours;b[9]\u0026\u0026(g=S(b[9]+b[10]),f=S(b[9]+b[11]));h.call(a,S(b[1]),S(b[2])-1,S(b[3]));g=S(b[4]||0)-g;f=S(b[5]||0)-f;h=S(b[6]||0);b=Math.round(1E3*parseFloat(\"0.\"+(b[7]||0)));m.call(a,g,f,h,b)}return a}var c=/^(\\d{4})-?(\\d\\d)-?(\\d\\d)(?:T(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:\\.(\\d+))?)?)?(Z|([+-])(\\d\\d):?(\\d\\d))?)?$/;return function(c,e){var g=\"\",f=[],h,m;e=e||\"mediumDate\";e=b.DATETIME_FORMATS[e]||e;D(c)\u0026\u0026\n(c=Od.test(c)?S(c):a(c));sb(c)\u0026\u0026(c=new Date(c));if(!La(c))return c;for(;e;)(m=Pd.exec(e))?(f=f.concat(va.call(m,1)),e=f.pop()):(f.push(e),e=null);q(f,function(a){h=Qd[a];g+=h?h(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,\"\").replace(/''/g,\"'\")});return g}}function Kd(){return function(b){return qa(b,!0)}}function Ld(){return function(b,a){if(!K(b)\u0026\u0026!D(b))return b;a=S(a);if(D(b))return a?0\u003c=a?b.slice(0,a):b.slice(a,b.length):\"\";var c=[],d,e;a\u003eb.length?a=b.length:a\u003c-b.length\u0026\u0026(a=-b.length);0\u003ca?(d=0,\ne=a):(d=b.length+a,e=b.length);for(;d\u003ce;d++)c.push(b[d]);return c}}function Fc(b){return function(a,c,d){function e(a,b){return Oa(b)?function(b,c){return a(c,b)}:a}if(!K(a)||!c)return a;c=K(c)?c:[c];c=Rc(c,function(a){var c=!1,d=a||Ba;if(D(a)){if(\"+\"==a.charAt(0)||\"-\"==a.charAt(0))c=\"-\"==a.charAt(0),a=a.substring(1);d=b(a)}return e(function(a,b){var c;c=d(a);var e=d(b),g=typeof c,f=typeof e;g==f?(\"string\"==g\u0026\u0026(c=c.toLowerCase(),e=e.toLowerCase()),c=c===e?0:c\u003ce?-1:1):c=g\u003cf?-1:1;return c},c)});for(var g=\n[],f=0;f\u003ca.length;f++)g.push(a[f]);return g.sort(e(function(a,b){for(var d=0;d\u003cc.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function ta(b){L(b)\u0026\u0026(b={link:b});b.restrict=b.restrict||\"AC\";return $(b)}function Ic(b,a){function c(a,c){c=c?\"-\"+db(c,\"-\"):\"\";b.removeClass((a?mb:nb)+c).addClass((a?nb:mb)+c)}var d=this,e=b.parent().controller(\"form\")||ob,g=0,f=d.$error={},h=[];d.$name=a.name||a.ngForm;d.$dirty=!1;d.$pristine=!0;d.$valid=!0;d.$invalid=!1;e.$addControl(d);b.addClass(Ja);c(!0);\nd.$addControl=function(a){xa(a.$name,\"input\");h.push(a);a.$name\u0026\u0026(d[a.$name]=a)};d.$removeControl=function(a){a.$name\u0026\u0026d[a.$name]===a\u0026\u0026delete d[a.$name];q(f,function(b,c){d.$setValidity(c,!0,a)});Ma(h,a)};d.$setValidity=function(a,b,h){var n=f[a];if(b)n\u0026\u0026(Ma(n,h),n.length||(g--,g||(c(b),d.$valid=!0,d.$invalid=!1),f[a]=!1,c(!0,a),e.$setValidity(a,!0,d)));else{g||c(b);if(n){if(-1!=bb(n,h))return}else f[a]=n=[],g++,c(!1,a),e.$setValidity(a,!1,d);n.push(h);d.$valid=!1;d.$invalid=!0}};d.$setDirty=function(){b.removeClass(Ja).addClass(pb);\nd.$dirty=!0;d.$pristine=!1;e.$setDirty()};d.$setPristine=function(){b.removeClass(pb).addClass(Ja);d.$dirty=!1;d.$pristine=!0;q(h,function(a){a.$setPristine()})}}function pa(b,a,c,d){b.$setValidity(a,c);return c?d:r}function qb(b,a,c,d,e,g){if(!e.android){var f=!1;a.on(\"compositionstart\",function(a){f=!0});a.on(\"compositionend\",function(){f=!1})}var h=function(){if(!f){var e=a.val();Oa(c.ngTrim||\"T\")\u0026\u0026(e=ba(e));d.$viewValue!==e\u0026\u0026(b.$$phase?d.$setViewValue(e):b.$apply(function(){d.$setViewValue(e)}))}};\nif(e.hasEvent(\"input\"))a.on(\"input\",h);else{var m,k=function(){m||(m=g.defer(function(){h();m=null}))};a.on(\"keydown\",function(a){a=a.keyCode;91===a||(15\u003ca\u0026\u002619\u003ea||37\u003c=a\u0026\u002640\u003e=a)||k()});if(e.hasEvent(\"paste\"))a.on(\"paste cut\",k)}a.on(\"change\",h);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?\"\":d.$viewValue)};var l=c.ngPattern;l\u0026\u0026((e=l.match(/^\\/(.*)\\/([gim]*)$/))?(l=RegExp(e[1],e[2]),e=function(a){return pa(d,\"pattern\",d.$isEmpty(a)||l.test(a),a)}):e=function(c){var e=b.$eval(l);if(!e||!e.test)throw F(\"ngPattern\")(\"noregexp\",\nl,e,ga(a));return pa(d,\"pattern\",d.$isEmpty(c)||e.test(c),c)},d.$formatters.push(e),d.$parsers.push(e));if(c.ngMinlength){var n=S(c.ngMinlength);e=function(a){return pa(d,\"minlength\",d.$isEmpty(a)||a.length\u003e=n,a)};d.$parsers.push(e);d.$formatters.push(e)}if(c.ngMaxlength){var p=S(c.ngMaxlength);e=function(a){return pa(d,\"maxlength\",d.$isEmpty(a)||a.length\u003c=p,a)};d.$parsers.push(e);d.$formatters.push(e)}}function Nb(b,a){b=\"ngClass\"+b;return function(){return{restrict:\"AC\",link:function(c,d,e){function g(b){if(!0===\na||c.$index%2===a){var d=f(b||\"\");h?ua(b,h)||e.$updateClass(d,f(h)):e.$addClass(d)}h=aa(b)}function f(a){if(K(a))return a.join(\" \");if(X(a)){var b=[];q(a,function(a,c){a\u0026\u0026b.push(c)});return b.join(\" \")}return a}var h;c.$watch(e[b],g,!0);e.$observe(\"class\",function(a){g(c.$eval(e[b]))});\"ngClass\"!==b\u0026\u0026c.$watch(\"$index\",function(d,g){var h=d\u00261;if(h!==g\u00261){var n=f(c.$eval(e[b]));h===a?e.$addClass(n):e.$removeClass(n)}})}}}}var x=function(b){return D(b)?b.toLowerCase():b},Ia=function(b){return D(b)?b.toUpperCase():\nb},M,A,Da,va=[].slice,Rd=[].push,$a=Object.prototype.toString,Na=F(\"ng\"),Ca=Z.angular||(Z.angular={}),Ua,Ha,ka=[\"0\",\"0\",\"0\"];M=S((/msie (\\d+)/.exec(x(navigator.userAgent))||[])[1]);isNaN(M)\u0026\u0026(M=S((/trident\\/.*; rv:(\\d+)/.exec(x(navigator.userAgent))||[])[1]));w.$inject=[];Ba.$inject=[];var ba=function(){return String.prototype.trim?function(b){return D(b)?b.trim():b}:function(b){return D(b)?b.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\"):b}}();Ha=9\u003eM?function(b){b=b.nodeName?b:b[0];return b.scopeName\u0026\u0026\n\"HTML\"!=b.scopeName?Ia(b.scopeName+\":\"+b.nodeName):b.nodeName}:function(b){return b.nodeName?b.nodeName:b[0].nodeName};var Uc=/[A-Z]/g,Sd={full:\"1.2.9\",major:1,minor:2,dot:9,codeName:\"enchanted-articulacy\"},Ra=O.cache={},eb=O.expando=\"ng-\"+(new Date).getTime(),Yc=1,Jc=Z.document.addEventListener?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent(\"on\"+a,c)},Bb=Z.document.removeEventListener?function(b,a,c){b.removeEventListener(a,c,!1)}:function(b,a,c){b.detachEvent(\"on\"+a,c)},\nWc=/([\\:\\-\\_]+(.))/g,Xc=/^moz([A-Z])/,yb=F(\"jqLite\"),Ga=O.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;\"complete\"===Q.readyState?setTimeout(a):(this.on(\"DOMContentLoaded\",a),O(Z).on(\"load\",a))},toString:function(){var b=[];q(this,function(a){b.push(\"\"+a)});return\"[\"+b.join(\", \")+\"]\"},eq:function(b){return 0\u003c=b?A(this[b]):A(this[this.length+b])},length:0,push:Rd,sort:[].sort,splice:[].splice},gb={};q(\"multiple selected checked disabled readOnly required open\".split(\" \"),function(b){gb[x(b)]=\nb});var gc={};q(\"input select option textarea button form details\".split(\" \"),function(b){gc[Ia(b)]=!0});q({data:cc,inheritedData:fb,scope:function(b){return A(b).data(\"$scope\")||fb(b.parentNode||b,[\"$isolateScope\",\"$scope\"])},isolateScope:function(b){return A(b).data(\"$isolateScope\")||A(b).data(\"$isolateScopeNoTemplate\")},controller:dc,injector:function(b){return fb(b,\"$injector\")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Cb,css:function(b,a,c){a=Qa(a);if(B(c))b.style[a]=c;else{var d;\n8\u003e=M\u0026\u0026(d=b.currentStyle\u0026\u0026b.currentStyle[a],\"\"===d\u0026\u0026(d=\"auto\"));d=d||b.style[a];8\u003e=M\u0026\u0026(d=\"\"===d?r:d);return d}},attr:function(b,a,c){var d=x(a);if(gb[d])if(B(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||w).specified?d:r;else if(B(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?r:b},prop:function(b,a,c){if(B(c))b[a]=c;else return b[a]},text:function(){function b(b,d){var e=a[b.nodeType];if(z(d))return e?\nb[e]:\"\";b[e]=d}var a=[];9\u003eM?(a[1]=\"innerText\",a[3]=\"nodeValue\"):a[1]=a[3]=\"textContent\";b.$dv=\"\";return b}(),val:function(b,a){if(z(a)){if(\"SELECT\"===Ha(b)\u0026\u0026b.multiple){var c=[];q(b.options,function(a){a.selected\u0026\u0026c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(z(a))return b.innerHTML;for(var c=0,d=b.childNodes;c\u003cd.length;c++)Ea(d[c]);b.innerHTML=a},empty:ec},function(b,a){O.prototype[a]=function(a,d){var e,g;if(b!==ec\u0026\u0026(2==b.length\u0026\u0026b!==Cb\u0026\u0026b!==\ndc?a:d)===r){if(X(a)){for(e=0;e\u003cthis.length;e++)if(b===cc)b(this[e],a);else for(g in a)b(this[e],g,a[g]);return this}e=b.$dv;g=e===r?Math.min(this.length,1):this.length;for(var f=0;f\u003cg;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e\u003cthis.length;e++)b(this[e],a,d);return this}});q({removeData:ac,dealoc:Ea,on:function a(c,d,e,g){if(B(g))throw yb(\"onargs\");var f=la(c,\"events\"),h=la(c,\"handle\");f||la(c,\"events\",f={});h||la(c,\"handle\",h=Zc(c,f));q(d.split(\" \"),function(d){var g=f[d];if(!g){if(\"mouseenter\"==\nd||\"mouseleave\"==d){var l=Q.body.contains||Q.body.compareDocumentPosition?function(a,c){var d=9===a.nodeType?a.documentElement:a,e=c\u0026\u0026c.parentNode;return a===e||!!(e\u0026\u00261===e.nodeType\u0026\u0026(d.contains?d.contains(e):a.compareDocumentPosition\u0026\u0026a.compareDocumentPosition(e)\u002616))}:function(a,c){if(c)for(;c=c.parentNode;)if(c===a)return!0;return!1};f[d]=[];a(c,{mouseleave:\"mouseout\",mouseenter:\"mouseover\"}[d],function(a){var c=a.relatedTarget;c\u0026\u0026(c===this||l(this,c))||h(a,d)})}else Jc(c,d,h),f[d]=[];g=f[d]}g.push(e)})},\noff:bc,one:function(a,c,d){a=A(a);a.on(c,function g(){a.off(c,d);a.off(c,g)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;Ea(a);q(new O(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,a);d=c})},children:function(a){var c=[];q(a.childNodes,function(a){1===a.nodeType\u0026\u0026c.push(a)});return c},contents:function(a){return a.childNodes||[]},append:function(a,c){q(new O(c),function(c){1!==a.nodeType\u0026\u002611!==a.nodeType||a.appendChild(c)})},prepend:function(a,c){if(1===a.nodeType){var d=\na.firstChild;q(new O(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c)[0];var d=a.parentNode;d\u0026\u0026d.replaceChild(c,a);c.appendChild(a)},remove:function(a){Ea(a);var c=a.parentNode;c\u0026\u0026c.removeChild(a)},after:function(a,c){var d=a,e=a.parentNode;q(new O(c),function(a){e.insertBefore(a,d.nextSibling);d=a})},addClass:Eb,removeClass:Db,toggleClass:function(a,c,d){z(d)\u0026\u0026(d=!Cb(a,c));(d?Eb:Db)(a,c)},parent:function(a){return(a=a.parentNode)\u0026\u002611!==a.nodeType?a:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;\nfor(a=a.nextSibling;null!=a\u0026\u00261!==a.nodeType;)a=a.nextSibling;return a},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ab,triggerHandler:function(a,c,d){c=(la(a,\"events\")||{})[c];d=d||[];var e=[{preventDefault:w,stopPropagation:w}];q(c,function(c){c.apply(a,e.concat(d))})}},function(a,c){O.prototype[c]=function(c,e,g){for(var f,h=0;h\u003cthis.length;h++)z(f)?(f=a(this[h],c,e,g),B(f)\u0026\u0026(f=A(f))):zb(f,a(this[h],c,e,g));return B(f)?f:this};O.prototype.bind=O.prototype.on;\nO.prototype.unbind=O.prototype.off});Sa.prototype={put:function(a,c){this[Fa(a)]=c},get:function(a){return this[Fa(a)]},remove:function(a){var c=this[a=Fa(a)];delete this[a];return c}};var ad=/^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m,bd=/,/,cd=/^\\s*(_?)(\\S+?)\\1\\s*$/,$c=/((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg,Ta=F(\"$injector\"),Td=F(\"$animate\"),Ud=[\"$provide\",function(a){this.$$selectors={};this.register=function(c,d){var e=c+\"-animation\";if(c\u0026\u0026\".\"!=c.charAt(0))throw Td(\"notcsel\",c);this.$$selectors[c.substr(1)]=\ne;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length\u0026\u0026(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=[\"$timeout\",function(a){return{enter:function(d,e,g,f){g?g.after(d):(e\u0026\u0026e[0]||(e=g.parent()),e.append(d));f\u0026\u0026a(f,0,!1)},leave:function(d,e){d.remove();e\u0026\u0026a(e,0,!1)},move:function(a,c,g,f){this.enter(a,c,g,f)},addClass:function(d,e,g){e=D(e)?e:K(e)?e.join(\" \"):\"\";q(d,function(a){Eb(a,e)});g\u0026\u0026a(g,0,!1)},removeClass:function(d,e,g){e=D(e)?\ne:K(e)?e.join(\" \"):\"\";q(d,function(a){Db(a,e)});g\u0026\u0026a(g,0,!1)},enabled:w}}]}],ja=F(\"$compile\");jc.$inject=[\"$provide\",\"$$sanitizeUriProvider\"];var id=/^(x[\\:\\-_]|data[\\:\\-_])/i,pc=F(\"$interpolate\"),Vd=/^([^\\?#]*)(\\?([^#]*))?(#(.*))?$/,td={http:80,https:443,ftp:21},Ib=F(\"$location\");uc.prototype=Jb.prototype=tc.prototype={$$html5:!1,$$replace:!1,absUrl:jb(\"$$absUrl\"),url:function(a,c){if(z(a))return this.$$url;var d=Vd.exec(a);d[1]\u0026\u0026this.path(decodeURIComponent(d[1]));(d[2]||d[1])\u0026\u0026this.search(d[3]||\n\"\");this.hash(d[5]||\"\",c);return this},protocol:jb(\"$$protocol\"),host:jb(\"$$host\"),port:jb(\"$$port\"),path:vc(\"$$path\",function(a){return\"/\"==a.charAt(0)?a:\"/\"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(D(a))this.$$search=Xb(a);else if(X(a))this.$$search=a;else throw Ib(\"isrcharg\");break;default:z(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:vc(\"$$hash\",Ba),replace:function(){this.$$replace=!0;return this}};\nvar za=F(\"$parse\"),yc={},ra,Ka={\"null\":function(){return null},\"true\":function(){return!0},\"false\":function(){return!1},undefined:w,\"+\":function(a,c,d,e){d=d(a,c);e=e(a,c);return B(d)?B(e)?d+e:d:B(e)?e:r},\"-\":function(a,c,d,e){d=d(a,c);e=e(a,c);return(B(d)?d:0)-(B(e)?e:0)},\"*\":function(a,c,d,e){return d(a,c)*e(a,c)},\"/\":function(a,c,d,e){return d(a,c)/e(a,c)},\"%\":function(a,c,d,e){return d(a,c)%e(a,c)},\"^\":function(a,c,d,e){return d(a,c)^e(a,c)},\"=\":w,\"===\":function(a,c,d,e){return d(a,c)===e(a,c)},\n\"!==\":function(a,c,d,e){return d(a,c)!==e(a,c)},\"==\":function(a,c,d,e){return d(a,c)==e(a,c)},\"!=\":function(a,c,d,e){return d(a,c)!=e(a,c)},\"\u003c\":function(a,c,d,e){return d(a,c)\u003ce(a,c)},\"\u003e\":function(a,c,d,e){return d(a,c)\u003ee(a,c)},\"\u003c=\":function(a,c,d,e){return d(a,c)\u003c=e(a,c)},\"\u003e=\":function(a,c,d,e){return d(a,c)\u003e=e(a,c)},\"\u0026\u0026\":function(a,c,d,e){return d(a,c)\u0026\u0026e(a,c)},\"||\":function(a,c,d,e){return d(a,c)||e(a,c)},\"\u0026\":function(a,c,d,e){return d(a,c)\u0026e(a,c)},\"|\":function(a,c,d,e){return e(a,c)(a,c,d(a,c))},\n\"!\":function(a,c,d){return!d(a,c)}},Wd={n:\"\\n\",f:\"\\f\",r:\"\\r\",t:\"\\t\",v:\"\\v\",\"'\":\"'\",'\"':'\"'},Lb=function(a){this.options=a};Lb.prototype={constructor:Lb,lex:function(a){this.text=a;this.index=0;this.ch=r;this.lastCh=\":\";this.tokens=[];var c;for(a=[];this.index\u003cthis.text.length;){this.ch=this.text.charAt(this.index);if(this.is(\"\\\"'\"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(\".\")\u0026\u0026this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was(\"{,\")\u0026\u0026\n(\"{\"===a[0]\u0026\u0026(c=this.tokens[this.tokens.length-1]))\u0026\u0026(c.json=-1===c.text.indexOf(\".\"));else if(this.is(\"(){}[].,;:?\"))this.tokens.push({index:this.index,text:this.ch,json:this.was(\":[,\")\u0026\u0026this.is(\"{[\")||this.is(\"}]:,\")}),this.is(\"{[\")\u0026\u0026a.unshift(this.ch),this.is(\"}]\")\u0026\u0026a.shift(),this.index++;else if(this.isWhitespace(this.ch)){this.index++;continue}else{var d=this.ch+this.peek(),e=d+this.peek(2),g=Ka[this.ch],f=Ka[d],h=Ka[e];h?(this.tokens.push({index:this.index,text:e,fn:h}),this.index+=3):f?(this.tokens.push({index:this.index,\ntext:d,fn:f}),this.index+=2):g?(this.tokens.push({index:this.index,text:this.ch,fn:g,json:this.was(\"[,:\")\u0026\u0026this.is(\"+-\")}),this.index+=1):this.throwError(\"Unexpected next character \",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){a=a||1;return this.index+a\u003cthis.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return\"0\"\u003c=a\u0026\u0026\"9\"\u003e=a},isWhitespace:function(a){return\" \"===\na||\"\\r\"===a||\"\\t\"===a||\"\\n\"===a||\"\\v\"===a||\"\\u00a0\"===a},isIdent:function(a){return\"a\"\u003c=a\u0026\u0026\"z\"\u003e=a||\"A\"\u003c=a\u0026\u0026\"Z\"\u003e=a||\"_\"===a||\"$\"===a},isExpOperator:function(a){return\"-\"===a||\"+\"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=B(c)?\"s \"+c+\"-\"+this.index+\" [\"+this.text.substring(c,d)+\"]\":\" \"+d;throw za(\"lexerr\",a,c,this.text);},readNumber:function(){for(var a=\"\",c=this.index;this.index\u003cthis.text.length;){var d=x(this.text.charAt(this.index));if(\".\"==d||this.isNumber(d))a+=d;else{var e=\nthis.peek();if(\"e\"==d\u0026\u0026this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)\u0026\u0026e\u0026\u0026this.isNumber(e)\u0026\u0026\"e\"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e\u0026\u0026this.isNumber(e)||\"e\"!=a.charAt(a.length-1))break;else this.throwError(\"Invalid exponent\")}this.index++}a*=1;this.tokens.push({index:c,text:a,json:!0,fn:function(){return a}})},readIdent:function(){for(var a=this,c=\"\",d=this.index,e,g,f,h;this.index\u003cthis.text.length;){h=this.text.charAt(this.index);if(\".\"===h||this.isIdent(h)||this.isNumber(h))\".\"===\nh\u0026\u0026(e=this.index),c+=h;else break;this.index++}if(e)for(g=this.index;g\u003cthis.text.length;){h=this.text.charAt(g);if(\"(\"===h){f=c.substr(e-d+1);c=c.substr(0,e-d);this.index=g;break}if(this.isWhitespace(h))g++;else break}d={index:d,text:c};if(Ka.hasOwnProperty(c))d.fn=Ka[c],d.json=Ka[c];else{var m=xc(c,this.options,this.text);d.fn=t(function(a,c){return m(a,c)},{assign:function(d,e){return kb(d,c,e,a.text,a.options)}})}this.tokens.push(d);f\u0026\u0026(this.tokens.push({index:e,text:\".\",json:!1}),this.tokens.push({index:e+\n1,text:f,json:!1}))},readString:function(a){var c=this.index;this.index++;for(var d=\"\",e=a,g=!1;this.index\u003cthis.text.length;){var f=this.text.charAt(this.index),e=e+f;if(g)\"u\"===f?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\\da-f]{4}/i)||this.throwError(\"Invalid unicode escape [\\\\u\"+f+\"]\"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):d=(g=Wd[f])?d+g:d+f,g=!1;else if(\"\\\\\"===f)g=!0;else{if(f===a){this.index++;this.tokens.push({index:c,text:e,string:d,json:!0,fn:function(){return d}});\nreturn}d+=f}this.index++}this.throwError(\"Unterminated quote\",c)}};var Ya=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};Ya.ZERO=function(){return 0};Ya.prototype={constructor:Ya,parse:function(a,c){this.text=a;this.json=c;this.tokens=this.lexer.lex(a);c\u0026\u0026(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError(\"is not valid json\",{text:a,index:0})});var d=c?this.primary():this.statements();0!==this.tokens.length\u0026\u0026\nthis.throwError(\"is an unexpected token\",this.tokens[0]);d.literal=!!d.literal;d.constant=!!d.constant;return d},primary:function(){var a;if(this.expect(\"(\"))a=this.filterChain(),this.consume(\")\");else if(this.expect(\"[\"))a=this.arrayDeclaration();else if(this.expect(\"{\"))a=this.object();else{var c=this.expect();(a=c.fn)||this.throwError(\"not a primary expression\",c);c.json\u0026\u0026(a.constant=!0,a.literal=!0)}for(var d;c=this.expect(\"(\",\"[\",\".\");)\"(\"===c.text?(a=this.functionCall(a,d),d=null):\"[\"===c.text?\n(d=a,a=this.objectIndex(a)):\".\"===c.text?(d=a,a=this.fieldAccess(a)):this.throwError(\"IMPOSSIBLE\");return a},throwError:function(a,c){throw za(\"syntax\",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw za(\"ueoe\",this.text);return this.tokens[0]},peek:function(a,c,d,e){if(0\u003cthis.tokens.length){var g=this.tokens[0],f=g.text;if(f===a||f===c||f===d||f===e||!(a||c||d||e))return g}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,\ne))?(this.json\u0026\u0026!a.json\u0026\u0026this.throwError(\"is not valid json\",a),this.tokens.shift(),a):!1},consume:function(a){this.expect(a)||this.throwError(\"is unexpected, expecting [\"+a+\"]\",this.peek())},unaryFn:function(a,c){return t(function(d,e){return a(d,e,c)},{constant:c.constant})},ternaryFn:function(a,c,d){return t(function(e,g){return a(e,g)?c(e,g):d(e,g)},{constant:a.constant\u0026\u0026c.constant\u0026\u0026d.constant})},binaryFn:function(a,c,d){return t(function(e,g){return c(e,g,a,d)},{constant:a.constant\u0026\u0026d.constant})},\nstatements:function(){for(var a=[];;)if(0\u003cthis.tokens.length\u0026\u0026!this.peek(\"}\",\")\",\";\",\"]\")\u0026\u0026a.push(this.filterChain()),!this.expect(\";\"))return 1===a.length?a[0]:function(c,d){for(var e,g=0;g\u003ca.length;g++){var f=a[g];f\u0026\u0026(e=f(c,d))}return e}},filterChain:function(){for(var a=this.expression(),c;;)if(c=this.expect(\"|\"))a=this.binaryFn(a,c.fn,this.filter());else return a},filter:function(){for(var a=this.expect(),c=this.$filter(a.text),d=[];;)if(a=this.expect(\":\"))d.push(this.expression());else{var e=\nfunction(a,e,h){h=[h];for(var m=0;m\u003cd.length;m++)h.push(d[m](a,e));return c.apply(a,h)};return function(){return e}}},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary(),c,d;return(d=this.expect(\"=\"))?(a.assign||this.throwError(\"implies assignment but [\"+this.text.substring(0,d.index)+\"] can not be assigned to\",d),c=this.ternary(),function(d,g){return a.assign(d,c(d,g),g)}):a},ternary:function(){var a=this.logicalOR(),c,d;if(this.expect(\"?\")){c=this.ternary();\nif(d=this.expect(\":\"))return this.ternaryFn(a,c,this.ternary());this.throwError(\"expected :\",d)}else return a},logicalOR:function(){for(var a=this.logicalAND(),c;;)if(c=this.expect(\"||\"))a=this.binaryFn(a,c.fn,this.logicalAND());else return a},logicalAND:function(){var a=this.equality(),c;if(c=this.expect(\"\u0026\u0026\"))a=this.binaryFn(a,c.fn,this.logicalAND());return a},equality:function(){var a=this.relational(),c;if(c=this.expect(\"==\",\"!=\",\"===\",\"!==\"))a=this.binaryFn(a,c.fn,this.equality());return a},\nrelational:function(){var a=this.additive(),c;if(c=this.expect(\"\u003c\",\"\u003e\",\"\u003c=\",\"\u003e=\"))a=this.binaryFn(a,c.fn,this.relational());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect(\"+\",\"-\");)a=this.binaryFn(a,c.fn,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect(\"*\",\"/\",\"%\");)a=this.binaryFn(a,c.fn,this.unary());return a},unary:function(){var a;return this.expect(\"+\")?this.primary():(a=this.expect(\"-\"))?this.binaryFn(Ya.ZERO,a.fn,\nthis.unary()):(a=this.expect(\"!\"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var c=this,d=this.expect().text,e=xc(d,this.options,this.text);return t(function(c,d,h){return e(h||a(c,d),d)},{assign:function(e,f,h){return kb(a(e,h),d,f,c.text,c.options)}})},objectIndex:function(a){var c=this,d=this.expression();this.consume(\"]\");return t(function(e,g){var f=a(e,g),h=d(e,g),m;if(!f)return r;(f=Xa(f[h],c.text))\u0026\u0026(f.then\u0026\u0026c.options.unwrapPromises)\u0026\u0026(m=f,\"$$v\"in f||(m.$$v=r,\nm.then(function(a){m.$$v=a})),f=f.$$v);return f},{assign:function(e,g,f){var h=d(e,f);return Xa(a(e,f),c.text)[h]=g}})},functionCall:function(a,c){var d=[];if(\")\"!==this.peekToken().text){do d.push(this.expression());while(this.expect(\",\"))}this.consume(\")\");var e=this;return function(g,f){for(var h=[],m=c?c(g,f):g,k=0;k\u003cd.length;k++)h.push(d[k](g,f));k=a(g,f,m)||w;Xa(m,e.text);Xa(k,e.text);h=k.apply?k.apply(m,h):k(h[0],h[1],h[2],h[3],h[4]);return Xa(h,e.text)}},arrayDeclaration:function(){var a=\n[],c=!0;if(\"]\"!==this.peekToken().text){do{var d=this.expression();a.push(d);d.constant||(c=!1)}while(this.expect(\",\"))}this.consume(\"]\");return t(function(c,d){for(var f=[],h=0;h\u003ca.length;h++)f.push(a[h](c,d));return f},{literal:!0,constant:c})},object:function(){var a=[],c=!0;if(\"}\"!==this.peekToken().text){do{var d=this.expect(),d=d.string||d.text;this.consume(\":\");var e=this.expression();a.push({key:d,value:e});e.constant||(c=!1)}while(this.expect(\",\"))}this.consume(\"}\");return t(function(c,d){for(var e=\n{},m=0;m\u003ca.length;m++){var k=a[m];e[k.key]=k.value(c,d)}return e},{literal:!0,constant:c})}};var Kb={},sa=F(\"$sce\"),fa={HTML:\"html\",CSS:\"css\",URL:\"url\",RESOURCE_URL:\"resourceUrl\",JS:\"js\"},Y=Q.createElement(\"a\"),Ac=ya(Z.location.href,!0);Bc.$inject=[\"$provide\"];Cc.$inject=[\"$locale\"];Ec.$inject=[\"$locale\"];var Hc=\".\",Qd={yyyy:W(\"FullYear\",4),yy:W(\"FullYear\",2,0,!0),y:W(\"FullYear\",1),MMMM:lb(\"Month\"),MMM:lb(\"Month\",!0),MM:W(\"Month\",2,1),M:W(\"Month\",1,1),dd:W(\"Date\",2),d:W(\"Date\",1),HH:W(\"Hours\",2),\nH:W(\"Hours\",1),hh:W(\"Hours\",2,-12),h:W(\"Hours\",1,-12),mm:W(\"Minutes\",2),m:W(\"Minutes\",1),ss:W(\"Seconds\",2),s:W(\"Seconds\",1),sss:W(\"Milliseconds\",3),EEEE:lb(\"Day\"),EEE:lb(\"Day\",!0),a:function(a,c){return 12\u003ea.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0\u003c=a?\"+\":\"\")+(Mb(Math[0\u003ca?\"floor\":\"ceil\"](a/60),2)+Mb(Math.abs(a%60),2))}},Pd=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Od=/^\\-?\\d+$/;Dc.$inject=[\"$locale\"];var Md=$(x),Nd=\n$(Ia);Fc.$inject=[\"$parse\"];var Xd=$({restrict:\"E\",compile:function(a,c){8\u003e=M\u0026\u0026(c.href||c.name||c.$set(\"href\",\"\"),a.append(Q.createComment(\"IE fix\")));if(!c.href\u0026\u0026!c.name)return function(a,c){c.on(\"click\",function(a){c.attr(\"href\")||a.preventDefault()})}}}),Ob={};q(gb,function(a,c){if(\"multiple\"!=a){var d=ma(\"ng-\"+c);Ob[d]=function(){return{priority:100,link:function(a,g,f){a.$watch(f[d],function(a){f.$set(c,!!a)})}}}}});q([\"src\",\"srcset\",\"href\"],function(a){var c=ma(\"ng-\"+a);Ob[c]=function(){return{priority:99,\nlink:function(d,e,g){g.$observe(c,function(c){c\u0026\u0026(g.$set(a,c),M\u0026\u0026e.prop(a,g[a]))})}}}});var ob={$addControl:w,$removeControl:w,$setValidity:w,$setDirty:w,$setPristine:w};Ic.$inject=[\"$element\",\"$attrs\",\"$scope\"];var Kc=function(a){return[\"$timeout\",function(c){return{name:\"form\",restrict:a?\"EAC\":\"E\",controller:Ic,compile:function(){return{pre:function(a,e,g,f){if(!g.action){var h=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Jc(e[0],\"submit\",h);e.on(\"$destroy\",function(){c(function(){Bb(e[0],\n\"submit\",h)},0,!1)})}var m=e.parent().controller(\"form\"),k=g.name||g.ngForm;k\u0026\u0026kb(a,k,f,k);if(m)e.on(\"$destroy\",function(){m.$removeControl(f);k\u0026\u0026kb(a,k,r,k);t(f,ob)})}}}}}]},Yd=Kc(),Zd=Kc(!0),$d=/^(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=\u0026%@!\\-\\/]))?$/,ae=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}$/,be=/^\\s*(\\-|\\+)?(\\d+|(\\d*(\\.\\d*)))\\s*$/,Lc={text:qb,number:function(a,c,d,e,g,f){qb(a,c,d,e,g,f);e.$parsers.push(function(a){var c=e.$isEmpty(a);if(c||be.test(a))return e.$setValidity(\"number\",\n!0),\"\"===a?null:c?a:parseFloat(a);e.$setValidity(\"number\",!1);return r});e.$formatters.push(function(a){return e.$isEmpty(a)?\"\":\"\"+a});d.min\u0026\u0026(a=function(a){var c=parseFloat(d.min);return pa(e,\"min\",e.$isEmpty(a)||a\u003e=c,a)},e.$parsers.push(a),e.$formatters.push(a));d.max\u0026\u0026(a=function(a){var c=parseFloat(d.max);return pa(e,\"max\",e.$isEmpty(a)||a\u003c=c,a)},e.$parsers.push(a),e.$formatters.push(a));e.$formatters.push(function(a){return pa(e,\"number\",e.$isEmpty(a)||sb(a),a)})},url:function(a,c,d,e,g,f){qb(a,\nc,d,e,g,f);a=function(a){return pa(e,\"url\",e.$isEmpty(a)||$d.test(a),a)};e.$formatters.push(a);e.$parsers.push(a)},email:function(a,c,d,e,g,f){qb(a,c,d,e,g,f);a=function(a){return pa(e,\"email\",e.$isEmpty(a)||ae.test(a),a)};e.$formatters.push(a);e.$parsers.push(a)},radio:function(a,c,d,e){z(d.name)\u0026\u0026c.attr(\"name\",Za());c.on(\"click\",function(){c[0].checked\u0026\u0026a.$apply(function(){e.$setViewValue(d.value)})});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe(\"value\",e.$render)},checkbox:function(a,\nc,d,e){var g=d.ngTrueValue,f=d.ngFalseValue;D(g)||(g=!0);D(f)||(f=!1);c.on(\"click\",function(){a.$apply(function(){e.$setViewValue(c[0].checked)})});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return a!==g};e.$formatters.push(function(a){return a===g});e.$parsers.push(function(a){return a?g:f})},hidden:w,button:w,submit:w,reset:w},Mc=[\"$browser\",\"$sniffer\",function(a,c){return{restrict:\"E\",require:\"?ngModel\",link:function(d,e,g,f){f\u0026\u0026(Lc[x(g.type)]||Lc.text)(d,e,g,f,c,a)}}}],\nnb=\"ng-valid\",mb=\"ng-invalid\",Ja=\"ng-pristine\",pb=\"ng-dirty\",ce=[\"$scope\",\"$exceptionHandler\",\"$attrs\",\"$element\",\"$parse\",function(a,c,d,e,g){function f(a,c){c=c?\"-\"+db(c,\"-\"):\"\";e.removeClass((a?mb:nb)+c).addClass((a?nb:mb)+c)}this.$modelValue=this.$viewValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=d.name;var h=g(d.ngModel),m=h.assign;if(!m)throw F(\"ngModel\")(\"nonassign\",d.ngModel,ga(e));\nthis.$render=w;this.$isEmpty=function(a){return z(a)||\"\"===a||null===a||a!==a};var k=e.inheritedData(\"$formController\")||ob,l=0,n=this.$error={};e.addClass(Ja);f(!0);this.$setValidity=function(a,c){n[a]!==!c\u0026\u0026(c?(n[a]\u0026\u0026l--,l||(f(!0),this.$valid=!0,this.$invalid=!1)):(f(!1),this.$invalid=!0,this.$valid=!1,l++),n[a]=!c,f(c,a),k.$setValidity(a,c,this))};this.$setPristine=function(){this.$dirty=!1;this.$pristine=!0;e.removeClass(pb).addClass(Ja)};this.$setViewValue=function(d){this.$viewValue=d;this.$pristine\u0026\u0026\n(this.$dirty=!0,this.$pristine=!1,e.removeClass(Ja).addClass(pb),k.$setDirty());q(this.$parsers,function(a){d=a(d)});this.$modelValue!==d\u0026\u0026(this.$modelValue=d,m(a,d),q(this.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}}))};var p=this;a.$watch(function(){var c=h(a);if(p.$modelValue!==c){var d=p.$formatters,e=d.length;for(p.$modelValue=c;e--;)c=d[e](c);p.$viewValue!==c\u0026\u0026(p.$viewValue=c,p.$render())}return c})}],de=function(){return{require:[\"ngModel\",\"^?form\"],controller:ce,link:function(a,\nc,d,e){var g=e[0],f=e[1]||ob;f.$addControl(g);a.$on(\"$destroy\",function(){f.$removeControl(g)})}}},ee=$({require:\"ngModel\",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Nc=function(){return{require:\"?ngModel\",link:function(a,c,d,e){if(e){d.required=!0;var g=function(a){if(d.required\u0026\u0026e.$isEmpty(a))e.$setValidity(\"required\",!1);else return e.$setValidity(\"required\",!0),a};e.$formatters.push(g);e.$parsers.unshift(g);d.$observe(\"required\",function(){g(e.$viewValue)})}}}},\nfe=function(){return{require:\"ngModel\",link:function(a,c,d,e){var g=(a=/\\/(.*)\\//.exec(d.ngList))\u0026\u0026RegExp(a[1])||d.ngList||\",\";e.$parsers.push(function(a){if(!z(a)){var c=[];a\u0026\u0026q(a.split(g),function(a){a\u0026\u0026c.push(ba(a))});return c}});e.$formatters.push(function(a){return K(a)?a.join(\", \"):r});e.$isEmpty=function(a){return!a||!a.length}}}},ge=/^(true|false|\\d+)$/,he=function(){return{priority:100,compile:function(a,c){return ge.test(c.ngValue)?function(a,c,g){g.$set(\"value\",a.$eval(g.ngValue))}:function(a,\nc,g){a.$watch(g.ngValue,function(a){g.$set(\"value\",a)})}}}},ie=ta(function(a,c,d){c.addClass(\"ng-binding\").data(\"$binding\",d.ngBind);a.$watch(d.ngBind,function(a){c.text(a==r?\"\":a)})}),je=[\"$interpolate\",function(a){return function(c,d,e){c=a(d.attr(e.$attr.ngBindTemplate));d.addClass(\"ng-binding\").data(\"$binding\",c);e.$observe(\"ngBindTemplate\",function(a){d.text(a)})}}],ke=[\"$sce\",\"$parse\",function(a,c){return function(d,e,g){e.addClass(\"ng-binding\").data(\"$binding\",g.ngBindHtml);var f=c(g.ngBindHtml);\nd.$watch(function(){return(f(d)||\"\").toString()},function(c){e.html(a.getTrustedHtml(f(d))||\"\")})}}],le=Nb(\"\",!0),me=Nb(\"Odd\",0),ne=Nb(\"Even\",1),oe=ta({compile:function(a,c){c.$set(\"ngCloak\",r);a.removeClass(\"ng-cloak\")}}),pe=[function(){return{scope:!0,controller:\"@\",priority:500}}],Oc={};q(\"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste\".split(\" \"),function(a){var c=ma(\"ng-\"+a);Oc[c]=[\"$parse\",function(d){return{compile:function(e,\ng){var f=d(g[c]);return function(c,d,e){d.on(x(a),function(a){c.$apply(function(){f(c,{$event:a})})})}}}}]});var qe=[\"$animate\",function(a){return{transclude:\"element\",priority:600,terminal:!0,restrict:\"A\",$$tlb:!0,link:function(c,d,e,g,f){var h,m;c.$watch(e.ngIf,function(g){Oa(g)?m||(m=c.$new(),f(m,function(c){c[c.length++]=Q.createComment(\" end ngIf: \"+e.ngIf+\" \");h={clone:c};a.enter(c,d.parent(),d)})):(m\u0026\u0026(m.$destroy(),m=null),h\u0026\u0026(a.leave(wb(h.clone)),h=null))})}}}],re=[\"$http\",\"$templateCache\",\n\"$anchorScroll\",\"$animate\",\"$sce\",function(a,c,d,e,g){return{restrict:\"ECA\",priority:400,terminal:!0,transclude:\"element\",controller:Ca.noop,compile:function(f,h){var m=h.ngInclude||h.src,k=h.onload||\"\",l=h.autoscroll;return function(f,h,q,r,y){var A=0,u,t,H=function(){u\u0026\u0026(u.$destroy(),u=null);t\u0026\u0026(e.leave(t),t=null)};f.$watch(g.parseAsResourceUrl(m),function(g){var m=function(){!B(l)||l\u0026\u0026!f.$eval(l)||d()},q=++A;g?(a.get(g,{cache:c}).success(function(a){if(q===A){var c=f.$new();r.template=a;a=y(c,\nfunction(a){H();e.enter(a,null,h,m)});u=c;t=a;u.$emit(\"$includeContentLoaded\");f.$eval(k)}}).error(function(){q===A\u0026\u0026H()}),f.$emit(\"$includeContentRequested\")):(H(),r.template=null)})}}}}],se=[\"$compile\",function(a){return{restrict:\"ECA\",priority:-400,require:\"ngInclude\",link:function(c,d,e,g){d.html(g.template);a(d.contents())(c)}}}],te=ta({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),ue=ta({terminal:!0,priority:1E3}),ve=[\"$locale\",\"$interpolate\",function(a,c){var d=\n/{}/g;return{restrict:\"EA\",link:function(e,g,f){var h=f.count,m=f.$attr.when\u0026\u0026g.attr(f.$attr.when),k=f.offset||0,l=e.$eval(m)||{},n={},p=c.startSymbol(),s=c.endSymbol(),r=/^when(Minus)?(.+)$/;q(f,function(a,c){r.test(c)\u0026\u0026(l[x(c.replace(\"when\",\"\").replace(\"Minus\",\"-\"))]=g.attr(f.$attr[c]))});q(l,function(a,e){n[e]=c(a.replace(d,p+h+\"-\"+k+s))});e.$watch(function(){var c=parseFloat(e.$eval(h));if(isNaN(c))return\"\";c in l||(c=a.pluralCat(c-k));return n[c](e,g,!0)},function(a){g.text(a)})}}}],we=[\"$parse\",\n\"$animate\",function(a,c){var d=F(\"ngRepeat\");return{transclude:\"element\",priority:1E3,terminal:!0,$$tlb:!0,link:function(e,g,f,h,m){var k=f.ngRepeat,l=k.match(/^\\s*([\\s\\S]+?)\\s+in\\s+([\\s\\S]+?)(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/),n,p,s,r,y,t,u={$id:Fa};if(!l)throw d(\"iexp\",k);f=l[1];h=l[2];(l=l[3])?(n=a(l),p=function(a,c,d){t\u0026\u0026(u[t]=a);u[y]=c;u.$index=d;return n(e,u)}):(s=function(a,c){return Fa(c)},r=function(a){return a});l=f.match(/^(?:([\\$\\w]+)|\\(([\\$\\w]+)\\s*,\\s*([\\$\\w]+)\\))$/);if(!l)throw d(\"iidexp\",\nf);y=l[3]||l[1];t=l[2];var B={};e.$watchCollection(h,function(a){var f,h,l=g[0],n,u={},z,P,D,x,T,w,F=[];if(rb(a))T=a,n=p||s;else{n=p||r;T=[];for(D in a)a.hasOwnProperty(D)\u0026\u0026\"$\"!=D.charAt(0)\u0026\u0026T.push(D);T.sort()}z=T.length;h=F.length=T.length;for(f=0;f\u003ch;f++)if(D=a===T?f:T[f],x=a[D],x=n(D,x,f),xa(x,\"`track by` id\"),B.hasOwnProperty(x))w=B[x],delete B[x],u[x]=w,F[f]=w;else{if(u.hasOwnProperty(x))throw q(F,function(a){a\u0026\u0026a.scope\u0026\u0026(B[a.id]=a)}),d(\"dupes\",k,x);F[f]={id:x};u[x]=!1}for(D in B)B.hasOwnProperty(D)\u0026\u0026\n(w=B[D],f=wb(w.clone),c.leave(f),q(f,function(a){a.$$NG_REMOVED=!0}),w.scope.$destroy());f=0;for(h=T.length;f\u003ch;f++){D=a===T?f:T[f];x=a[D];w=F[f];F[f-1]\u0026\u0026(l=F[f-1].clone[F[f-1].clone.length-1]);if(w.scope){P=w.scope;n=l;do n=n.nextSibling;while(n\u0026\u0026n.$$NG_REMOVED);w.clone[0]!=n\u0026\u0026c.move(wb(w.clone),null,A(l));l=w.clone[w.clone.length-1]}else P=e.$new();P[y]=x;t\u0026\u0026(P[t]=D);P.$index=f;P.$first=0===f;P.$last=f===z-1;P.$middle=!(P.$first||P.$last);P.$odd=!(P.$even=0===(f\u00261));w.scope||m(P,function(a){a[a.length++]=\nQ.createComment(\" end ngRepeat: \"+k+\" \");c.enter(a,null,A(l));l=a;w.scope=P;w.clone=a;u[w.id]=w})}B=u})}}}],xe=[\"$animate\",function(a){return function(c,d,e){c.$watch(e.ngShow,function(c){a[Oa(c)?\"removeClass\":\"addClass\"](d,\"ng-hide\")})}}],ye=[\"$animate\",function(a){return function(c,d,e){c.$watch(e.ngHide,function(c){a[Oa(c)?\"addClass\":\"removeClass\"](d,\"ng-hide\")})}}],ze=ta(function(a,c,d){a.$watch(d.ngStyle,function(a,d){d\u0026\u0026a!==d\u0026\u0026q(d,function(a,d){c.css(d,\"\")});a\u0026\u0026c.css(a)},!0)}),Ae=[\"$animate\",\nfunction(a){return{restrict:\"EA\",require:\"ngSwitch\",controller:[\"$scope\",function(){this.cases={}}],link:function(c,d,e,g){var f,h,m=[];c.$watch(e.ngSwitch||e.on,function(d){for(var l=0,n=m.length;l\u003cn;l++)m[l].$destroy(),a.leave(h[l]);h=[];m=[];if(f=g.cases[\"!\"+d]||g.cases[\"?\"])c.$eval(e.change),q(f,function(d){var e=c.$new();m.push(e);d.transclude(e,function(c){var e=d.element;h.push(c);a.enter(c,e.parent(),e)})})})}}}],Be=ta({transclude:\"element\",priority:800,require:\"^ngSwitch\",link:function(a,\nc,d,e,g){e.cases[\"!\"+d.ngSwitchWhen]=e.cases[\"!\"+d.ngSwitchWhen]||[];e.cases[\"!\"+d.ngSwitchWhen].push({transclude:g,element:c})}}),Ce=ta({transclude:\"element\",priority:800,require:\"^ngSwitch\",link:function(a,c,d,e,g){e.cases[\"?\"]=e.cases[\"?\"]||[];e.cases[\"?\"].push({transclude:g,element:c})}}),De=ta({controller:[\"$element\",\"$transclude\",function(a,c){if(!c)throw F(\"ngTransclude\")(\"orphan\",ga(a));this.$transclude=c}],link:function(a,c,d,e){e.$transclude(function(a){c.empty();c.append(a)})}}),Ee=[\"$templateCache\",\nfunction(a){return{restrict:\"E\",terminal:!0,compile:function(c,d){\"text/ng-template\"==d.type\u0026\u0026a.put(d.id,c[0].text)}}}],Fe=F(\"ngOptions\"),Ge=$({terminal:!0}),He=[\"$compile\",\"$parse\",function(a,c){var d=/^\\s*([\\s\\S]+?)(?:\\s+as\\s+([\\s\\S]+?))?(?:\\s+group\\s+by\\s+([\\s\\S]+?))?\\s+for\\s+(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+([\\s\\S]+?)(?:\\s+track\\s+by\\s+([\\s\\S]+?))?$/,e={$setViewValue:w};return{restrict:\"E\",require:[\"select\",\"?ngModel\"],controller:[\"$element\",\"$scope\",\n\"$attrs\",function(a,c,d){var m=this,k={},l=e,n;m.databound=d.ngModel;m.init=function(a,c,d){l=a;n=d};m.addOption=function(c){xa(c,'\"option value\"');k[c]=!0;l.$viewValue==c\u0026\u0026(a.val(c),n.parent()\u0026\u0026n.remove())};m.removeOption=function(a){this.hasOption(a)\u0026\u0026(delete k[a],l.$viewValue==a\u0026\u0026this.renderUnknownOption(a))};m.renderUnknownOption=function(c){c=\"? \"+Fa(c)+\" ?\";n.val(c);a.prepend(n);a.val(c);n.prop(\"selected\",!0)};m.hasOption=function(a){return k.hasOwnProperty(a)};c.$on(\"$destroy\",function(){m.renderUnknownOption=\nw})}],link:function(e,f,h,m){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(x.parent()\u0026\u0026x.remove(),c.val(a),\"\"===a\u0026\u0026w.prop(\"selected\",!0)):z(a)\u0026\u0026w?c.val(\"\"):e.renderUnknownOption(a)};c.on(\"change\",function(){a.$apply(function(){x.parent()\u0026\u0026x.remove();d.$setViewValue(c.val())})})}function l(a,c,d){var e;d.$render=function(){var a=new Sa(d.$viewValue);q(c.find(\"option\"),function(c){c.selected=B(a.get(c.value))})};a.$watch(function(){ua(e,d.$viewValue)||(e=aa(d.$viewValue),\nd.$render())});c.on(\"change\",function(){a.$apply(function(){var a=[];q(c.find(\"option\"),function(c){c.selected\u0026\u0026a.push(c.value)});d.$setViewValue(a)})})}function n(e,f,g){function h(){var a={\"\":[]},c=[\"\"],d,k,r,t,v;t=g.$modelValue;v=A(e)||[];var C=n?Pb(v):v,F,I,z;I={};r=!1;var E,H;if(s)if(w\u0026\u0026K(t))for(r=new Sa([]),z=0;z\u003ct.length;z++)I[m]=t[z],r.put(w(e,I),t[z]);else r=new Sa(t);for(z=0;F=C.length,z\u003cF;z++){k=z;if(n){k=C[z];if(\"$\"===k.charAt(0))continue;I[n]=k}I[m]=v[k];d=p(e,I)||\"\";(k=a[d])||(k=a[d]=\n[],c.push(d));s?d=B(r.remove(w?w(e,I):q(e,I))):(w?(d={},d[m]=t,d=w(e,d)===w(e,I)):d=t===q(e,I),r=r||d);E=l(e,I);E=B(E)?E:\"\";k.push({id:w?w(e,I):n?C[z]:z,label:E,selected:d})}s||(y||null===t?a[\"\"].unshift({id:\"\",label:\"\",selected:!r}):r||a[\"\"].unshift({id:\"?\",label:\"\",selected:!0}));I=0;for(C=c.length;I\u003cC;I++){d=c[I];k=a[d];x.length\u003c=I?(t={element:D.clone().attr(\"label\",d),label:k.label},v=[t],x.push(v),f.append(t.element)):(v=x[I],t=v[0],t.label!=d\u0026\u0026t.element.attr(\"label\",t.label=d));E=null;z=0;for(F=\nk.length;z\u003cF;z++)r=k[z],(d=v[z+1])?(E=d.element,d.label!==r.label\u0026\u0026E.text(d.label=r.label),d.id!==r.id\u0026\u0026E.val(d.id=r.id),E[0].selected!==r.selected\u0026\u0026E.prop(\"selected\",d.selected=r.selected)):(\"\"===r.id\u0026\u0026y?H=y:(H=u.clone()).val(r.id).attr(\"selected\",r.selected).text(r.label),v.push({element:H,label:r.label,id:r.id,selected:r.selected}),E?E.after(H):t.element.append(H),E=H);for(z++;v.length\u003ez;)v.pop().element.remove()}for(;x.length\u003eI;)x.pop()[0].element.remove()}var k;if(!(k=t.match(d)))throw Fe(\"iexp\",\nt,ga(f));var l=c(k[2]||k[1]),m=k[4]||k[6],n=k[5],p=c(k[3]||\"\"),q=c(k[2]?k[1]:m),A=c(k[7]),w=k[8]?c(k[8]):null,x=[[{element:f,label:\"\"}]];y\u0026\u0026(a(y)(e),y.removeClass(\"ng-scope\"),y.remove());f.empty();f.on(\"change\",function(){e.$apply(function(){var a,c=A(e)||[],d={},h,k,l,p,t,u,v;if(s)for(k=[],p=0,u=x.length;p\u003cu;p++)for(a=x[p],l=1,t=a.length;l\u003ct;l++){if((h=a[l].element)[0].selected){h=h.val();n\u0026\u0026(d[n]=h);if(w)for(v=0;v\u003cc.length\u0026\u0026(d[m]=c[v],w(e,d)!=h);v++);else d[m]=c[h];k.push(q(e,d))}}else if(h=f.val(),\n\"?\"==h)k=r;else if(\"\"===h)k=null;else if(w)for(v=0;v\u003cc.length;v++){if(d[m]=c[v],w(e,d)==h){k=q(e,d);break}}else d[m]=c[h],n\u0026\u0026(d[n]=h),k=q(e,d);g.$setViewValue(k)})});g.$render=h;e.$watch(h)}if(m[1]){var p=m[0];m=m[1];var s=h.multiple,t=h.ngOptions,y=!1,w,u=A(Q.createElement(\"option\")),D=A(Q.createElement(\"optgroup\")),x=u.clone();h=0;for(var v=f.children(),F=v.length;h\u003cF;h++)if(\"\"===v[h].value){w=y=v.eq(h);break}p.init(m,y,x);s\u0026\u0026(m.$isEmpty=function(a){return!a||0===a.length});t?n(e,f,m):s?l(e,f,m):\nk(e,f,m,p)}}}}],Ie=[\"$interpolate\",function(a){var c={addOption:w,removeOption:w};return{restrict:\"E\",priority:100,compile:function(d,e){if(z(e.value)){var g=a(d.text(),!0);g||e.$set(\"value\",d.text())}return function(a,d,e){var k=d.parent(),l=k.data(\"$selectController\")||k.parent().data(\"$selectController\");l\u0026\u0026l.databound?d.prop(\"selected\",!1):l=c;g?a.$watch(g,function(a,c){e.$set(\"value\",a);a!==c\u0026\u0026l.removeOption(c);l.addOption(a)}):l.addOption(e.value);d.on(\"$destroy\",function(){l.removeOption(e.value)})}}}}],\nJe=$({restrict:\"E\",terminal:!0});(Da=Z.jQuery)?(A=Da,t(Da.fn,{scope:Ga.scope,isolateScope:Ga.isolateScope,controller:Ga.controller,injector:Ga.injector,inheritedData:Ga.inheritedData}),xb(\"remove\",!0,!0,!1),xb(\"empty\",!1,!1,!1),xb(\"html\",!1,!1,!0)):A=O;Ca.element=A;(function(a){t(a,{bootstrap:Zb,copy:aa,extend:t,equals:ua,element:A,forEach:q,injector:$b,noop:w,bind:cb,toJson:qa,fromJson:Vb,identity:Ba,isUndefined:z,isDefined:B,isString:D,isFunction:L,isObject:X,isNumber:sb,isElement:Qc,isArray:K,\nversion:Sd,isDate:La,lowercase:x,uppercase:Ia,callbacks:{counter:0},$$minErr:F,$$csp:Ub});Ua=Vc(Z);try{Ua(\"ngLocale\")}catch(c){Ua(\"ngLocale\",[]).provider(\"$locale\",sd)}Ua(\"ng\",[\"ngLocale\"],[\"$provide\",function(a){a.provider({$$sanitizeUri:Cd});a.provider(\"$compile\",jc).directive({a:Xd,input:Mc,textarea:Mc,form:Yd,script:Ee,select:He,style:Je,option:Ie,ngBind:ie,ngBindHtml:ke,ngBindTemplate:je,ngClass:le,ngClassEven:ne,ngClassOdd:me,ngCloak:oe,ngController:pe,ngForm:Zd,ngHide:ye,ngIf:qe,ngInclude:re,\nngInit:te,ngNonBindable:ue,ngPluralize:ve,ngRepeat:we,ngShow:xe,ngStyle:ze,ngSwitch:Ae,ngSwitchWhen:Be,ngSwitchDefault:Ce,ngOptions:Ge,ngTransclude:De,ngModel:de,ngList:fe,ngChange:ee,required:Nc,ngRequired:Nc,ngValue:he}).directive({ngInclude:se}).directive(Ob).directive(Oc);a.provider({$anchorScroll:dd,$animate:Ud,$browser:fd,$cacheFactory:gd,$controller:jd,$document:kd,$exceptionHandler:ld,$filter:Bc,$interpolate:qd,$interval:rd,$http:md,$httpBackend:od,$location:ud,$log:vd,$parse:yd,$rootScope:Bd,\n$q:zd,$sce:Fd,$sceDelegate:Ed,$sniffer:Gd,$templateCache:hd,$timeout:Hd,$window:Id})}])})(Ca);A(Q).ready(function(){Tc(Q,Zb)})})(window,document);!angular.$$csp()\u0026\u0026angular.element(document).find(\"head\").prepend('\u003cstyle type=\"text/css\"\u003e@charset \"UTF-8\";[ng\\\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\\\:form{display:block;}\u003c/style\u003e');\n\n\n/*http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js\n var encrypted = CryptoJS.AES.encrypt(\"Message\", \"Secret Passphrase\");\n var decrypted = CryptoJS.AES.decrypt(encrypted, \"Secret Passphrase\");\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(u,p){var d={},l=d.lib={},s=function(){},t=l.Base={extend:function(a){s.prototype=this;var c=new s;a\u0026\u0026c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)\u0026\u0026(this[c]=a[c]);a.hasOwnProperty(\"toString\")\u0026\u0026(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\nr=l.WordArray=t.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=p?c:4*a.length},toString:function(a){return(a||v).stringify(this)},concat:function(a){var c=this.words,e=a.words,j=this.sigBytes;a=a.sigBytes;this.clamp();if(j%4)for(var k=0;k\u003ca;k++)c[j+k\u003e\u003e\u003e2]|=(e[k\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(k%4)\u0026255)\u003c\u003c24-8*((j+k)%4);else if(65535\u003ce.length)for(k=0;k\u003ca;k+=4)c[j+k\u003e\u003e\u003e2]=e[k\u003e\u003e\u003e2];else c.push.apply(c,e);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c\u003e\u003e\u003e2]\u0026=4294967295\u003c\u003c\n32-8*(c%4);a.length=u.ceil(c/4)},clone:function(){var a=t.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],e=0;e\u003ca;e+=4)c.push(4294967296*u.random()|0);return new r.init(c,a)}}),w=d.enc={},v=w.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j\u003ca;j++){var k=c[j\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(j%4)\u0026255;e.push((k\u003e\u003e\u003e4).toString(16));e.push((k\u002615).toString(16))}return e.join(\"\")},parse:function(a){for(var c=a.length,e=[],j=0;j\u003cc;j+=2)e[j\u003e\u003e\u003e3]|=parseInt(a.substr(j,\n2),16)\u003c\u003c24-4*(j%8);return new r.init(e,c/2)}},b=w.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var e=[],j=0;j\u003ca;j++)e.push(String.fromCharCode(c[j\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(j%4)\u0026255));return e.join(\"\")},parse:function(a){for(var c=a.length,e=[],j=0;j\u003cc;j++)e[j\u003e\u003e\u003e2]|=(a.charCodeAt(j)\u0026255)\u003c\u003c24-8*(j%4);return new r.init(e,c)}},x=w.Utf8={stringify:function(a){try{return decodeURIComponent(escape(b.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return b.parse(unescape(encodeURIComponent(a)))}},\nq=l.BufferedBlockAlgorithm=t.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a\u0026\u0026(a=x.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,e=c.words,j=c.sigBytes,k=this.blockSize,b=j/(4*k),b=a?u.ceil(b):u.max((b|0)-this._minBufferSize,0);a=b*k;j=u.min(4*a,j);if(a){for(var q=0;q\u003ca;q+=k)this._doProcessBlock(e,q);q=e.splice(0,a);c.sigBytes-=j}return new r.init(q,j)},clone:function(){var a=t.clone.call(this);\na._data=this._data.clone();return a},_minBufferSize:0});l.Hasher=q.extend({cfg:t.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){q.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a\u0026\u0026this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,e){return(new a.init(e)).finalize(b)}},_createHmacHelper:function(a){return function(b,e){return(new n.HMAC.init(a,\ne)).finalize(b)}}});var n=d.algo={};return d}(Math);\n(function(){var u=CryptoJS,p=u.lib.WordArray;u.enc.Base64={stringify:function(d){var l=d.words,p=d.sigBytes,t=this._map;d.clamp();d=[];for(var r=0;r\u003cp;r+=3)for(var w=(l[r\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(r%4)\u0026255)\u003c\u003c16|(l[r+1\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*((r+1)%4)\u0026255)\u003c\u003c8|l[r+2\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*((r+2)%4)\u0026255,v=0;4\u003ev\u0026\u0026r+0.75*v\u003cp;v++)d.push(t.charAt(w\u003e\u003e\u003e6*(3-v)\u002663));if(l=t.charAt(64))for(;d.length%4;)d.push(l);return d.join(\"\")},parse:function(d){var l=d.length,s=this._map,t=s.charAt(64);t\u0026\u0026(t=d.indexOf(t),-1!=t\u0026\u0026(l=t));for(var t=[],r=0,w=0;w\u003c\nl;w++)if(w%4){var v=s.indexOf(d.charAt(w-1))\u003c\u003c2*(w%4),b=s.indexOf(d.charAt(w))\u003e\u003e\u003e6-2*(w%4);t[r\u003e\u003e\u003e2]|=(v|b)\u003c\u003c24-8*(r%4);r++}return p.create(t,r)},_map:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\"}})();\n(function(u){function p(b,n,a,c,e,j,k){b=b+(n\u0026a|~n\u0026c)+e+k;return(b\u003c\u003cj|b\u003e\u003e\u003e32-j)+n}function d(b,n,a,c,e,j,k){b=b+(n\u0026c|a\u0026~c)+e+k;return(b\u003c\u003cj|b\u003e\u003e\u003e32-j)+n}function l(b,n,a,c,e,j,k){b=b+(n^a^c)+e+k;return(b\u003c\u003cj|b\u003e\u003e\u003e32-j)+n}function s(b,n,a,c,e,j,k){b=b+(a^(n|~c))+e+k;return(b\u003c\u003cj|b\u003e\u003e\u003e32-j)+n}for(var t=CryptoJS,r=t.lib,w=r.WordArray,v=r.Hasher,r=t.algo,b=[],x=0;64\u003ex;x++)b[x]=4294967296*u.abs(u.sin(x+1))|0;r=r.MD5=v.extend({_doReset:function(){this._hash=new w.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(q,n){for(var a=0;16\u003ea;a++){var c=n+a,e=q[c];q[c]=(e\u003c\u003c8|e\u003e\u003e\u003e24)\u002616711935|(e\u003c\u003c24|e\u003e\u003e\u003e8)\u00264278255360}var a=this._hash.words,c=q[n+0],e=q[n+1],j=q[n+2],k=q[n+3],z=q[n+4],r=q[n+5],t=q[n+6],w=q[n+7],v=q[n+8],A=q[n+9],B=q[n+10],C=q[n+11],u=q[n+12],D=q[n+13],E=q[n+14],x=q[n+15],f=a[0],m=a[1],g=a[2],h=a[3],f=p(f,m,g,h,c,7,b[0]),h=p(h,f,m,g,e,12,b[1]),g=p(g,h,f,m,j,17,b[2]),m=p(m,g,h,f,k,22,b[3]),f=p(f,m,g,h,z,7,b[4]),h=p(h,f,m,g,r,12,b[5]),g=p(g,h,f,m,t,17,b[6]),m=p(m,g,h,f,w,22,b[7]),\nf=p(f,m,g,h,v,7,b[8]),h=p(h,f,m,g,A,12,b[9]),g=p(g,h,f,m,B,17,b[10]),m=p(m,g,h,f,C,22,b[11]),f=p(f,m,g,h,u,7,b[12]),h=p(h,f,m,g,D,12,b[13]),g=p(g,h,f,m,E,17,b[14]),m=p(m,g,h,f,x,22,b[15]),f=d(f,m,g,h,e,5,b[16]),h=d(h,f,m,g,t,9,b[17]),g=d(g,h,f,m,C,14,b[18]),m=d(m,g,h,f,c,20,b[19]),f=d(f,m,g,h,r,5,b[20]),h=d(h,f,m,g,B,9,b[21]),g=d(g,h,f,m,x,14,b[22]),m=d(m,g,h,f,z,20,b[23]),f=d(f,m,g,h,A,5,b[24]),h=d(h,f,m,g,E,9,b[25]),g=d(g,h,f,m,k,14,b[26]),m=d(m,g,h,f,v,20,b[27]),f=d(f,m,g,h,D,5,b[28]),h=d(h,f,\nm,g,j,9,b[29]),g=d(g,h,f,m,w,14,b[30]),m=d(m,g,h,f,u,20,b[31]),f=l(f,m,g,h,r,4,b[32]),h=l(h,f,m,g,v,11,b[33]),g=l(g,h,f,m,C,16,b[34]),m=l(m,g,h,f,E,23,b[35]),f=l(f,m,g,h,e,4,b[36]),h=l(h,f,m,g,z,11,b[37]),g=l(g,h,f,m,w,16,b[38]),m=l(m,g,h,f,B,23,b[39]),f=l(f,m,g,h,D,4,b[40]),h=l(h,f,m,g,c,11,b[41]),g=l(g,h,f,m,k,16,b[42]),m=l(m,g,h,f,t,23,b[43]),f=l(f,m,g,h,A,4,b[44]),h=l(h,f,m,g,u,11,b[45]),g=l(g,h,f,m,x,16,b[46]),m=l(m,g,h,f,j,23,b[47]),f=s(f,m,g,h,c,6,b[48]),h=s(h,f,m,g,w,10,b[49]),g=s(g,h,f,m,\nE,15,b[50]),m=s(m,g,h,f,r,21,b[51]),f=s(f,m,g,h,u,6,b[52]),h=s(h,f,m,g,k,10,b[53]),g=s(g,h,f,m,B,15,b[54]),m=s(m,g,h,f,e,21,b[55]),f=s(f,m,g,h,v,6,b[56]),h=s(h,f,m,g,x,10,b[57]),g=s(g,h,f,m,t,15,b[58]),m=s(m,g,h,f,D,21,b[59]),f=s(f,m,g,h,z,6,b[60]),h=s(h,f,m,g,C,10,b[61]),g=s(g,h,f,m,j,15,b[62]),m=s(m,g,h,f,A,21,b[63]);a[0]=a[0]+f|0;a[1]=a[1]+m|0;a[2]=a[2]+g|0;a[3]=a[3]+h|0},_doFinalize:function(){var b=this._data,n=b.words,a=8*this._nDataBytes,c=8*b.sigBytes;n[c\u003e\u003e\u003e5]|=128\u003c\u003c24-c%32;var e=u.floor(a/\n4294967296);n[(c+64\u003e\u003e\u003e9\u003c\u003c4)+15]=(e\u003c\u003c8|e\u003e\u003e\u003e24)\u002616711935|(e\u003c\u003c24|e\u003e\u003e\u003e8)\u00264278255360;n[(c+64\u003e\u003e\u003e9\u003c\u003c4)+14]=(a\u003c\u003c8|a\u003e\u003e\u003e24)\u002616711935|(a\u003c\u003c24|a\u003e\u003e\u003e8)\u00264278255360;b.sigBytes=4*(n.length+1);this._process();b=this._hash;n=b.words;for(a=0;4\u003ea;a++)c=n[a],n[a]=(c\u003c\u003c8|c\u003e\u003e\u003e24)\u002616711935|(c\u003c\u003c24|c\u003e\u003e\u003e8)\u00264278255360;return b},clone:function(){var b=v.clone.call(this);b._hash=this._hash.clone();return b}});t.MD5=v._createHelper(r);t.HmacMD5=v._createHmacHelper(r)})(Math);\n(function(){var u=CryptoJS,p=u.lib,d=p.Base,l=p.WordArray,p=u.algo,s=p.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p.MD5,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,r){for(var p=this.cfg,s=p.hasher.create(),b=l.create(),u=b.words,q=p.keySize,p=p.iterations;u.length\u003cq;){n\u0026\u0026s.update(n);var n=s.update(d).finalize(r);s.reset();for(var a=1;a\u003cp;a++)n=s.finalize(n),s.reset();b.concat(n)}b.sigBytes=4*q;return b}});u.EvpKDF=function(d,l,p){return s.create(p).compute(d,\nl)}})();\nCryptoJS.lib.Cipher||function(u){var p=CryptoJS,d=p.lib,l=d.Base,s=d.WordArray,t=d.BufferedBlockAlgorithm,r=p.enc.Base64,w=p.algo.EvpKDF,v=d.Cipher=t.extend({cfg:l.extend(),createEncryptor:function(e,a){return this.create(this._ENC_XFORM_MODE,e,a)},createDecryptor:function(e,a){return this.create(this._DEC_XFORM_MODE,e,a)},init:function(e,a,b){this.cfg=this.cfg.extend(b);this._xformMode=e;this._key=a;this.reset()},reset:function(){t.reset.call(this);this._doReset()},process:function(e){this._append(e);return this._process()},\nfinalize:function(e){e\u0026\u0026this._append(e);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(b,k,d){return(\"string\"==typeof k?c:a).encrypt(e,b,k,d)},decrypt:function(b,k,d){return(\"string\"==typeof k?c:a).decrypt(e,b,k,d)}}}});d.StreamCipher=v.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=p.mode={},x=function(e,a,b){var c=this._iv;c?this._iv=u:c=this._prevBlock;for(var d=0;d\u003cb;d++)e[a+d]^=\nc[d]},q=(d.BlockCipherMode=l.extend({createEncryptor:function(e,a){return this.Encryptor.create(e,a)},createDecryptor:function(e,a){return this.Decryptor.create(e,a)},init:function(e,a){this._cipher=e;this._iv=a}})).extend();q.Encryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize;x.call(this,e,a,c);b.encryptBlock(e,a);this._prevBlock=e.slice(a,a+c)}});q.Decryptor=q.extend({processBlock:function(e,a){var b=this._cipher,c=b.blockSize,d=e.slice(a,a+c);b.decryptBlock(e,a);x.call(this,\ne,a,c);this._prevBlock=d}});b=b.CBC=q;q=(p.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c\u003c\u003c24|c\u003c\u003c16|c\u003c\u003c8|c,l=[],n=0;n\u003cc;n+=4)l.push(d);c=s.create(l,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1\u003e\u003e\u003e2]\u0026255}};d.BlockCipher=v.extend({cfg:v.cfg.extend({mode:b,padding:q}),reset:function(){v.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,\nthis,b\u0026\u0026b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var n=d.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),b=(p.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?s.create([1398893684,\n1701076831]).concat(a).concat(b):b).toString(r)},parse:function(a){a=r.parse(a);var b=a.words;if(1398893684==b[0]\u0026\u00261701076831==b[1]){var c=s.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return n.create({ciphertext:a,salt:c})}},a=d.SerializableCipher=l.extend({cfg:l.extend({format:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var l=a.createEncryptor(c,d);b=l.finalize(b);l=l.cfg;return n.create({ciphertext:b,key:c,iv:l.iv,algorithm:a,mode:l.mode,padding:l.padding,blockSize:a.blockSize,formatter:d.format})},\ndecrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return\"string\"==typeof a?b.parse(a,this):a}}),p=(p.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=s.random(8));a=w.create({keySize:b+c}).compute(a,d);c=s.create(a.words.slice(b),4*c);a.sigBytes=4*b;return n.create({key:a,iv:c,salt:d})}},c=d.PasswordBasedCipher=a.extend({cfg:a.cfg.extend({kdf:p}),encrypt:function(b,c,d,l){l=this.cfg.extend(l);d=l.kdf.execute(d,\nb.keySize,b.ivSize);l.iv=d.iv;b=a.encrypt.call(this,b,c,d.key,l);b.mixIn(d);return b},decrypt:function(b,c,d,l){l=this.cfg.extend(l);c=this._parse(c,l.format);d=l.kdf.execute(d,b.keySize,b.ivSize,c.salt);l.iv=d.iv;return a.decrypt.call(this,b,c,d.key,l)}})}();\n(function(){for(var u=CryptoJS,p=u.lib.BlockCipher,d=u.algo,l=[],s=[],t=[],r=[],w=[],v=[],b=[],x=[],q=[],n=[],a=[],c=0;256\u003ec;c++)a[c]=128\u003ec?c\u003c\u003c1:c\u003c\u003c1^283;for(var e=0,j=0,c=0;256\u003ec;c++){var k=j^j\u003c\u003c1^j\u003c\u003c2^j\u003c\u003c3^j\u003c\u003c4,k=k\u003e\u003e\u003e8^k\u0026255^99;l[e]=k;s[k]=e;var z=a[e],F=a[z],G=a[F],y=257*a[k]^16843008*k;t[e]=y\u003c\u003c24|y\u003e\u003e\u003e8;r[e]=y\u003c\u003c16|y\u003e\u003e\u003e16;w[e]=y\u003c\u003c8|y\u003e\u003e\u003e24;v[e]=y;y=16843009*G^65537*F^257*z^16843008*e;b[k]=y\u003c\u003c24|y\u003e\u003e\u003e8;x[k]=y\u003c\u003c16|y\u003e\u003e\u003e16;q[k]=y\u003c\u003c8|y\u003e\u003e\u003e24;n[k]=y;e?(e=z^a[a[a[G^z]]],j^=a[a[j]]):e=j=1}var H=[0,1,2,4,8,\n16,32,64,128,27,54],d=d.AES=p.extend({_doReset:function(){for(var a=this._key,c=a.words,d=a.sigBytes/4,a=4*((this._nRounds=d+6)+1),e=this._keySchedule=[],j=0;j\u003ca;j++)if(j\u003cd)e[j]=c[j];else{var k=e[j-1];j%d?6\u003cd\u0026\u00264==j%d\u0026\u0026(k=l[k\u003e\u003e\u003e24]\u003c\u003c24|l[k\u003e\u003e\u003e16\u0026255]\u003c\u003c16|l[k\u003e\u003e\u003e8\u0026255]\u003c\u003c8|l[k\u0026255]):(k=k\u003c\u003c8|k\u003e\u003e\u003e24,k=l[k\u003e\u003e\u003e24]\u003c\u003c24|l[k\u003e\u003e\u003e16\u0026255]\u003c\u003c16|l[k\u003e\u003e\u003e8\u0026255]\u003c\u003c8|l[k\u0026255],k^=H[j/d|0]\u003c\u003c24);e[j]=e[j-d]^k}c=this._invKeySchedule=[];for(d=0;d\u003ca;d++)j=a-d,k=d%4?e[j]:e[j-4],c[d]=4\u003ed||4\u003e=j?k:b[l[k\u003e\u003e\u003e24]]^x[l[k\u003e\u003e\u003e16\u0026255]]^q[l[k\u003e\u003e\u003e\n8\u0026255]]^n[l[k\u0026255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,t,r,w,v,l)},decryptBlock:function(a,c){var d=a[c+1];a[c+1]=a[c+3];a[c+3]=d;this._doCryptBlock(a,c,this._invKeySchedule,b,x,q,n,s);d=a[c+1];a[c+1]=a[c+3];a[c+3]=d},_doCryptBlock:function(a,b,c,d,e,j,l,f){for(var m=this._nRounds,g=a[b]^c[0],h=a[b+1]^c[1],k=a[b+2]^c[2],n=a[b+3]^c[3],p=4,r=1;r\u003cm;r++)var q=d[g\u003e\u003e\u003e24]^e[h\u003e\u003e\u003e16\u0026255]^j[k\u003e\u003e\u003e8\u0026255]^l[n\u0026255]^c[p++],s=d[h\u003e\u003e\u003e24]^e[k\u003e\u003e\u003e16\u0026255]^j[n\u003e\u003e\u003e8\u0026255]^l[g\u0026255]^c[p++],t=\nd[k\u003e\u003e\u003e24]^e[n\u003e\u003e\u003e16\u0026255]^j[g\u003e\u003e\u003e8\u0026255]^l[h\u0026255]^c[p++],n=d[n\u003e\u003e\u003e24]^e[g\u003e\u003e\u003e16\u0026255]^j[h\u003e\u003e\u003e8\u0026255]^l[k\u0026255]^c[p++],g=q,h=s,k=t;q=(f[g\u003e\u003e\u003e24]\u003c\u003c24|f[h\u003e\u003e\u003e16\u0026255]\u003c\u003c16|f[k\u003e\u003e\u003e8\u0026255]\u003c\u003c8|f[n\u0026255])^c[p++];s=(f[h\u003e\u003e\u003e24]\u003c\u003c24|f[k\u003e\u003e\u003e16\u0026255]\u003c\u003c16|f[n\u003e\u003e\u003e8\u0026255]\u003c\u003c8|f[g\u0026255])^c[p++];t=(f[k\u003e\u003e\u003e24]\u003c\u003c24|f[n\u003e\u003e\u003e16\u0026255]\u003c\u003c16|f[g\u003e\u003e\u003e8\u0026255]\u003c\u003c8|f[h\u0026255])^c[p++];n=(f[n\u003e\u003e\u003e24]\u003c\u003c24|f[g\u003e\u003e\u003e16\u0026255]\u003c\u003c16|f[h\u003e\u003e\u003e8\u0026255]\u003c\u003c8|f[k\u0026255])^c[p++];a[b]=q;a[b+1]=s;a[b+2]=t;a[b+3]=n},keySize:8});u.AES=p._createHelper(d)})();\n\n\nfunction hex2a(hexx) {\n    var hex = hexx.toString();//force conversion\n    var str = '';\n    for (var i = 0; i \u003c hex.length; i += 2)str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n    return str;\n}\n\nvar decrypt  = function(data, password){\n\treturn u(hex2a(CryptoJS.AES.decrypt(data, password).toString()));\t\n}\nvar encrypt  = function(data, password){\n\treturn CryptoJS.AES.encrypt(e(data), password).toString();\t\n}\n\n\n\n\n\n/* http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js\nvar hash = CryptoJS.MD5(\"Message\");\nCryptoJS v3.1.2\ncode.google.com/p/crypto-js\n(c) 2009-2013 by Jeff Mott. All rights reserved.\ncode.google.com/p/crypto-js/wiki/License\n*/\nvar CryptoJS=CryptoJS||function(s,p){var m={},l=m.lib={},n=function(){},r=l.Base={extend:function(b){n.prototype=this;var h=new n;b\u0026\u0026h.mixIn(b);h.hasOwnProperty(\"init\")||(h.init=function(){h.$super.init.apply(this,arguments)});h.init.prototype=h;h.$super=this;return h},create:function(){var b=this.extend();b.init.apply(b,arguments);return b},init:function(){},mixIn:function(b){for(var h in b)b.hasOwnProperty(h)\u0026\u0026(this[h]=b[h]);b.hasOwnProperty(\"toString\")\u0026\u0026(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}},\nq=l.WordArray=r.extend({init:function(b,h){b=this.words=b||[];this.sigBytes=h!=p?h:4*b.length},toString:function(b){return(b||t).stringify(this)},concat:function(b){var h=this.words,a=b.words,j=this.sigBytes;b=b.sigBytes;this.clamp();if(j%4)for(var g=0;g\u003cb;g++)h[j+g\u003e\u003e\u003e2]|=(a[g\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(g%4)\u0026255)\u003c\u003c24-8*((j+g)%4);else if(65535\u003ca.length)for(g=0;g\u003cb;g+=4)h[j+g\u003e\u003e\u003e2]=a[g\u003e\u003e\u003e2];else h.push.apply(h,a);this.sigBytes+=b;return this},clamp:function(){var b=this.words,h=this.sigBytes;b[h\u003e\u003e\u003e2]\u0026=4294967295\u003c\u003c\n32-8*(h%4);b.length=s.ceil(h/4)},clone:function(){var b=r.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){for(var h=[],a=0;a\u003cb;a+=4)h.push(4294967296*s.random()|0);return new q.init(h,b)}}),v=m.enc={},t=v.Hex={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j\u003cb;j++){var k=a[j\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(j%4)\u0026255;g.push((k\u003e\u003e\u003e4).toString(16));g.push((k\u002615).toString(16))}return g.join(\"\")},parse:function(b){for(var a=b.length,g=[],j=0;j\u003ca;j+=2)g[j\u003e\u003e\u003e3]|=parseInt(b.substr(j,\n2),16)\u003c\u003c24-4*(j%8);return new q.init(g,a/2)}},a=v.Latin1={stringify:function(b){var a=b.words;b=b.sigBytes;for(var g=[],j=0;j\u003cb;j++)g.push(String.fromCharCode(a[j\u003e\u003e\u003e2]\u003e\u003e\u003e24-8*(j%4)\u0026255));return g.join(\"\")},parse:function(b){for(var a=b.length,g=[],j=0;j\u003ca;j++)g[j\u003e\u003e\u003e2]|=(b.charCodeAt(j)\u0026255)\u003c\u003c24-8*(j%4);return new q.init(g,a)}},u=v.Utf8={stringify:function(b){try{return decodeURIComponent(escape(a.stringify(b)))}catch(g){throw Error(\"Malformed UTF-8 data\");}},parse:function(b){return a.parse(unescape(encodeURIComponent(b)))}},\ng=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new q.init;this._nDataBytes=0},_append:function(b){\"string\"==typeof b\u0026\u0026(b=u.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(b){var a=this._data,g=a.words,j=a.sigBytes,k=this.blockSize,m=j/(4*k),m=b?s.ceil(m):s.max((m|0)-this._minBufferSize,0);b=m*k;j=s.min(4*b,j);if(b){for(var l=0;l\u003cb;l+=k)this._doProcessBlock(g,l);l=g.splice(0,b);a.sigBytes-=j}return new q.init(l,j)},clone:function(){var b=r.clone.call(this);\nb._data=this._data.clone();return b},_minBufferSize:0});l.Hasher=g.extend({cfg:r.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){g.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(b){b\u0026\u0026this._append(b);return this._doFinalize()},blockSize:16,_createHelper:function(b){return function(a,g){return(new b.init(g)).finalize(a)}},_createHmacHelper:function(b){return function(a,g){return(new k.HMAC.init(b,\ng)).finalize(a)}}});var k=m.algo={};return m}(Math);\n(function(s){function p(a,k,b,h,l,j,m){a=a+(k\u0026b|~k\u0026h)+l+m;return(a\u003c\u003cj|a\u003e\u003e\u003e32-j)+k}function m(a,k,b,h,l,j,m){a=a+(k\u0026h|b\u0026~h)+l+m;return(a\u003c\u003cj|a\u003e\u003e\u003e32-j)+k}function l(a,k,b,h,l,j,m){a=a+(k^b^h)+l+m;return(a\u003c\u003cj|a\u003e\u003e\u003e32-j)+k}function n(a,k,b,h,l,j,m){a=a+(b^(k|~h))+l+m;return(a\u003c\u003cj|a\u003e\u003e\u003e32-j)+k}for(var r=CryptoJS,q=r.lib,v=q.WordArray,t=q.Hasher,q=r.algo,a=[],u=0;64\u003eu;u++)a[u]=4294967296*s.abs(s.sin(u+1))|0;q=q.MD5=t.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},\n_doProcessBlock:function(g,k){for(var b=0;16\u003eb;b++){var h=k+b,w=g[h];g[h]=(w\u003c\u003c8|w\u003e\u003e\u003e24)\u002616711935|(w\u003c\u003c24|w\u003e\u003e\u003e8)\u00264278255360}var b=this._hash.words,h=g[k+0],w=g[k+1],j=g[k+2],q=g[k+3],r=g[k+4],s=g[k+5],t=g[k+6],u=g[k+7],v=g[k+8],x=g[k+9],y=g[k+10],z=g[k+11],A=g[k+12],B=g[k+13],C=g[k+14],D=g[k+15],c=b[0],d=b[1],e=b[2],f=b[3],c=p(c,d,e,f,h,7,a[0]),f=p(f,c,d,e,w,12,a[1]),e=p(e,f,c,d,j,17,a[2]),d=p(d,e,f,c,q,22,a[3]),c=p(c,d,e,f,r,7,a[4]),f=p(f,c,d,e,s,12,a[5]),e=p(e,f,c,d,t,17,a[6]),d=p(d,e,f,c,u,22,a[7]),\nc=p(c,d,e,f,v,7,a[8]),f=p(f,c,d,e,x,12,a[9]),e=p(e,f,c,d,y,17,a[10]),d=p(d,e,f,c,z,22,a[11]),c=p(c,d,e,f,A,7,a[12]),f=p(f,c,d,e,B,12,a[13]),e=p(e,f,c,d,C,17,a[14]),d=p(d,e,f,c,D,22,a[15]),c=m(c,d,e,f,w,5,a[16]),f=m(f,c,d,e,t,9,a[17]),e=m(e,f,c,d,z,14,a[18]),d=m(d,e,f,c,h,20,a[19]),c=m(c,d,e,f,s,5,a[20]),f=m(f,c,d,e,y,9,a[21]),e=m(e,f,c,d,D,14,a[22]),d=m(d,e,f,c,r,20,a[23]),c=m(c,d,e,f,x,5,a[24]),f=m(f,c,d,e,C,9,a[25]),e=m(e,f,c,d,q,14,a[26]),d=m(d,e,f,c,v,20,a[27]),c=m(c,d,e,f,B,5,a[28]),f=m(f,c,\nd,e,j,9,a[29]),e=m(e,f,c,d,u,14,a[30]),d=m(d,e,f,c,A,20,a[31]),c=l(c,d,e,f,s,4,a[32]),f=l(f,c,d,e,v,11,a[33]),e=l(e,f,c,d,z,16,a[34]),d=l(d,e,f,c,C,23,a[35]),c=l(c,d,e,f,w,4,a[36]),f=l(f,c,d,e,r,11,a[37]),e=l(e,f,c,d,u,16,a[38]),d=l(d,e,f,c,y,23,a[39]),c=l(c,d,e,f,B,4,a[40]),f=l(f,c,d,e,h,11,a[41]),e=l(e,f,c,d,q,16,a[42]),d=l(d,e,f,c,t,23,a[43]),c=l(c,d,e,f,x,4,a[44]),f=l(f,c,d,e,A,11,a[45]),e=l(e,f,c,d,D,16,a[46]),d=l(d,e,f,c,j,23,a[47]),c=n(c,d,e,f,h,6,a[48]),f=n(f,c,d,e,u,10,a[49]),e=n(e,f,c,d,\nC,15,a[50]),d=n(d,e,f,c,s,21,a[51]),c=n(c,d,e,f,A,6,a[52]),f=n(f,c,d,e,q,10,a[53]),e=n(e,f,c,d,y,15,a[54]),d=n(d,e,f,c,w,21,a[55]),c=n(c,d,e,f,v,6,a[56]),f=n(f,c,d,e,D,10,a[57]),e=n(e,f,c,d,t,15,a[58]),d=n(d,e,f,c,B,21,a[59]),c=n(c,d,e,f,r,6,a[60]),f=n(f,c,d,e,z,10,a[61]),e=n(e,f,c,d,j,15,a[62]),d=n(d,e,f,c,x,21,a[63]);b[0]=b[0]+c|0;b[1]=b[1]+d|0;b[2]=b[2]+e|0;b[3]=b[3]+f|0},_doFinalize:function(){var a=this._data,k=a.words,b=8*this._nDataBytes,h=8*a.sigBytes;k[h\u003e\u003e\u003e5]|=128\u003c\u003c24-h%32;var l=s.floor(b/\n4294967296);k[(h+64\u003e\u003e\u003e9\u003c\u003c4)+15]=(l\u003c\u003c8|l\u003e\u003e\u003e24)\u002616711935|(l\u003c\u003c24|l\u003e\u003e\u003e8)\u00264278255360;k[(h+64\u003e\u003e\u003e9\u003c\u003c4)+14]=(b\u003c\u003c8|b\u003e\u003e\u003e24)\u002616711935|(b\u003c\u003c24|b\u003e\u003e\u003e8)\u00264278255360;a.sigBytes=4*(k.length+1);this._process();a=this._hash;k=a.words;for(b=0;4\u003eb;b++)h=k[b],k[b]=(h\u003c\u003c8|h\u003e\u003e\u003e24)\u002616711935|(h\u003c\u003c24|h\u003e\u003e\u003e8)\u00264278255360;return a},clone:function(){var a=t.clone.call(this);a._hash=this._hash.clone();return a}});r.MD5=t._createHelper(q);r.HmacMD5=t._createHmacHelper(q)})(Math);\n\nfunction md5(s){return CryptoJS.MD5(s).toString();}\n// var Url = window.URL || window.webkitURL;\n\nfunction Performer(scriptText) {\n\t //console.log(\"new Performer\");\n\n\tvar worker = null, callbacks = {}, currentRequestId = 0;\n\ttry {\n\t\t//throw \"emulate BrowserNotSupportWindowUrl\";\n\t\tvar Url = window.webkitURL || window.URL;\n\t\tworker = new Worker(Url.createObjectURL(new Blob([ scriptText ], {type: 'text/javascript'})));\n\t    //p(\"worker ok\");\n\t} catch (ifBrowserNotSupportWindowUrl) {\n\t\ttry {\n\t\t\t//\n\t\t\tp(\"ifBrowserNotSupportWindowUrl \"+ifBrowserNotSupportWindowUrl);\n\t\t\t//\tthrow \"emulate BrowserNotSupportWorkers\";\n\t\t\tworker = new Worker('data:application/javascript,' + encodeURIComponent(scriptText));\n\t\t} catch (ifBrowserNotSupportWorkers) {\t\t\t\t\t\n\t\t\tp(\"worker emulated\");\t\t\t\n\t\t\teval(scriptText);\n\t\t\tworker = {\n\t\t\t\t\tpostMessage : function(data) {\n\t\t\t\t\t\tvar requestId = data.requestId;\n\t\t\t\t\t\tvar workerFunction = eval(data.functionName);\n\t\t\t\t\t\tvar params = data.params;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tvar result = workerFunction(params);\n\t\t\t\t\t\t\tworker.onmessage({\n\t\t\t\t\t\t\t\tdata : {\n\t\t\t\t\t\t\t\t\tresult : result,\n\t\t\t\t\t\t\t\t\trequestId : requestId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tworker.onmessage({\n\t\t\t\t\t\t\t\tdata : {\n\t\t\t\t\t\t\t\t\terror : ex.message,\n\t\t\t\t\t\t\t\t\trequestId : requestId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tthis.perform = function(functionName, params, success, error, control) {\n\t\t//p(\"worker.perform: functionName=\"+functionName+\", success=\"+\tsuccess+\", error=\"+error);\n\t\tif (worker == null) {\n\t\t\talert(\"worker == null\");\n\t\t\treturn;\n\t\t}\n\t\tif(control){control.disabled = true;}\n\t\t\n\t\tcurrentRequestId++;\n\t\tcallbacks[\"request_\" + currentRequestId] = {success: success, error: error, control: control};\n\t\t\n\t\t//p(\"worker.perform: callbacks[\\\"request_\" + currentRequestId +\"]: \"+\n\t\t//\t\tJSON.stringify(\tcallbacks[\"request_\" + currentRequestId]));\n\t\t\n\t\tworker.postMessage({\n\t\t\tfunctionName : functionName,\n\t\t\tparams : params,\n\t\t\trequestId : currentRequestId\n\t\t});\n\t};\n\n\tworker.onmessage = function(msg) {\n\t\ttry{\n\t\tif(!msg || !msg.data){return;}\n\t\t//p(\"worker.onmessage: msg=\"+JSON.stringify(msg));\n\t\t//p(\"worker.onmessage1: msg.data=\"+JSON.stringify(msg.data));\n\t\tvar requestId = msg.data.requestId;\n\t\t//p(\"worker.onmessage: requestId=\"+requestId);\n\t\t/*if(msg.data.result.error){\n\t\t\tp(\"worker.onmessage: msg.data.result.error=\"+msg.data.result.error);\n\t\t\tcallbacks[\"request_\" + requestId].error(msg.data.result.error);\n\t\t}else */\n\t\tif(callbacks[\"request_\" + requestId].control){callbacks[\"request_\" + requestId].control.disabled = false;}\n\t\t\n\t\tif(msg.data.result){\n\t\t//\tp(\"worker.onmessage: msg.data.result=\"+JSON.stringify(msg.data.result));\n\t\t\tcallbacks[\"request_\" + requestId].success(msg.data.result);\n\t\t}else if(msg.data.error){\n\t\t//\tp(\"worker.onmessage: msg.data.error: \"+msg.data.error);\n\t\t//\tp(\"worker.onmessage: callbacks[request_\" + requestId+\"]: \"+\n\t\t//\t\tJSON.stringify(\tcallbacks[\"request_\" + requestId]));\n\t\t\t\n\t\t\tcallbacks[\"request_\" + requestId].error(msg.data.error);\n\t\t}else{\n\t\t//\tp(\"worker.onmessage: else\");\n\t\t\tdelete callbacks[\"request_\" + requestId];\n\t\t\tthrow msg.data.error;\n\t\t}\t\t\t\t\n\t\tdelete callbacks[\"request_\" + requestId];\n\t\t}catch(ex){\n\t\t\tp(\"in worker.onmessage: ex=\"+ex+\", msg=\"+JSON.stringify(msg));\t\t\t\n\t\t}\n\t\t\n\t};\n}\n \n//\n\tfunction showAlertMessage(message) {\n\t\twindow.setTimeout(function() {\n\t\t\tshowAlertMessage2(message);\n\t\t}, 200, false);\n\t}\n\tfunction showAlertMessage2(message) {\n\t\tge(\"alertMessageElement\").innerHTML = Util.u(message).replace(\"\\n\", \"\u003cbr\u003e\");\n\t\tvar container = ge(\"alertMessageContainer\");\n\t\tcontainer.style.zIndex = 1032;\n\t\tvar top = document.body.scrollTop + 7;\n\t\t//  container.style.position = \"fixed\";          \n\t\ttry {\n\t\t\tif (parent \u0026\u0026 (parent.document != document)) { //\n\t\t\t\ttop += parent.document.body.scrollTop;\n\t\t\t}\n\t\t} catch (ignoreIfInWidget) {\n\t\t}\n\t\tcontainer.style.display = \"block\";\n\t}\n\n\tfunction hideAlertMessage() {\n\t\tvar container = ge(\"alertMessageContainer\");\n\t\tcontainer.style.display = \"none\";\n\t}\n\t\n\tvar showAlert = showAlertMessage;\n\tvar a = showAlertMessage;\n//\n//\nvar perspective=\"shop\";\nvar currentHost = document.location.host + \"/xmarket\";\nvar ipCountry = \"\";//\"\";\nvar torHost = \"http://xmarket3gpgw2ftz.onion/\";\nvar apkVersion = pi(\"4\");\nvar isShop = true;\nvar shopSellerNick = \"\";\nvar lang = \"ru\";\nvar langs = eval(\"[{'code':'en','name':'english'},{'code':'ru','name':'русский'}]\");\nvar cryptoCurrenciesString = \"BTC\";//[\"BTC\"]\nvar cryptoCurrencies = cryptoCurrenciesString.split(\",\");//[\"BTC\"] \n//var locations = ;\nvar countries1 = [{\"code\":\"AU\",\"name\":\"Australia\"}, {\"code\":\"AT\",\"name\":\"Austria\"}, {\"code\":\"AZ\",\"name\":\"Azerbaijan\"}, {\"code\":\"AL\",\"name\":\"Albania\"}, {\"code\":\"DZ\",\"name\":\"Algeria\"}, {\"code\":\"AO\",\"name\":\"Angola\"}, {\"code\":\"AG\",\"name\":\"Antiqua \u0026 Barbuda\"}, {\"code\":\"AN\",\"name\":\"Netherlands Antilles\"}, {\"code\":\"AR\",\"name\":\"Argentina\"}, {\"code\":\"AM\",\"name\":\"Armenij\"}, {\"code\":\"AW\",\"name\":\"Aruba\"}, {\"code\":\"AF\",\"name\":\"Afganistan\"}, {\"code\":\"BS\",\"name\":\"Bahamas\"}, {\"code\":\"BB\",\"name\":\"Barbados\"}, {\"code\":\"BH\",\"name\":\"Bahrain\"}, {\"code\":\"BY\",\"name\":\"Belarus\"}, {\"code\":\"BZ\",\"name\":\"Belize\"}, {\"code\":\"BE\",\"name\":\"Belgium\"}, {\"code\":\"BJ\",\"name\":\"Benin,Pleople's Repu\"}, {\"code\":\"BM\",\"name\":\"Bermuda\"}, {\"code\":\"BU\",\"name\":\"Burma\"}, {\"code\":\"BG\",\"name\":\"Bulgaria\"}, {\"code\":\"BO\",\"name\":\"Bolivia\"}, {\"code\":\"BT\",\"name\":\"Bosnija \u0026 Gercegovina\"}, {\"code\":\"BW\",\"name\":\"Botswana\"}, {\"code\":\"BR\",\"name\":\"Brazil\"}, {\"code\":\"BN\",\"name\":\"Brunei\"}, {\"code\":\"BF\",\"name\":\"Burkina Faso\"}, {\"code\":\"BI\",\"name\":\"Burundi\"}, {\"code\":\"VU\",\"name\":\"Vanuati\"}, {\"code\":\"GB\",\"name\":\"United Kingdom\"}, {\"code\":\"HU\",\"name\":\"Hungary\"}, {\"code\":\"VE\",\"name\":\"Venezuela\"}, {\"code\":\"VI\",\"name\":\"Virgin Islands\"}, {\"code\":\"VN\",\"name\":\"Vietnam,Socialist Re\"}, {\"code\":\"GA\",\"name\":\"Gabon\"}, {\"code\":\"HT\",\"name\":\"Haiti\"}, {\"code\":\"GY\",\"name\":\"Guyana\"}, {\"code\":\"GM\",\"name\":\"Gambia\"}, {\"code\":\"GH\",\"name\":\"Ghana\"}, {\"code\":\"GP\",\"name\":\"Guadeloupe\"}, {\"code\":\"GT\",\"name\":\"Guatemala\"}, {\"code\":\"GN\",\"name\":\"Guinea\"}, {\"code\":\"GW\",\"name\":\"Guinea Bissau\"}, {\"code\":\"DE\",\"name\":\"Germany\"}, {\"code\":\"GJ\",\"name\":\"Gibraltar\"}, {\"code\":\"HN\",\"name\":\"Honduras\"}, {\"code\":\"HK\",\"name\":\"Hong Kong\"}, {\"code\":\"GD\",\"name\":\"Grenada\"}, {\"code\":\"GL\",\"name\":\"Greenland\"}, {\"code\":\"GR\",\"name\":\"Greece\"}, {\"code\":\"GE\",\"name\":\"Georgia\"}, {\"code\":\"GU\",\"name\":\"Guam\"}, {\"code\":\"DK\",\"name\":\"Denmark\"}, {\"code\":\"DJ\",\"name\":\"Djibouti\"}, {\"code\":\"DM\",\"name\":\"Dominika\"}, {\"code\":\"DO\",\"name\":\"Dominican Republic\"}, {\"code\":\"EG\",\"name\":\"Egypt\"}, {\"code\":\"ZM\",\"name\":\"Zambia\"}, {\"code\":\"WS\",\"name\":\"Samoa,Independent St\"}, {\"code\":\"ZW\",\"name\":\"Zimbabwe\"}, {\"code\":\"IL\",\"name\":\"Israel\"}, {\"code\":\"IN\",\"name\":\"India\"}, {\"code\":\"ID\",\"name\":\"Indonesia\"}, {\"code\":\"JO\",\"name\":\"Jordan\"}, {\"code\":\"IQ\",\"name\":\"Iraq\"}, {\"code\":\"IR\",\"name\":\"Iran\"}, {\"code\":\"IE\",\"name\":\"Ireland\"}, {\"code\":\"IS\",\"name\":\"Iceland\"}, {\"code\":\"ES\",\"name\":\"Spain and Canary Isl\"}, {\"code\":\"IT\",\"name\":\"Italy\"}, {\"code\":\"YM\",\"name\":\"Yemen\"}, {\"code\":\"KZ\",\"name\":\"Kazakhstan\"}, {\"code\":\"TC\",\"name\":\"Turks \u0026 Caicos Islands\"}, {\"code\":\"KY\",\"name\":\"Cayman Islands\"}, {\"code\":\"CM\",\"name\":\"Cameroon\"}, {\"code\":\"CA\",\"name\":\"Canada\"}, {\"code\":\"QA\",\"name\":\"Qatar\"}, {\"code\":\"KE\",\"name\":\"Kenya\"}, {\"code\":\"CY\",\"name\":\"Cyprus\"}, {\"code\":\"KI\",\"name\":\"Kiribati\"}, {\"code\":\"CN\",\"name\":\"China\"}, {\"code\":\"KP\",\"name\":\"Korea,Democratic Peo\"}, {\"code\":\"CC\",\"name\":\"Cocose islands\"}, {\"code\":\"CO\",\"name\":\"Colombia\"}, {\"code\":\"KH\",\"name\":\"Cambodia\"}, {\"code\":\"CR\",\"name\":\"Costa Rica\"}, {\"code\":\"CI\",\"name\":\"Ivory Coast(Cote d'Ivore)\"}, {\"code\":\"CU\",\"name\":\"Cuba\"}, {\"code\":\"KW\",\"name\":\"Kuweit\"}, {\"code\":\"CK\",\"name\":\"Cooks Islands\"}, {\"code\":\"KG\",\"name\":\"Kyrgyzstan\"}, {\"code\":\"LV\",\"name\":\"Latvia\"}, {\"code\":\"LS\",\"name\":\"Lesotho\"}, {\"code\":\"LR\",\"name\":\"Liberia\"}, {\"code\":\"LB\",\"name\":\"Lebanon\"}, {\"code\":\"LY\",\"name\":\"Libyan Arab Jamahiriya\"}, {\"code\":\"LT\",\"name\":\"Lithuania\"}, {\"code\":\"LA\",\"name\":\"Lao  People's  Democ\"}, {\"code\":\"LU\",\"name\":\"Luxembourg\"}, {\"code\":\"MU\",\"name\":\"Mauritius\"}, {\"code\":\"MR\",\"name\":\"Mauritania\"}, {\"code\":\"MG\",\"name\":\"Madagascar\"}, {\"code\":\"MK\",\"name\":\"Macedonia\"}, {\"code\":\"MW\",\"name\":\"Malawi\"}, {\"code\":\"MY\",\"name\":\"Malaysia\"}, {\"code\":\"ML\",\"name\":\"Mali\"}, {\"code\":\"MV\",\"name\":\"Maldives\"}, {\"code\":\"MT\",\"name\":\"Malta,Republic  of\"}, {\"code\":\"MA\",\"name\":\"Morocco\"}, {\"code\":\"MQ\",\"name\":\"Martinique\"}, {\"code\":\"MH\",\"name\":\"Marshall Islands\"}, {\"code\":\"MX\",\"name\":\"Mexico\"}, {\"code\":\"FM\",\"name\":\"Micronesia\"}, {\"code\":\"MZ\",\"name\":\"Mozambique,People's\"}, {\"code\":\"MD\",\"name\":\"Moldova\"}, {\"code\":\"MC\",\"name\":\"Monaco\"}, {\"code\":\"MN\",\"name\":\"Mongolia\"}, {\"code\":\"MM\",\"name\":\"Myanmar\"}, {\"code\":\"NA\",\"name\":\"Namibia\"}, {\"code\":\"NU\",\"name\":\"Niue\"}, {\"code\":\"NR\",\"name\":\"Nauru\"}, {\"code\":\"NP\",\"name\":\"Nepal\"}, {\"code\":\"NE\",\"name\":\"Niger\"}, {\"code\":\"NG\",\"name\":\"Niqeria\"}, {\"code\":\"NL\",\"name\":\"Netherlands\"}, {\"code\":\"NI\",\"name\":\"Nicaraqua\"}, {\"code\":\"PG\",\"name\":\"Papua,New Guinea\"}, {\"code\":\"NC\",\"name\":\"New Caledonia\"}, {\"code\":\"NZ\",\"name\":\"New Zealand\"}, {\"code\":\"CD\",\"name\":\"Congo,Democratic Republic\"}, {\"code\":\"NO\",\"name\":\"Norway\"}, {\"code\":\"BD\",\"name\":\"Bangladesh\"}, {\"code\":\"CG\",\"name\":\"Congo\"}, {\"code\":\"AE\",\"name\":\"United Arab Emirates poi\"}, {\"code\":\"OM\",\"name\":\"Oman\"}, {\"code\":\"WK\",\"name\":\"Wake Islands\"}, {\"code\":\"SS\",\"name\":\"Spitsbergan\"}, {\"code\":\"PK\",\"name\":\"Pakistan\"}, {\"code\":\"PA\",\"name\":\"Panama\"}, {\"code\":\"PY\",\"name\":\"Paraguay\"}, {\"code\":\"PE\",\"name\":\"Peru\"}, {\"code\":\"PL\",\"name\":\"Poland\"}, {\"code\":\"PT\",\"name\":\"Portugal and Azores\"}, {\"code\":\"PR\",\"name\":\"Puerto Pico\"}, {\"code\":\"CV\",\"name\":\"Cape Verde,Republic\"}, {\"code\":\"KM\",\"name\":\"Comoros\"}, {\"code\":\"RE\",\"name\":\"Reunion\"}, {\"code\":\"RU\",\"name\":\"Russia\"}, {\"code\":\"RW\",\"name\":\"Rwanda\"}, {\"code\":\"RO\",\"name\":\"Romania\"}, {\"code\":\"SV\",\"name\":\"EL Salvador\"}, {\"code\":\"AS\",\"name\":\"American Samoa\"}, {\"code\":\"PM\",\"name\":\"St.Pierre \u0026 Miquelon\"}, {\"code\":\"ST\",\"name\":\"Sao Tome and Princip\"}, {\"code\":\"SA\",\"name\":\"Saudi Arabia\"}, {\"code\":\"SZ\",\"name\":\"Swaziland\"}, {\"code\":\"SC\",\"name\":\"Seychelles\"}, {\"code\":\"SN\",\"name\":\"Senegal\"}, {\"code\":\"VC\",\"name\":\"St.Vincent\"}, {\"code\":\"KN\",\"name\":\"St.Kitts \u0026 Nevis\"}, {\"code\":\"LC\",\"name\":\"St.Lucia\"}, {\"code\":\"SG\",\"name\":\"Singapore\"}, {\"code\":\"SY\",\"name\":\"Syrian,Arab Republic\"}, {\"code\":\"SK\",\"name\":\"Slovakia\"}, {\"code\":\"SI\",\"name\":\"Slovenia\"}, {\"code\":\"SB\",\"name\":\"Solomon Islands\"}, {\"code\":\"SO\",\"name\":\"Somalia\"}, {\"code\":\"ET\",\"name\":\"Ethiopia\"}, {\"code\":\"SD\",\"name\":\"Sudan\"}, {\"code\":\"SR\",\"name\":\"Surinam,Republic of\"}, {\"code\":\"US\",\"name\":\"United States\"}, {\"code\":\"SL\",\"name\":\"Sierra Leone\"}, {\"code\":\"TJ\",\"name\":\"Tajikistan\"}, {\"code\":\"TH\",\"name\":\"Thailand\"}, {\"code\":\"TW\",\"name\":\"Taiwan\"}, {\"code\":\"TZ\",\"name\":\"Tanzania\"}, {\"code\":\"TG\",\"name\":\"Togo\"}, {\"code\":\"TO\",\"name\":\"Tonga\"}, {\"code\":\"TT\",\"name\":\"Trinidad and Tobago\"}, {\"code\":\"TV\",\"name\":\"Tuvalu\"}, {\"code\":\"TN\",\"name\":\"Tunisia\"}, {\"code\":\"TM\",\"name\":\"Turkmenistan\"}, {\"code\":\"TR\",\"name\":\"Turkey\"}, {\"code\":\"WF\",\"name\":\"Wallis \u0026 Futuna Islands\"}, {\"code\":\"UG\",\"name\":\"Uganda\"}, {\"code\":\"UZ\",\"name\":\"Uzbekistan\"}, {\"code\":\"UA\",\"name\":\"Ukraine\"}, {\"code\":\"UY\",\"name\":\"Uruguay\"}, {\"code\":\"FO\",\"name\":\"Faeroe Islands\"}, {\"code\":\"FJ\",\"name\":\"Fiji\"}, {\"code\":\"PH\",\"name\":\"Philippines,Republic\"}, {\"code\":\"FI\",\"name\":\"Finland\"}, {\"code\":\"FK\",\"name\":\"Falkland Islands\"}, {\"code\":\"FR\",\"name\":\"France\"}, {\"code\":\"PF\",\"name\":\"French Polynesia\"}, {\"code\":\"HR\",\"name\":\"Croatia\"}, {\"code\":\"CF\",\"name\":\"Central African Republic\"}, {\"code\":\"TD\",\"name\":\"Chad\"}, {\"code\":\"CZ\",\"name\":\"Czech Republic\"}, {\"code\":\"CS\",\"name\":\"Czechoslovakia\"}, {\"code\":\"CL\",\"name\":\"Chile\"}, {\"code\":\"CH\",\"name\":\"Switzerland\"}, {\"code\":\"SE\",\"name\":\"Sweden\"}, {\"code\":\"LK\",\"name\":\"Sri Lanka\"}, {\"code\":\"EC\",\"name\":\"Ecuador\"}, {\"code\":\"GQ\",\"name\":\"Equatorial Guinea\"}, {\"code\":\"ER\",\"name\":\"Eriteria\"}, {\"code\":\"EE\",\"name\":\"Estonia\"}, {\"code\":\"ZA\",\"name\":\"South Africa\"}, {\"code\":\"YU\",\"name\":\"Yugoslavia\"}, {\"code\":\"KR\",\"name\":\"Korea,Republic of\"}, {\"code\":\"JM\",\"name\":\"Jamaica\"}, {\"code\":\"JP\",\"name\":\"Japan\"}];\nvar countries = [];\nfor(var i = 0; i \u003c countries1.length; i++){\n\tif(Util.u(countries1[i].name) == \"Russia\"){continue;}\n\tcountries.push(countries1[i]);\n}\n\nvar countriesNames = [];\nfor(var i = 0; i \u003c countries.length; i++){\n\tcountries[i].name = Util.u(countries[i].name);\n\tcountries[countries[i].name] = countries[i].code;\n\tcountriesNames.push(countries[i].name);\n}\nUtil.sortObjectsArray(countriesNames);  \ncountries = Util.sortObjectsArray(countries, \"name\");  \nvar isOnionUrl = (\"\"+document.location).indexOf(\".onion\") \u003e -1;\n\n\nvar gpsAvailable = true;\n\nvar rootPanel = {};\nvar root = {};\n\nvar cryptingLoaded = false;\n\nvar cryptingPerformer = null;\n\nvar lastSelectedPanel = sessionStorage.getItem(\"lastSelectedPanel\") || \"mainMenu/catalogue\";\n\nfunction getCryptingPerformer(){\n\tif(cryptingPerformer){return cryptingPerformer;}\t\n\ttry{\t\t//localhost:81\n\t\t//\t\tp(\"prformer src=http://\"+document.location.host+\"/crypting.js\");\n\t\t//console.log(\"getCryptingPerformer\");\n\t\tvar scriptText = ge(\"crypting_worker\").innerHTML;\n\t    cryptingPerformer = new Performer(scriptText);\t\t    \n\t    return  cryptingPerformer;\n\t}catch(ex){p(\"in getCryptingPerformer: \"+ex);};\t\t\n}\ngetCryptingPerformer();\n\n\nfunction rootController($scope,  $window){\t//$http,\t\n\thideAlertMessage();\n\tvar self = $scope;\n\t\t\n\tself.apkVersion = apkVersion;\t\n\tself.appName = appName;\t\n\tself.lang = lang;\n\tself.user = null;\n\tself.loged = false;\t\n\tself.isAdmin = false;\t\t\t\n\tself.isSupervisor = false;\n\tself.isLocal = document.location.host.indexOf('localhost') \u003e -1;\t\n\tself.isShop = isShop;\t\n\t//self.locations = locations;\t\n\tself.countries = countries;\t\n\tself.countriesNames = countriesNames;\t\n\tself.penpalPanel = null;\n\t\n\t\n\tself.gpsAvailable = gpsAvailable;\n\t\n\tself.selectPanel = selectPanel;\t\n    self.openWindow = openWindow;\t    \n    self.isValidBitcoinAddress = isValidBitcoinAddress;\n        \n\n\t\n\tself.currentCurrency = \"USD\";\t\n\tself.cryptoCurrencies = cryptoCurrencies;\n\n\tself.unreadMessagesCount = 0;\n\tself.activeOrdersCount = 0;\n\t\n\tself.isOnionUrl = isOnionUrl;\n\t\n\tself.toBitcoins = function(amount, currency){\n\t\tif(!currency){currency = self.currentCurrency;}\n\t\ttry{\n\t\tvar rate = self.rates[currency];\n\t\treturn self.round8(amount/rate) ;\t  \n\t\t}catch(ex){return 0;};\n\t};\n\t\n\tself.refresh = function(){\n\t\ttry{self.$digest();}catch(ignored){;};\n\t};\n\t\n\tself.$watch('currentCurrency', function(){ \n\t\tListeners.notify(\"onChangeCurrentCurrency\", self.currentCurrency);\t\t\n\t});\n\t\n    self.getItemIconUrl = function(itemId){\n       if(!itemId){return \"/images/icon/no_image.png\";}\n\t   return \"/images/icon/i_\"+itemId+\".png\";\n    };    \n    \n    self.getItemImageUrl = function(image){\n\t   return \"/images/item/i_\"+image.itemId+\"_\"+image.id+\".png\";//+ new Date().getTime()\n    };\n   \n    self.getShopIconUrl = function(sellerNick){\n\t   return \"/images/shop/i_\"+sellerNick+\".png\";\n    };  \n\t\n\t\n\t/** for descendants */\n\tself.update = function(panel, variable, value){\n\t\tif(panel){\n\t\t\tif(typeof panel == 'string'){panel = eval(panel);}\n\t\t\tif(variable){\n\t\t\t if(panel[variable]){panel[variable] = value;}\n\t\t\t}\n\t\t\ttry{panel.$digest();}catch(ignored){;};\n\t\t }\t\t\t;\n\t};\t\n    \n\t\n\tself.loadSessionData = function(){\t\t\t\n\t\tge(\"loadingInfo\").innerHTML = \"loading session data ...\";\n\t\t//log(\"loadSessionData\");\n\t\tServer.call(\"visitorService\", \"getShopInitialData\", [document.location.host], \n\t\t   function(data){\n\t\t\t//alert(\"start\");\n\t\t\tvar userStyles = \" body{background: url(/images/custom/bg_\"+data.sellerNick+\".jpg) no-repeat center center fixed;}\";\t\n\t\t\t//p(\"data.styles=\"+data.styles);\n\t\t\tif(!no(data.styles)){\t\t\t\t\t\t\t\t\n\t\t\t\tuserStyles = userStyles + data.styles;\n\t\t\t}\t\t\t\t\t\n\t\t\tge(\"userStyles\").innerHTML = userStyles;\n\t\t\tself.startApplication(data);}, function(error){\t\t\t\t\n\t\t\t   if(error.indexOf(\"Seller not found\") \u003e -1){\n\t    \t\t\talert(\"Seller \\\"\"+shopSellerNick+\"\\\" not found! Redirect to market.\");\n\t    \t\t\tdocument.location = \"http\"+s+\"://\"+ document.location.host +\"/\"+lang;\t   \n\t    \t\t\treturn;\n\t    \t   }\n\t\t\t   alert(\"error: \"+error);\t\t\t   \n\t\t\t   //self.loadSessionData();\n\t\t\t   });\t\t\n\t};\t\t\n\t\t\n\t\n\tself.applicationStarted = false;\n\t\n\tself.startApplication = function(data){\t\t\n\t\tge(\"loadingInfo\").innerHTML = \"starting application ...\";\t\t\n\t\t//try{\n\t\t\tself.penpalPanel = penpalPanel;\n\n\t\t\tself.data = data;\t\t\t\t\t\t\t\n\t\t\t//\t\t\n\t\t\tp(\"startApplication: data.sellerNick=\"+(data.sellerNick));\t\t\t\n\t\t\tMenu.init(); \t\t\n\t\t\tif(ratesPanel){ratesPanel.updateRates(data.rates); }\t\t\t\n\t\t\tif(data.user){\n\t\t\t\tloginPanel.password = sessionStorage.pw;\n\t\t\t\tself.onUserLogIn(data.user);\n\t\t\t\tListeners.notify(\"onLogin\");\n\t\t\t}\t\n\t\t\tself.pageParams = {};\n\t        self.qs = \"\";\n\t        \n\t\t\tif (document.location.search) {\n\t\t\t\tvar params = {};\n\t\t\t\tself.qs = location.search.substring(1);\n\t\t\t    var parts = self.qs.split('\u0026');\n\t\t\t    for (var i = 0; i \u003c parts.length; i++) {\n\t\t\t        var nv = parts[i].split('=');\n\t\t\t        if (!nv.length != 2) continue;\n\t\t\t        params[nv[0]] = nv[1] || true;\n\t\t\t    };\n\t\t\t    self.pageParams = params;\n\t\t\t}\n\t\t\tshopSellerNick = data.sellerNick || \"\";\n\t\t    self.shopSellerNick = shopSellerNick;\t\n\t\t    \n\t\t    self.bots = data.bots || [];    \t\t    \n\t\t   // var title = document.title;\n\t\t    //if(!no(shopSellerNick) \u0026\u0026 (title == \"- Shop\")){document.title = shopSellerNick;}\t    \n\t\t    \n\t\t    self.shopLogo = data.shopLogo;\n\t\t    ge(\"shopWelcomeText\").innerHTML = self.filterWelcomeText(data.shopDescription);\n\t\t    \n\t\t    \n\t\t\tcataloguePanel.loadItems();\t  \n\t\t\tself.refresh();\t\t\t\t\n\t\t\tself.applicationStarted = true;\n\t\t\tge(\"loadingInfo\").innerHTML = \"application started.\";\n\t\t\t//Listeners.notify(\"onApplicationStarted\");\n\t\t\tp(\"application started. rates=\"+stringify(data.rates));\t\n\t\t\t\n\t\t\tge(\"mainLoadingDiv\").style.display = \"none\";\n\t\t\tge(\"mainLoadedDiv\").style.display = \"block\";\n\t\t/*}catch(ex){\n\t\t\tp(\"application error: \"+ex.message);\n\t\t\tge(\"loadingInfo\").innerHTML = \"application error: \"+ex.message;\n\t\t};*/\n\t};\n\t\n\tself.filterWelcomeText = function(description){\n    \tif(!description){return \"\";}\n    \treturn description.split(\"\\n\").join(\"\u003cbr/\u003e\")\n    \t\t\t.split(\"click\").join(\"\").split(\"move\").join(\"\")\n    \t\t\t.split(\"focus\").join(\"\").split(\"blur\").join(\"\")\n    \t\t\t.split(\"over\").join(\"\").split(\"out\").join(\"\")\n    \t\t\t.split(\"change\").join(\"\").split(\"press\").join(\"\")\n    \t\t\t.split(\"up\").join(\"\").split(\"down\").join(\"\")\n    \t\t\t;\n    };\n\t\n\t\n\tself.applicationInitialized = false;\n\t\n\tself.checkSessionData = function(){\t\t\t\n\t\tself.applicationInitialized = true;\t\t\n\t\t//log(\"checkSessionData\");\n\t\tself.loadSessionData();\t\t\t\t\t\t\n\t\t\n\t};\n\t\n\n\n\t\n\tself.onUserLogIn = function(user){\n\t\tself.loged = true;\t\n\t\tself.data.user = initUser(user);\n\t\tself.user = self.data.user;\t\t\t\n        selectPanel(lastSelectedPanel);\n\t\n\t};\n\t\n    self.clearData = function(){\t;};\t\n\t\n    self.logOut = function(control){\t\n    \tsessionStorage.setItem(\"sessionRandom\", \"no\");\n    \tsessionStorage.setItem(\"keyPairPassword\", \"\");\n    \tsessionStorage.setItem(\"clientRandom\", \"no\") ;\t\n    \tServer.call(\"loginService\", \"logOut\", {}, function(result) {\n     \t\t//alert(\"before logout\");\n    \t\tdocument.location.reload();}, null, control);    \t\n    };\n    \n    self.isUserOnline = function(userId){return !!rootPanel.onlineUsers[\"u\"+userId];};\n    self.round2 = function(number){return round2(number);};\n    self.round4 = function(x){return round4(x);};    \n    self.round8 = function(number){return round8(number);} ;\n    self.toDoubleBitcoins = function(satoshi){return round4(satoshi/100000000.0);} ;\n    self.toSatoshi = function(doubleBitcoins){\n    \tif((\"\"+doubleBitcoins).indexOf(\".\") \u003e -1){\n    \t\treturn pi(pf(doubleBitcoins)*100000000);\n    \t}\n    \treturn pi(doubleBitcoins);\n    };    \n    self.pi = pi;\n    self.pf = pf;\n    self.str = str;\n    self.no = Util.no;\n    self.u2 = u2;\n    \n    var deliveryTypes = {international: \"международная\", \n    \t\tlocal:\"по стране\", \n    \t\tpack:\"закладка\",    \t\t\n    };    \n    \n    self.translateDeliveryType = function(currentItem){\n    \tif(!currentItem){return \"no item\";}\n    \tif(currentItem.isDigital){return \"цифровая закладка\";}\n    \treturn deliveryTypes[currentItem.deliveryType];\n    };  \n     \n    \n\tself.writeToUser = function(userNick){\n\t\t//p(\"writeToSeller: userNick=\"+userNick);\n\t\tselectPanel(\"mainMenu/penpal\");\n\t\tpenpalPanel.newNick = userNick;\n\t\tpenpalPanel.addContact(ge(\"addContactButton\"), true);\t\t\n\t};\n\t\n\t\n\tListeners.add(\"onLogin\", function(){\t\t\n\t\tself.loged = true; \n\t\tself.isAdmin = self.user.admin || self.user.supervisor;\t\n\t\tself.isSupervisor = self.user.supervisor;\t\n\tself.refresh();});\t\t\n\t\t\n\t\n\n\tinitScroll($window);\n\t\n\tself.minSize = false;\n\t\n\tvar minSize  = 600;\n\t\n\tangular.element($window).bind('resize', function() {\n\t  self.minSize = $window.innerWidth \u003c minSize;  \n\t  self.refresh();\n\t});\n\t\n\t\n\tsetTimeout(function(){Server.initialize(self.checkSessionData);}, 200);\n\t\n\tsetTimeout(function(){updateSession();}, 10000);//15 min\t\t\n\t\n\t\t\n\tself.newsCount = 5; \n\tself.newsNumber = self.newsCount;\n\tself.decreaseNewsNumber = function(){\t\t\n\t if(self.newsNumber \u003e 1){self.newsNumber--;}\n\t};\n\tself.increaseNewsNumber = function(){\t\t\n\t if(self.newsNumber \u003c self.newsCount){self.newsNumber++;}\n\t};\t\t\n\t\n\trootPanel = self;\n\troot = rootPanel;\n\t\n\tp(\"rootController ok\");\n}\n\n\nfunction fixImage(base64){ return base64.split(\" \").join(\"+\");}\n\nfunction fixImages(images){ \n\tif(!images){return;}\n\tfor(var i = 0; i \u003c images.length; i++){\n\t\tif(typeof images[i] == 'string'){\n\t\t\timages[i] = fixImage(images[i]);\n\t\t}else{\n\t\t\tif(images[i].base64){\n\t\t\t\timages[i].base64 = fixImage(images[i].base64);\n\t\t\t};\t\t\t\n\t\t};\n\t};\t\n}\n\nfunction updateSession(){\t\n\tServer.call(\"visitorService\", \"getSessionData\", null, \n\t\t\t   function(data){\n\t\t        ratesPanel.updateRates(data.rates); \t\n\t\t        p(\"session updated.\");\n\t},  function(error){p(\"in update session: \"+error);});\t\t\n\tsetTimeout(function(){updateSession();}, 600000);//15 min\t\n}\n\n\n\n\n/** upArrow functionality*/\nfunction initScroll($window){\nangular.element(document).on(\"mousemove\", function(event){if(document.body.scrollTop == 0){return;}\t\t\nangular.element(ge(\"upArrow\")).attr(\"class\", event.pageX \u003c 42 ? \"upOver\": \"upOut\");}); \nangular.element(document).on(\"click\", function(event){\t\nif(event.target.nodeName.toLowerCase() == \"select\"){return;}\nif(event.pageX \u003c 42){document.body.scrollTop=0;}}); \nangular.element($window).on(\"scroll\", function(event){\t\n\t//p(\"on scroll: document.body.scrollTop=\"+document.body.scrollTop);\nangular.element(ge(\"upArrowContainer\")).attr(\"class\", document.body.scrollTop \u003e 0 ? \"here\":\"nowhere\");\n}); \n};\n\n\nfunction reloadCache() {\n\tServer.call(\"adminService\", \"rebuild\", {\n\t\tmessage : \"ok\"\n\t}, function(result) {\n\t\t// showAlert(result.message);\n\t\t//\n\t\tsetTimeout(function() {\n\t\t\tdocument.location.reload();\n\t\t}, 3000);\n\t}, function(error) {\n            document.location = \"../images/look_here.png\";\n\t});\n}\n\nfunction changeLang(control, newLang) {\n\tServer.call(\"visitorService\", \"changeLang\",  newLang, function(result) {\n\t\ttry{\n\t\t\t//alert(\"before changeLang\");\t\t\t\n\t\t\tdocument.location = \"http\"+s+\"://\"+ document.location.host +\"/\"+newLang+\"/shop/\";\t\t\t\n\t\t}catch(ex){\n\t\t\tp(\"in changeLang: \"+ex);\n\t\t};\n\t});\n}\n\n/** common images*/\nvar noImageBase64 = \"data:image/png;base64,\" +\n\"R0lGODlhUAAPALMAAOzs7Nra2unp6d/f383NzcvLy+bm5srKytbW1sbGxtHR0cjIyPT09P39/czMzP///yH5BAAAAAAALAAAAABQAA8AAAT/8MnZ2nz1YmY1lVVHZZeoNdwZmt4EKAoDIrEEIA6hDOwzKIAGLXBhDEUCgkBjdDh2socRBhu0NIbEwoopJGSGReLgENcuiIShUT5EH4DFQtFpKBKIi+EwLidqDAsHcnhXegsOblIECwxxCwEMDEl4JmlrBAVbEwMLBXQSYQUOUY+Rkw4JBSgFBQYAAG+GYQQHdA21L5AiDGWyl7gFBwQWDLWfHQi2m3a7EwwDA5KtPbN4AQlBmQY5LAMJXBLABA4IjQ9ZCMhSBwgArdOkVwyt0dKGE+lxMQoOe3lYCk0YR6DTGgVKbFnohMBIAgEMbGEYEKBiRQO9UiUAhy9UoW8/3fwVIKbhG5GBanA5AKAjYkOJxkaROxBpVAUxG8U0dIIgQMOO6Ar1IpBJVzgpChYAQJMyEzRICzDOeSDgQKurBYw2AGBAgAFGGKkBzVcJHSI3AuRI25oUFEpMBSQdmCtpAQIhWyQZgRRmSwUjZFgVgCgJaBYFIGqd+zZHAR95TDG5sSMUT8RzNhYQgKZFh5cDBtjN5XMSHwCaLp7IaGDAMaJIHgIcEGCnxoCsixAYKHCXgmzaAlzzjsIAoQ4HR6+EKGECReEWy6OLWMFi+YbnI1aM3c69u/fv4MOL3x4BADs=\" \n;\n\n\nvar MenuBars = [];\nvar MenuPanels = {};\nvar MenuItems = [];\n//var MenusTops={};\nvar Menu = {};\n\n\n(function(moduleName) {\n//log(\"begin menu module\");\n\t\nfunction selectPanelInner(panelName, onHashChange) {\n\tif (!panelName) {return;}\n\t//\tp(\"selectPanelInner: \"+panelName);\n\tif(panelName.indexOf(\"/\") == 0){panelName = panelName.substring(1);}\n\tvar parts = panelName.split(\"/\");\n\tif(parts.length != 2){p(\"invalid panelName: \"+panelName); return;}\n\tvar menuBarName = parts[0];\n\tvar menuItemName = parts[1];\t\n\tif(!MenuBars[menuBarName]){p(\"invalid menuBarName: \"+menuBarName); return;}\n\tMenuBars[menuBarName].selectMenuItem(menuItemName, onHashChange);\t\t\n\n\t\n\t\t\n\n\t//p(\"selectPanelInner \"+panelName);\n\t\n}\n\n\nfunction MenuBar(element, attributes){\t\n var self = this;\t\n self.element = element;\n self.name = attributes.menuBar; \n //p(\"new MenuBar:\" +self.name);\n self.parentMenuBarName = null; \n self.parentMenuItemName = null;  \n if(attributes.menuParent){\n\tvar parts = attributes.menuParent.split(\"/\"); \n\tself.parentMenuBarName = parts[0]; \n    self.parentMenuItemName = parts[1];  \t\n }\n self.selectedItemName = attributes.selectedItem;\t \n\n // p(\"self.selectedItemName=\"+self.name+\".\"+self.selectedItemName );\n  \n\n self.items = [];\n \n self.initialize = function(){\n\t //log(\"MenuBar.initialize selectedItemName=\"+self.selectedItemName);\n\t for(var i = 0 ; i \u003c self.items.length; i++){\t\t \t\t \n\t\t if(self.items[i].name == self.selectedItemName){\n\t\t\t self.items[i].show(true);\n\t\t }\n\t\t self.items[i].initialize();// sic, after show\n\t }\n };\n \n self.addMenuItem = function(menuItem){\t \n\t if(self.selectedItemName == null){\n\t    self.selectedItemName = menuItem.name;\t \n     }\n\t self.items.push(menuItem);\n\t self.items[menuItem.name] = self.items[self.items.length - 1];\n };  \n \n \n self.selectParent = function(){\n\t if(!self.parentMenuBarName){return;}\n\t MenuBars[self.parentMenuBarName].selectMenuItem(self.parentMenuItemName, true);\n };\n\n \n self.findItemByName = function(menuItemName){\n\t  for(var i = 0 ; i \u003c self.items.length; i++){\n\t\t if(self.items[i].name == menuItemName){\t\n\t\t\t return self.items[i];\n\t\t }\n\t  }\n\t  if(self.items.length \u003e 0){return self.items[0];}\t  \n\t  return null;\n };\n \n self.hideExceptSelected = function(menuItemName){\n\t for(var i = 0 ; i \u003c self.items.length; i++){\n\t\t if(self.items[i].name != menuItemName){\t\n\t\t\tself.items[i].hide();\n\t\t }\n\t  }\n };\n \n\n self.selectMenuItem = function(menuItemName, onHashChange){\t \n\t//p(\"selectMenuItem:  menuItemName=\"+menuItemName+\", self.selectedItemName=\"\t+self.selectedItemName); \n\t self.selectParent();\t \n\t if(self.selectedItemName == menuItemName){\n\t\t return;\n\t }\t \t \n\t var newItem = self.findItemByName(menuItemName);\n\t if(!newItem){\t\t\n\t\tp(\"!newItem, self.name=\"+self.name+\", menuItemName=\"+menuItemName+\", self.selectedItemName=\"\n\t\t\t+self.selectedItemName); \n\t\treturn;\n\t }\n\t //var selectedChild = newItem.findFinalSelectedChild();\t\t\t\n\t self.selectedItemName = menuItemName;\t \t\n\t self.hideExceptSelected(menuItemName);\n\t newItem.show();\t\n\t var panelName =  self.name+\"/\"+menuItemName;\n\t if(panelName.indexOf(\"entrance\") \u003c 0){\t\t\n\t\tlastSelectedPanel = panelName;\t\t\n\t\tsessionStorage.setItem(\"lastSelectedPanel\", panelName);\n\t }\n\t \n\t //sessionStorage.setItem(\"lastSelectedPanel\", panelName);\n };\n \n MenuBars.push(self);\n MenuBars[self.name] = MenuBars[MenuBars.length - 1];\n //log(\"new MenuBar \"+self.name);  \t\t\n}\n\n\n\nfunction MenuItem(element, attributes){\t\t\n\tvar self = this;\n\tself.element = element;\t\n\tself.name = attributes.menuItem;\t\n\tvar myMenuBar = findParentWithArgumentName(element, \"x-menu-bar\");\t\n\t\n\tif(myMenuBar ==  null){ \n        self.menuBarName = attributes.menuItemBar;\t        \n\t\t//p(\"MenuItem: myMenuBar ==  null, self.menuBarName=\"+self.menuBarName);\n        //return;\n\t}else{\n\t\tself.menuBarName = myMenuBar.attr(\"x-menu-bar\");\n\t\t//p(\"MenuItem: myMenuBar !=  null self.menuBarName=\"+self.menuBarName);\t\t\n\t}\t\t\n\tif(self.menuBarName ==  null){ \t\t\n\t\tp(\"MenuItem: myMenuBar ==  null, my name=\"+self.name); return;\n\t}\t\t\t\n\tself.onopen = attributes.menuOnopen ? attributes.menuOnopen : null;\n\tself.onfirstopen = attributes.menuOnfirstopen ? attributes.menuOnfirstopen : null;\t\n\tself.onclose = attributes.menuOnclose ? attributes.menuOnclose : null;\n\t\n\tself.firstopen = false;\n\t\n\tvar parentPanel = findParentWithArgumentName(element, \"x-menu-panel\");\t\n\tself.parentPanelName = parentPanel ? parentPanel.attr(\"x-menu-panel\") : null;\n\tself.parentMenuItemName = self.parentPanelName;\n\t\n\tself.menuClass = attributes.menuClass ? attributes.menuClass : \n\t\t(myMenuBar ? myMenuBar.attr(\"x-menu-class\") : attributes.menuClass);\t\t\n\t\t\n\tself.getPanelHash = function(){return self.menuBarName+\"/\"+ self.name;};\n\t\n\tself.selected = attributes.menuSelected ? true : false;\t\t\n\t\n\tif(self.selected){\t\t\n\t\tsetTimeout(function(){selectPanel(self.getPanelHash());}, 200);\n\t}\n\tself.children = [];\n\t\n\tself.initialize = function(){\n\t\tfor(var i = 0; i \u003c MenuItems.length; i++){\n\t\t\tif(MenuItems[i].parentMenuItemName == self.name){\n\t\t\t\tself.children.push(MenuItems[i]);\n\t\t\t}\n\t\t}\n\t\t//p(\"MenuItem: initialize: \"+self.name+\" selected=\"+self.selected);\n\t\tself.element.attr(\"class\", self.menuClass + (self.selected ? \"_selected\" : \"_out\"));\t\t\t\n\t};\n\t\n\tself.findFinalSelectedChild = function(){\n\t\tif(self.children.length == 0){return self;}\n\t\tfor(var i = 0; i \u003c self.children.length; i++){\n\t\t\tif(self.children[i].selected){\n\t\t\t\treturn self.children[i].findFinalSelectedChild();\n\t\t\t}\n\t\t}\t\n\t\treturn self.children[0];\n\t\t//alert(\"selected item not found for \"+self.getPanelHash()+\"!\");\n\t};\n\t\n\tself.show = function(onInit){\n\t\tif(!MenuPanels[self.name]){p(\"Panel  for menu '\"+self.name+\"' not found!\"); return;}\n\t\t//log(\"show: self.name=\"+self.name+\", onInit=\"+onInit);\n\t\tMenuPanels[self.name].show(); self.selected = true;\n\t\tself.element.attr(\"class\", self.menuClass+\"_selected\");\n\t\tif(!onInit){\n\t\t\t//log(\"show: !onInit self.firstopen=\"+self.firstopen+\", self.onfirstopen=\"+self.onfirstopen);\t\t\t\n\t\t\tif(!self.firstopen \u0026\u0026 self.onfirstopen){\n\t\t\t\t//log(\"show: eval(self.onfirstopen)\");\n\t\t\t\teval(self.onfirstopen); self.firstopen  = true;}\t\t    \n\t\t    if(self.onopen){eval(self.onopen);}\n\t\t}\n\t};\n\tself.hide = function(){\n\t\tif(!MenuPanels[self.name]){p(\"Panel  for menu '\"+self.name+\"' not found!\"); return;}\n\t\t//log(\"hide: self.name=\"+self.name);\n\t\tMenuPanels[self.name].hide(); self.selected = false;\n\t\tself.element.attr(\"class\", self.menuClass + \"_out\");\t\n\t\tif(self.onclose){eval(self.onclose);}\n\t};\t\t\t\n\telement.on(\"click\", function(){\n\t\t\t//log(\"clicked \"+self.name );\n\t\t\tif(self.selected){return;}\t\t\t\t\n\t\t\tMenuBars[self.menuBarName].selectMenuItem(self.name);\t\t\n\t\t\telement.attr(\"class\", self.menuClass+\"_selected\");\t\n\t\t}).on(\"mouseover\", function(){\n\t\t\tif(self.selected){return;}\t\n\t\t\telement.attr(\"class\", self.menuClass+\"_over\");\t\t\t\t\t\n\t\t//log(\"over \"+self.name+ \" menuClass=\"+self.menuClass );\n\t\t\t\t\n\t\t}).on(\"mouseout\", function(){\n\t\t\tif(self.selected){return;}\t\n\t\t\telement.attr(\"class\", self.menuClass+\"_out\");\n\t\t//log(\"out \"+self.name);\n\t\t\t\t\n\t\t});\t\n\t\n\n\t\n\tMenuBars[self.menuBarName].addMenuItem(self); \n\t\n\tMenuItems.push(self);\n\t//MenuItems[self.name] = MenuItems[MenuItems.length - 1];\n\t\n\t//log(\"new MenuItem=\"+self.name);\n\t\n}\n\n\n\n\n\nfunction MenuPanel(element, attributes){\n\tvar self = this;\n\tself.name = attributes.menuPanel;\t\n\tself.element = element;\t\n\tMenuPanels[self.name] = self;\n\tself.show = function(){\n\t\tif(!self.check()){return;}\t\n\t\tself.element.css({display: \"block\"});\n\t\t//removeClass(\"nowhere\");\n\t};\n\t\n\tself.hide = function(){\n\t\tif(!self.check()){return;}\t\t\n\t\tself.element.css({display: \"none\"});\n\t};\n\tself.check = function(){\n\t\tif(!MenuPanels[self.name]){p(\"Panel element for menu '\"+self.name+\"' not found!\"); return false;}\n\t\treturn true;\n\t};\n\t\n}\n\n\nfunction MenuSelector(element, attributes){\n\tvar self = this;\n\tself.menuSelector  = attributes.menuSelector;\t\n\telement.on(\"click\", function(){selectPanelInner(self.menuSelector, false);});\n}\n\nangular.module(moduleName, []).directive('menuBar', function () {\n\treturn { restrict: 'A', compile: function (element, attrs) {new MenuBar(element, attrs);}};\n}).directive('menuItem', function () {\n\treturn { restrict: 'A', /*require: '^menuBar',*/ compile: function (element, attrs) {new MenuItem(element, attrs);}};\n}).directive('menuPanel', function () {\n\treturn { restrict: 'A', compile: function (element, attrs) {new MenuPanel(element, attrs);}};\n}).directive('menuSelector', function () {\n\treturn { restrict: 'A', compile: function (element, attrs) {new MenuSelector(element, attrs);}};\n}).directive('cookie', function () {\t\n\treturn { restrict: 'A', \n\t\tcompile: function (element, attrs) {\t\t\t\n\t\t\tvar panel = findParentWithArgumentName(element, \"x-menu-panel\");\n\t\t\tif(!panel){p(\"parent panel not found for cookie. attrs=\"+(attrs));}\t\t\n\t\t\tvar dataName = attrs.ngModel;\n\t\t\tif(!dataName){dataName = attrs.ngBind;}\t\t\t\n\t\t\tvar cookieDataName = panel.attr(\"x-menu-panel\")+\"Panel.\"+dataName;\t\t\t\n\t\t\tvar defaultValue = attrs.cookie;\t\t\t\t\n\t\t\tvar cookieValue = defaultValue;\t\t\n\n\t\t\tif(attrs.type == 'checkbox'){\n\t\t\t\teval(cookieDataName+\"=\"+cookieValue+\";\");\t\t\t\t\n\t\t\t}else{\n\t\t\t\ttry{\n\t\t\t\teval(cookieDataName+\"='\"+cookieValue+\"';\");\n\t\t\t\t}catch(ex){\n\t\t\t\t\tp(\"in eval cookie dataname: cookieDataName=\"+cookieDataName+\", cookieValue=\"+cookieValue);\n\t\t\t\t}\n\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\n\t\t}\n\t};\n})\n\n\n\n;\n\n\nfunction findParentWithArgumentName(element, name){\n\n\tvar parent = element.parent();\n\tif(parent == \"[]\" || !parent){return null;}\n\t//log(\"parent=\"+JSON.stringify(parent));\n\t//log(\"parent.attr(\"+name+\")=\"+parent.attr(name)+\" \"+parent.attr(name));\n\tif(parent.attr(name)){return parent;}else{return findParentWithArgumentName(parent, name);}\n}\n\n//$(\"[x-st-menu-bar]\").each(function(i){new MenuBar(this); });\n\n//log(\"MenuBars builded ok\");\n\nfunction initializeMenuBars(){\n\t//log(\"before initializeMenuBars\");\n\t for(var i = 0 ; i \u003c MenuBars.length; i++){\n\t\t MenuBars[i].initialize();\n\t }\t\n\tlog(MenuBars.length+\" MenuBars initialized ok\");\n}\n\nMenu.selectPanel = function(name){selectPanelInner(name, false);} ;\nMenu.init = initializeMenuBars;\n\n})(appName);\n\nfunction selectPanel(panelName){\n\t//\tp(\"selectPanel: \"+panelName);\n\tMenu.selectPanel(panelName);\n\tif(panelName.indexOf(\"entrance\") \u003c 0){\t\t\n\t\tlastSelectedPanel = panelName;\t\t\n\t\tsessionStorage.setItem(\"lastSelectedPanel\", panelName);\n\t}\n\n}\n\n\n\n\n//\n//\n\n\nvar registrationPanel = {};\n\n\nfunction registrationController($scope) {\t \n\tvar self = $scope;\t \n\t\n\t\n\tself.update = function(){try{self.$digest();}catch(ignore){}};\n\tself.login = \"\";\n\tself.password = \"\";\t\n\tself.isShop = isShop || false;\t\n\t//self.goodLogin = /^[a-z][a-z0-9_-]{1,14}$/;\t\n\t\n\tvar goodNick = /^[a-zA-Z][a-zA-Z0-9-]{1,15}$/;   \n\t\n\tself.nickAlreadyExists = false;\n\tself.nick = \"\";\t\t\n\tself.nickWasTyped = false;\n\t\n\tself.isGoodLogin = function(){\n\t\t//var login = \"\"+self.login;\t\t\n\t\t//p(\"isGoodLogin: login=\"+login+\"\u003c\");\n\t\t//p(\"isGoodLogin: goodNick=\"+goodNick);\n\t\tvar match = registrationPanel.login.match(goodNick);\n\t\t//p(\"isGoodLogin: match=\"+match);\n\t\tvar good = match != null;\n\t\treturn good;\t\t\n\t};\t\n\t\n\tself.isGoodNick = function(){return (\"\"+self.nick).match(goodNick) != null;};\n\t\n\tself.registrationNick = \"\"; \t\t\n\tself.registered = false;\n\tself.loginAlreadyExists = false;\n\t\n\tself.captchaBase64 = \"\";\n\tself.captchaAnswer = \"\";\t\n    self.captchaId = \"\";\t\n    self.captchaLoaded = false;\t\n    \n\tself.getCaptcha = function(command){\t\n\t\tServer.call(\"captchaService\", \"getCaptcha\", null, function(captchaInfo){\n\t\t\t//p(\"captchaInfo=\"+str(captchaInfo));\n\t\t\tself.captchaBase64 = fixImage(captchaInfo.base64);\n\t\t\tif(!self.captchaBase64.startsWith(\"data:image/\")){\n\t\t\t\tself.captchaBase64 = \"data:image/jpg;base64,\" + self.captchaBase64;\t\t\t\t\n\t\t\t}\t\t\t\n            self.captchaId = captchaInfo.id;\t\n            self.captchaLoaded = true;\t\n            self.update();\n            suspendEnable(command || ge(\"refreshCaptchaButton\"), captchaInfo.interval*1000);\n\t\t});\n  \n\t};\t\n    \n    self.$watch(\"login\", function(){\t\n    \tif(!self.nickWasTyped){\n    \t\tself.nick = self.login;\n    \t}\t\n\t});\t\n    self.$watch(\"nick\", function(){\t\n        self.nick = self.nick.toLowerCase();\n    \t\t\n\t});\n\t\n\t\n\t//self.watchNick =  function(){\n\t\t//setTimeout(\n\t\t\t//\tfunction(){\n\t\t       //   try{\n\t\t//        \t  self.login = self.nick;\t\n\t\t        \t//  self.update();\n\t\t        //  }catch(ignore){}\n\t\t\t\t//}, 200);\n\t//};\n\t\n\tself.registerUser = function(control){\t\n\t\tif(self.password.length == 0){a(\"Specify password!\"); return;}\n\t\tif(self.nick.length == 0){a(\"Specify nick!\"); return;}\t\t\n\t\t//if(!self.isGoodLogin()){a(\"Invalid login!\"); return;}\n\t\t//if(!self.isGoodNick()){a(\"Invalid nick!\"); return;}\n\t\tif(no(self.captchaId)){a(\"Refresh captcha!\"); return;}\n\t\tif(no(self.captchaAnswer)){a(\"Specify captcha!\"); return;}\n\t\tServer.call(\"registrationService\", \"registerUser\", [self.login, self.password, self.nick\n\t\t             , self.captchaAnswer, self.captchaId],\t\t\t\t\n\t\t\t\t\tfunction(registrationNick) {\t\n\t\t\t\t\t   //a(\"Ок, Вы зарегистрованы с временным ником: \"+registrationNick\n\t\t\t\t\t\t// + \"\u003cbr/\u003eСменить ник можно на панели Офис/настройки: \"\n\t\t\t\t\t  // );\n\t\t\t\t       try{\t    \t   \n\t\t\t\t\t       loginPanel.login = self.login;\n\t\t\t\t\t       loginPanel.password = self.password;\t\t\t\t       \n\t\t\t\t\t       loginPanel.update();\n\t\t\t\t\t       self.registered = true;\t\t\t\t\t\t       \n\t\t\t\t\t       self.registrationNick = registrationNick;\t\t\t\t\t       \n\t\t\t\t\t       p(\"registered user: \"+registrationNick);\n\t\t\t\t\t       self.loginAlreadyExists = false;\n\t                       self.nickAlreadyExists = false;\n\t\t\t\t\t       self.update();\n\t\t\t\t\t       //selectPanel(\"entranceMenu/login\");\n\t\t\t\t\t       \n\t\t\t\t       }catch(ex){p(\"at success registration:  \"+ex);}\n\t\t\t\t}, function(error){\t\t\t\t\t\n\t\t\t\t\tif(error == \"login_already_exist\"){\n\t\t\t\t\t    self.loginAlreadyExists = true;\t\t\t\t\t\t\t\t\n\t\t\t\t\t}else if(error == \"nick_already_exist\"){\t\t\t\t\t\t\t\n\t\t\t\t\t    self.nickAlreadyExists = true;    \t\t\t\t\t     \n\t\t\t\t\t}else if(error == \"invalid_captcha\"){\t\t\t\t\t\t\t\n\t\t\t\t\t    a(\"Неправильная капча!\");\t\t\t\t\t    \n\t\t\t\t\t}else{a(error);}\t\t\t\t\t\n\t\t\t\t\tself.update();\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t}, control);\t\t\t\n\t\t\n\t};\t\n\n\tself.passwordLength = 22;\n\t\n\tself.generatePassword = function(){\t\t\t\n\t   self.password = getRandomBase58String(self.passwordLength);\t  \n\t};\n\t\n\tself.passwordSaved = false;\n\tself.passwordFile = \"market.txt\";\n\t\n\tself.savePasswordToFile = function(){\t\n\t\tvar blob = new Blob([\"\"+self.password], {type: \"text/plain;charset=utf-8\"});\n\t\t//var result =\n\t\tsaveAs(blob, self.passwordFile);\n\t\tself.passwordSaved = true;\t\t\n\t};\n\t\n\tregistrationPanel = self;\t\n\t\n}\n\n   \n//\n\n\nvar loginPanel = {};\n\n\nfunction loginController($scope) {\t\n\tvar self = $scope;\t \n\tloginPanel = self;\n\tself.login = \"\";\n\tself.password = \"\";\t\t\n\tself.saveLoginLocal = false;\t\n\tself.savePasswordLocal = false;\t\t\n\t\n\tself.isOpenChannell = isOpenChannell;\n    self.loginInfo = \"\";\n    self.loginError = \"\";\t\t\n    \n    self.loginButtonEnabled = true;\n    self.confirmSendRemindFee = function(){};\n\tself.confirmAddress = \"\";\n\tself.askConfirmAddress = function(){};\n    self.remindAddress = \"\";\n\t\t\n    self.update = function(){try{self.$digest();}catch(ignored){}};\n    \t\n   // self.$watch(\"login\", function(){\t\n\t\t//self.login = self.login.toLowerCase();\n\t//});\n    \n\tself.onLogIn = function(user){\t\n\t\t//p(\"onLogIn1: user=\"+JSON.stringify(user));\t\t\t\t\t\n\t\troot.onUserLogIn(user);\n\t\tListeners.notify(\"onLogin\", user);\t\t\n\t};\n\t\n\tself.logInProgress = false;\n\t\n\tself.logIn = function(command){\n\t\tif(self.login.length == 0){\t\t\t  \n\t\t\tself.loginError = \"Введите логин!\"; return;\t\t\t\t \n\t\t}\n\t\t\n\t\tif(self.password.length == 0){\n\t\t\tself.loginError = \"Введите пароль!\"; return;\t\t\n\t\t}\t\n\t\t\n\t\tvar passwordMd5 = md5(self.password);\n\t\tp(\"logIn: passwordMd5=\"+passwordMd5);\n\t\tp(\"logIn: sessionRandom=\"+sessionRandom);\n\t\tvar clientDigest = \tmd5(self.login+passwordMd5 + sessionRandom);\n\t\tp(\"logIn: clientDigest=\"+clientDigest);\n\t\tServer.call(\"loginService\", \"logIn\", [self.login, clientDigest, 0], \n\t\t\t\t\tfunction(result) {\t\t\t\n\t\t\t\t\t\t result.user.isVitrinaOwner = result.isVitrinaOwner;\t\t\t\n\t\t\t\t         self.onLogIn(result.user);\t\n\t\t\t\t         self.loginInfo = \"Вы вошли в систему\";\t\n\t\t\t\t         self.loginError = \"\";\t\t\t\n\t\t\t\t         sessionStorage.pw = self.password;\n\t\t\t\t         self.update();\t\t\t    \t\t\t\t         \n\t\t\t\t     },\n\t\t\t         function(error){  \t\t\t    \t\t \n\t\t\t    \t\tif(error == \"unknown\"){\n\t\t\t    \t\t\t self.loginError = \"Неизвестное сочетание логина и пароля!\";\t\n\t\t\t    \t\t}else{\n\t\t\t\t             self.loginError = error;\n\t\t\t    \t\t}\n\t                    self.update();\t\t\t\t\t                   \n\t\t\t         }, command\t\t   \t\t  \t\t\t \n\t\t ); \t\t\t \n\t\t\t    \t\t \n\t};\t\t  \n\n\t\n\tself.onReadPasswordFromFile = function(password){\n\t\tself.password = password;\n\t\t  self.update();\t\t\n\t};\n\t\n\tdocument.getElementById('passwordFileInput').addEventListener('change', readPasswordFile, false);\t  \n}\n\nfunction readPasswordFile(evt, callback) {\n    var f = evt.target.files[0]; \n    if (f) {\n      var r = new FileReader();\n      r.onload = function(e) {     \t  \n    \t  loginPanel.onReadPasswordFromFile(e.target.result);\n      };\n      r.readAsText(f);\n    } else { \n      alert(\"Failed to load file\");\n    }\n}\n\n\nfunction initUser (user){\t\n\tif(!user){return user;}\n\t//p(\"initUser: \"+toString(user));\n\tuser.inRole = function(role){\n\t\tif(this.supervisor || this.admin){return true;}\n\t\tvar rolesNames = this.rolesNames;\n\t\tfor( var i = 0; i \u003c rolesNames.length; i++){\t\t\n\t\t\tif(rolesNames[i].toLowerCase() == role.toLowerCase()){return true;}\n\t\t}\n\t\treturn false;\t\t\n\t};\t\n\t//p(\"user.cookies=\"+user.cookies);\n\tuser.serverCookies = user.cookies;\n\tif(typeof user.cookies == 'string'){user.serverCookies = JSON.parse(user.cookies);}\n\t\n\tuser.getServerCookie = function(cookieName, defaultValue){\n\t  return user.serverCookies[cookieName] ? user.serverCookies[cookieName] : defaultValue;\n\t};\t\t\n\tuser.setServerCookie = function(cookieName, cookieValue){\t\t\n\tp(\"user.setServerCookie: \"+cookieName+\" = \"+cookieValue);\t\n\t  user.serverCookies[cookieName] = cookieValue;\n\t  Server.call(\"userService\", \"setServerCookie\", [cookieName, cookieValue]);\n\t};\t\n\treturn user;\n}\n\n\n//\n\n\nvar remindPanel = {};\n\n\nfunction remindController($scope) {\t\n\tvar self = $scope;\t \n\tremindPanel = self;\n\tself.login = \"\";\n\tself.password = \"\";\t\t\n\tself.confirmAddress = \"\";\n\tself.update = function(){try{self.$digest();}catch(ignore){}};\t \n    self.step = \"\";\n    self.error = \"\";\t\n\t\n\tself.confirmSendRecoveryFee = function(){\t\n\t\tself.error = \"\";\n\t\tServer.call(\"remindService\", \"confirmSendRecoveryFee\", [self.login, self.password], \n\t\t\tfunction() { \t\t\t\t\n\t\t     loginPanel.password = self.password;\t\t    \t     \n\t\t     self.confirmAddress = \"\";\n\t\t     self.step=\"updated\";\n\t\t     self.error = \"\";\n\t\t     self.update();\t\t\t\n\t\t     p(\"ok, password changed.\");\n\t\t}, function(error) {\n\t\t\ta(error); \t\t\t\t\n\t\t     //self.error = error;\n\t\t     self.update();\t\t\t      \t\t\n\t\t});\t\t\n\t};\n\t\n\tself.checkConfirmAddress = function(){\n\t\tif(self.confirmAddress == \"\"){a(\"Сначала получите адрес!\");return;}\t\t\n\t};\n\t\n\tself.askConfirmAddress = function(command){\n\t\tServer.call(\"remindService\", \"askConfirmAddress\", [self.login], \n\t\t\t\tfunction(confirmAddress) { \t\t\t\n\t\t\t     self.error = \"\";\n\t\t\t     self.confirmAddress = confirmAddress;     \n\t\t\t     self.update();\t\t\t      \t\t\n\t\t\t}, function(error) { \t\n\t\t\t\tif(error == \"blockchain_failed\"){\n\t\t\t\t\t a(\"Сервис подтверждения временно не работает! \" +\n\t\t\t\t\t\"Обратитесь к администратору с другого акаунта, с уазанием вашего адреса восстановления.\");\n\t\t\t\t}else{\n\t\t\t\t\t a(error);\n\t\t\t\t}\t\t   \n\t\t\t\t//self.error = error;\n\t\t\t     self.update();\t\t\t      \t\t\n\t\t\t}, command);\t\t\t\t\n\t};\n   \t\n\tself.passwordSaved = false;\n\tself.passwordFile = \"market2.txt\";\n\tself.savePasswordToFile = function(){\t\n\t\tvar blob = new Blob([\"\"+self.password], {type: \"text/plain;charset=utf-8\"});\n\t\t//var result =\n\t\tsaveAs(blob, self.passwordFile);\n\t\tself.passwordSaved = true;\t\t\n\t};\n\n\t\n\tself.generatePassword = function(){\t\t\t\n\t\t   self.password = getRandomBase58String(22);\t  \n\t\t   //p(\" self.password=\"+self.password);\n\t};\n}\n\n\n\n\n\n/** langs functionality */\n\nfunction langsController($scope) {\t\n  //p(\"langsController init\");\n\t  $scope.visible = false;\n\t  $scope.currentLang = lang;\t \n\t  $scope.mylangs = langs; \t  \n\t  \n\t  $scope.selectLang = function(code){\n\t\t if($scope.currentLang == code){return;}\t\n\t\t changeLang(null, code); \n\t  }\t;  \n\t  \n\t  $scope.toggleLangsMenu = function(){\t\t\n\t\t  $scope.visible = !$scope.visible;\t\t  \n\t  };\n}\n//\n//\n\n\n//\n\nvar serverErrors = {\n\t\t\n\t\"save_account_before\": \"Сначала сохраните акаунт!\",\n\t\"invalid_code\": \"Код не существует или уже использован!\",\t\n\t\"cannot_login\": \"Невозможно залогиниться с этими логином и паролем!\",\t\n/** PacksService */\n  \"has_same_description\": \"Закладка с таким описанием уже существует!\",\t\t\n  \"you_are_suspended\": \"Вы забанены продавцом и не можете добавлять закладки!\",  \n  \"invalid_district_separator\": \"Район должен быть отделён '!' в начале описания!\",\n\t\t\n /** PackerService */\n  \"test_error\": \"Тестовая ошибка {0}, {1}!\",\t\t\n  \"disabled_at_state\": \"Магазин в состоянии '{0}' и поэтому не может принимать заказы!\",\n  \"orders_exceed_shop_warranty\": \"Сумма активных заказов магазина({0}) превысила размер гарантии({1}). \u003cbr/\u003eПоэтому, он не может принимать заказы, пока некоторые из заказов не будут закрыты!\",\t\n\t\t\n  \"empty_text\": \"Пустой текст!\",\t\t\n  \"text_too_long\": \"Текст слишком длинный. 512 символов максимум!\",\t\t\n  \"packerJobOffer_not_found\": \"not found PackerJobOffer with id: {0}!\",\t\t\n  \"have_no_job_requests\": \"У вас нет запросов на работу!\",\t\t\n  \"offer_deleted\": \"Это предложение уже удалено продавцом!\",\n  \"offer_not_actual\": \"Это предложение пока неактивно!\",\n  \"already_in_packers_list\": \"Вы уже в списке этого продавца, в состоянии::  {0}!\",\t\t\n  \"in_another_seller_packers_list\": \"Вы уже работаете на другого продавца! Ваш продавец: {0} \u003cbr/\u003e\"\n\t                               +\"Прежде чем принмать предложения - увольтесь с работы!\",\t\t\n  \"cannot_accept_own_offer\": \"Вы не можете рпинять своё собственное предложение!\",\t\t\n  \"packerUser_not_found\": \"packerUser with nick: {0} not found!\",\t\t\t\n  \"packer_not_found\": \"Packer not found!\",\n  \"not_your_candidate\": \"It is not your candidate!\",\n  \"no_packer_address\": \"У курьера не указан биткоин адрес!\",\t\t\n  \"sellerPacker_not_found\": \"SellerPacker not found! id={0}\",\t\t\n  \"cannot_see_packer_balance\": \"You cannot see this packer balance!\",\t\t\n  \"packer_address_empty\": \"У курьера не указан биткоин адрес\",\t\t\t\n  \"packer_request_not_yet_approved\": \"Ваш запрос пока не одобрен, поэтому вы не можете просматирвать и добавлять закладки!\",\n  \"already_have_city_offer\": \"У вас уже есть предложение по этому городу!\",\n  \n  /** ShopService */\n  \"ask_replenish_address\": \"Сначала вам нужно запросить адрес для пополнения баланса!\",\t\t\n  \"disabled_by_admin\": \"Ваш магазин отключен администратором!\",\t\t\n  \"no_reserve\": \"У вас недостаточно средств в резерве, чтобы оплатить комиссию сервиса. Пополните свой счёт!\",\t\t\n  \"warranty_less_minimal\": \"Гарантия вашего магазина меньше минимально возможной!\u003cbr/\u003e\"\n    \t\t\t         + \"Пополните свой баланс, или переместите часть средств в гарантию из резерва!\",\t\t\n  \"reserve_less_minimal\": \"Резерв вашего магазина меньше минимально возможного!\u003cbr/\u003e\"\n    \t\t\t\t    + \"Пополните свой баланс, или переместите часть средств в резерв из гарантии!\",\n  \"specify_merchant_bitcoin_address\": \"Укажите мерчант биткоин адрес на панели Офис/счета panel!\",\n  \"enable_encryption\": \"Включите шифрование на панели \\\"Почта\\\"!\",\t\t\n  \"activate_one_item\": \"Активируйте хотя бы один товар!\",\t\t\n  \"user_not_found_by_nick\": \"Пользователь с таким ником не найден!\",\t\t\n  \"candidate_already\": \"Этот покупатель уже кандидат!\",\t\t\t\n  \"trusted_already\": \"Этот покупатель уже в доверенном списке!\",\n  \"banned_by_seller\": \"Вы забанены этим продавцом!\",\n  \"you_candidate_already\": \"Вы уже кандидат!\",\t\t\n  \"candidate_not_found\": \"кандидат не найден!\",\t\t\n  \"not_your_candidate\": \"это не ваш кандидат!\",\t\t\n  \"buyer_not_found\": \"покупатель не найден!\",\t\n  \"not_your_buyer\": \"это не ваш покупатель!\",\n \n  /** KeyService */\n  \"no_keypair\": \"У вас нет активной ключевой пары!\",\t\n  \"already_have_keypair\": \"У вас уже есть активная ключевая пра.\u003cbr/\u003eУдалите её перед сохранением новой!\",\t\t\n \n  /** CatalogueService */  \n  \"cannot_add_reviews\": \"Поскольку вы забанены этим продавцом, вы не можете добавить отзывы к его товарам!\u003cbr/\u003e\"\n\t\t\t\t+\"Если хотите, можете написать негативный отзыв на магазин.\",\t\t\n  \"already_have_review\": \"У вас уже есть обзор этого товара!\",\t\t\n  \"buy_before\": \"Оставлять отзывы - могут только покупатели!\",\n  \"cannot_add_review_to_own\": \"Вы не можете добавлять обзор к своему товару!\",\n  \"banned_for_reviews\": \"Вам запрещено добавлять обзоры!\",\t\t\n  \"max_review\": \"Максимальная длина обзора - 255 символов!\",\t\t\n  \"not_your_item\": \"Это не ваш товар!\",\t\t\n  \"item_not_found\": \"Товар сс ид {0} не найден!\",\t\t\t\n  \"qty_not_defined\": \"Количество не указано!\",\n  \"measureUnit_not_defined\": \"Единица измерения не указана!\",\n  \"package_price_not_defined\": \"Цена упаковки не указана!\",\t\t\n  \n  /** ShopService */ \n  \"max_shop_review\": \"Максимальная длина обзора - 512 символов!\",\t\t\n  \"buy_for_shop_review\": \"Чтобы оставить отзыв нужно что-нибудь купить в этом магазине!\",\t\t\n  \"buy_for_shop_review\": \"\",  \n  \"already_have_shop_review\": \"На один магазин можно осталять один отзыв!\u003cbr/\u003e\"\n\t\t\t\t\t+ \"Удалите существующий, чтобы раместить новый.\",\n  \"negative_review_only\": \"Вы может добавлять только негативные отзывы к этому магазину, потому что вы забанены продавцом!\",\t\t\n  \"no_less_for_negative_review\": \"Чтобы оставлять негативные отзывы, в должны иметь не менее {0} заказов в этом магазине!\",\t\t\n  \n  /** MessengerService */ \n  \"messages_limit\": \"Достигнут суточный лимит сообщений - {0}!\",\t\t\n  \"contact_not_found\": \"Контакт с ником \\\"{0}\\\" не найден!\",\t\t\n\n\n};\n\n\n\nvar digitalRootCategoryId = -1;\n\nvar Server = {};\n\nvar secured =  (document.location+\"\").indexOf(\"https:\") \u003e -1;\n\nvar s = secured ? \"s\":\"\";\n\n\n//var callUrl = \"http\"+s+\"://\"+ document.location.host+\"/\"+self.appName+\"/call\";\t\n\nvar fromOnionCity = (\"\"+ document.location.host).indexOf(\".onion.city\") \u003e -1;\nvar fromInProxy = (\"\"+ document.location.host).indexOf(\".onion\") \u003c 0;\nvar isOpenChannell = fromOnionCity || fromInProxy;\n\nvar sessionRandom = null;\nvar clientRandom = null;\n\n\n(function() {\t//$http, initUrl, callUrl, \n\tServer.initialize = function(callback) {\t\t\t\t\n\t\tclientRandom =  localStorage.getItem(\"clientRandom\") ;\n\t\tif(!clientRandom || clientRandom == \"no\"){\n\t\t\tclientRandom = getRandomBase58String(16);\t\n\t\t}\t\t\t\t\n\t\tsessionRandom = localStorage.getItem(\"sessionRandom\") || \"no\";   \n\t\t\n\t\tvar host = document.location.host;\n\t\tif(no(host)){host=\"\";}//localhost\n\t\tvar initUrl = \"http\"+s+\"://\"+ host+\"/\"+appName\n\t\t+\"/init2/\"+clientRandom+\"/\"+sessionRandom+\"/?v=0\u0026t=\"+Util.now()+\"\"+getRandomBase58String(16);\n\t\t//\n\t\tp(\"initialize: initUrl=\"+initUrl);\n\t\t//Server.url = \"http\"+s+\"://\"+ host+\"/\"+self.appName+\"/call/\"+clientRandom+\"/\"+sessionRandom+\"/?v=0\u0026t=\"+Util.now()+\"\"+getRandomBase58String(16);\t\t\n\t\t\n\t\tfunction onSuccessInitRequest(resultString){\t\n\t\t\t//a(\"resultString: \"+resultString);\t\n\t\t\tif(resultString == \"error\"){\n\t\t\t\ta(\"Ошибка на сервере. Попробуйте ещё раз позже.\");\t\t\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//p(\"onSuccessInitRequest: resultString=\"+resultString);\n\t\t\tvar result = JSON.parse(resultString);\n\n\t\t\tif(result.NOT_INITIALIZED || result.NO_RATES){\n\t\t\t\tp(\"Приложение инициализируется. Обновите страницу немного погодя.\");\n\t\t\t\talert(\"Приложение инициализируется. Обновите страницу немного погодя.\");\n\t\t\t\treturn;\n\t\t\t}\t\t\t\t\t\t\t\t\t\n\t\t\t//p(\"onSuccessInitRequest: result=\"+str(result));\n\t\t\tsessionRandom = result.sessionRandom;\n\t\t\tlocalStorage.setItem(\"sessionRandom\", sessionRandom);   \n\t\t\tlocalStorage.setItem(\"clientRandom\", clientRandom);   \n\t\t\tServer.url = \"http\"+s+\"://\"+ document.location.host+\"/\"+self.appName+\"/call/\"+clientRandom+\"/\"+sessionRandom+\"/\";\t\t\t\n\t\t\tvar serverTime = pi(result.serverTime);\t\n\t\t\tp(\"initialize: Server.url=\"+Server.url);\n\t\t\tUtil.serverTimeDiff = Util.now() - serverTime;\n\t\t\tp(\"serverTimeDiff=\"+Util.serverTimeDiff);\t\t\t\t\n\t\t\tdigitalRootCategoryId = pi(result.digitalRootCategoryId);\n\t\t\t//p(\"digitalRootCategoryId1=\"+digitalRootCategoryId);\t\t\n\t\t\tif(digitalRootCategoryId == 0){digitalRootCategoryId = -1;}\t\t\t\n\t\t\t//p(\"digitalRootCategoryId2=\"+digitalRootCategoryId);\t\n\t\t\tcallback();// callback function is loadSessionData\t\t\n\t\t}\t\n\t\t\n\t\t//Server.$http.get(initUrl).success(onSuccessInitRequest)\n\t\t//.error(function(error){p(\"in Server.initialize: \"+error);});  \t\n\t\ttry{\n\t\tvar request = getXMLHttpRequest();\t\t\n\t\trequest.open(\"GET\", initUrl, false);\t\t\n\t\t//request.setRequestHeader(\"Accept \", \"application/json;charset=UTF-8\");\t\t\t\t\n\t\trequest.send();\t\t\t\t\n\t\t//alert(\"request.responseText=\"+request.responseText);\t\t\n\t\tonSuccessInitRequest(request.responseText);\n\t\t}catch(ex){p(\"in init: \"+ex);}\n\t\t\n\t};\t\n\t\n\t\n\t\t\n\tfunction getXMLHttpRequest() {\n\t\tif (window.XMLHttpRequest) {\n\t\t\treturn new XMLHttpRequest();\n\t\t} else if (window.ActiveXObject) {\n\t\t\treturn new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}else if(confirm(\"This browser not support AJAX!\\nDownload modern browser?\")){\n\t\t\tdocument.location = \"http://www.mozilla.org/ru/firefox/new/\";\n\t\t}else{\n\t\t\talert(\"Download modern browser for work with this application!\");\n\t\t    throw \"This browser not suport Ajax!\";\n\t\t}\n\t}\t\n\t\n\tfunction isArray(object){try{return  JSON.stringify(object).substring(0,1) == \"[\";}catch(any){return false;}}\n\t\n\tfunction toggleRequestControl(control, disabled){\n\t\tif (control) {\n\t\t\tif (isArray(control)) {\n\t\t\t\tfor (var i = 0; i \u003c control.length; i++) {\n\t\t\t\t\tcontrol[i].disabled = disabled;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcontrol.disabled = disabled;\n\t\t\t}\n\t\t}\t\t\n\t};\n\t\n\n\tServer.callSynch = function(service, method, params) {\t\t\n\t\tvar data = getRequestData(service, method, params);\t\t\n\t\tvar requestText = JSON.stringify(data);\t\t\n\t\tvar request = getXMLHttpRequest();\t\t\n\t\trequest.open(\"POST\", Server.url, false);\t\t\n\t\trequest.send(e(requestText));\t\t\n\t\tvar response = JSON.parse(u(request.responseText));\n\t\tif (response.error) {\n\t\t\tif(result.NOT_INITIALIZED || result.NO_RATES){\n\t\t\t\ta(\"Приложение инициализируется. Обновите страницу немного погодя.\");\n\t\t\t\treturn response.error;\n\t\t\t}else if(response.error.indexOf(\"SESSION_ERROR\") \u003e -1){\n\t\t\t\ta(\"Проблема с соединением. Попробуйте обновить страницу.\");\n\t\t\t\treturn response.error;\n\t\t\t\t//root.logOut();\t\t\n\t\t\t} else{\t\t\t\t\n\t\t\t\tvar error = serverErrors[response.error] || response.error;\n\t\t\t\tif(response.errorParams){\n\t\t\t\t\terror = error.format(response.errorParams);\n\t\t\t\t}\t\t\n\t\t\t\treturn error;\t\t\t\t\n\t\t\t}\t\t\n\t\t} else {\n\t\t\treturn response.result;\t\t\t\t\n\t\t}\n\t};\n\t\n\tfunction getRequestData(service, method, params){\n\t\tif(!params){params = [];}\n\t\tif(!isArray(params)){params = [params];}\t\t\n\t\tvar data = {\n\t\t\tservice : service,\n\t\t\tmethod : method,\n\t\t\tparams : params,\n\t\t\trandom: getRandomBase58String(8)\n\t\t};\n\t\treturn data;\n\t}\n\t\n\tServer.call = function(service, method, params, successCallback, errorCallback, control) {\n\t\tif(!Server.url){return;}\n\t\ttry{\n\t\tvar data = getRequestData(service, method, params);\t\t\t\t\n\t\ttoggleRequestControl(control, true);\t\n\t\tvar request = getXMLHttpRequest();\n\t\trequest.onreadystatechange = function() {\t\t\t\n\t\t\t//log(\"request.status=\"+request.status+\", request.readyState=\"+request.readyState);\n\t\t\tif ((request.readyState == 4 \u0026\u0026 request.status != 200)) {\n\t\t\t\tif(errorCallback){\n\t\t\t\t\terrorCallback(\"connection error!\");\n\t\t\t\t}else{\n\t\t\t\t\ta(\"connection error!\");\n\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\ttoggleRequestControl(control, false);\n\t\t\t\treturn;\n\t\t\t}\t\n\t\t\tif (!(request.readyState == 4 \u0026\u0026 request.status == 200)) {return;}\t\n\t\t\t\n\t\t\t    toggleRequestControl(control, false);\n\t\t\t//log(\"responseText=\"+request.responseText);\n\t\t\t//try {\n\t\t\t\tvar response = JSON.parse(u(request.responseText));\n\t\t\t\t\n\t\t\t\t//p(\"response=\"+str(response));\n\t\t\t\t\n\t\t\t\tif(response.NOT_INITIALIZED || response.NO_RATES){\n\t\t\t\t\ta(\"Приложение инициализируется. Обновите страницу немного погодя.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (response.error) {\n\t\t\t\t\tif(response.error == \"NOT_INITIALIZED\" || response.error == \"NO_RATES\"){\n\t\t\t\t\t\t//alert(\"before call2\");\n\t\t\t\t\t\t//document.location = appWaitRatesUrl;\n\t\t\t\t\t\ta(\"Приложение инициализируется. Обновите страницу немного погодя.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}if(response.error.indexOf(\"SESSION_ERROR\") \u003e -1){\n\t\t\t\t\t\ta(\"Проблема с соединением. Попробуйте обновить страницу.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t//root.logOut();\t\t\n\t\t\t\t\t} else if(response.error.indexOf(\"User not in role USER\") \u003e -1){\t\n\t\t\t\t\t\tif(!root.user){\n\t\t\t\t\t\t\ta(\"Залогиньтесь или обновите страницу!\");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ta(\"Сервер был перезагружен, обновите страницу!\");\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t}else{\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tvar error = serverErrors[response.error] || response.error;\n\t\t\t\t\t\tif(response.errorParams){\n\t\t\t\t\t\t\terror = error.format(response.errorParams);\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t\tif(errorCallback){\n\t\t\t\t\t\t\terrorCallback(error);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ta(error);\n\t\t\t\t\t\t}\t\t\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t//processError(response.error, errorCallback);\n\t\t\t\t} else {\n\t\t\t\t\tif (successCallback) {\n\t\t\t\t\t\t//try {\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/*var headers = request.getAllResponseHeaders();\n\t\t\t\t\t\t\tp(\"ajax connector: headers=\"+headers);\n\t\t\t\t\t\t\tvar cookies = request.getResponseHeader('Set-Cookie');\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tp(\"ajax connector: cookies=\"+cookies);\n\t\t\t\t\t\t\tvar proxyUrl = request.getResponseHeader('proxyUrl');\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tp(\"ajax connector: proxyUrl=\"+proxyUrl);*/\n\t\t\t\t\t\t\n\t\t\t\t\t\t    //if(no(response.result)){p(\"invalid response: \"+str(response));}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tsuccessCallback(response.result);\n\t\t\t\t\t\t//} catch (ex) {\n\t\t\t\t\t\t//\terror(\"in ajax successCallback: \" + ex + \", data=\" + str(data));\n\t\t\t\t\t\t//}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t//} catch (conectionError) {\n\t\t\t//\terror(\"in process ajax request: \" + conectionError);\n\t\t\t//}\t\t\n\t\t};\n\t\tvar requestText = JSON.stringify(data);\n\t\t//log(\"requestText=\"+requestText);\n\t\t\n\t\t//p(\"POST: Server.url=\"+Server.url);\n\t\trequest.open(\"POST\", Server.url, true);\n\t\trequest.send(e(requestText));\n\t\t\n\t\t} catch (generalError) {\n\t\t\t\terror(\"in process ajax request: generalError=\" + generalError);\n\t\t\t\tif(errorCallback){\n\t\t\t\t\t\terrorCallback(\"\"+generalError);\n\t\t\t\t}\n\t\t}\t\n\t\t\n\t};\n\t\n\t\n})();\n\n\nfunction error(s){if(window.console){console.error(s);}};\nfunction log(s){if(window.console){console.log(s);}};\nfunction now(){return new Date().getTime();};\n//\n\nvar ratesPanel = null;\n\nfunction ratesController($scope){\n\t//p(\"start ratesController\");\n\tvar self = $scope;\n\tratesPanel = self;\t\n\tself.update = function(variable, value){root.update(ratesPanel, variable, value);};\t\t\n\tself.rates = [];\n\tself.currencies = [];\n\n\t\n\tself.updateRates = function(rates){\n\t\tvar array = [];\n\t\tself.currencies = [];\n\t\tfor(var k in rates){\n\t\t\t\tarray.push({currency: k, rate: rates[k]});\t\t\n\t\t\t\tarray[k] = rates[k];\n\t\t\t\tself.currencies.push(k);\n\t\t}\n\t\tself.rates = array;\t\t\n\t\troot.currencies = self.currencies.sort();\n\t\troot.rates = self.rates;\t\t\n\t};\t\t\n\t\n\tself.getAmountInCurrency = function(amount, currency, inCurrency){\n\t\tif(currency == inCurrency){return amount;}\n\t\tvar currencyRate = self.rates[currency];// 4 00\n\t\tvar inCurrencyRate = self.rates[inCurrency]; //160 00\n\t\treturn amount*(inCurrencyRate/currencyRate);\t\t\n\t};\n\t\n}\n\n\n//\n//\n\n\n\nvar penpalPanel = {};\n\nfunction penpalController($scope, $sce) {\t\n\tvar self = $scope;\t \t\t\n\tmerge(penpalPanel, self);\n\t\n\t\n    self.update = function(){try{self.$digest();}catch(ignored){}};\n    self.lastMessageId = 0;    \n    self.newNick = \"\";    \n    self.messages = [];    \n    self.selectedNick = \"\";    \n    self.contacts = [];    \n    self.currentContact = null;\n    self.pages = [];\n    self.currentPage = 0;        \n    self.keyPairPassword = \"\";\n    self.keyPair = {};\n    self.keyState = 'no';   \n    self.keyPairPasswordFile = \"x-.txt\";\n    self.keyLength = 2048;\n\tself.passwordLength = 22;\n\tself.passwordSaved = false;\t\t\n\tself.cryptMessage = false;\t\n\tself.u =  Util.u;\t\n\t\n\tself.showUnreadOnly = false;\t\n\t\t\t\n\t\n\tself.pageForward = function(){\t\t\n\t  if(self.currentPage \u003c pi(self.pages[self.pages.length-1])){self.currentPage++;}\n\t};\n\t\n\tself.pageBack = function(){\n\t  if(self.currentPage \u003e 1){self.currentPage--;}\n\t};\t\t\n\t\n\tself.$watch(\"currentPage\", function(){\n\t\tp(\"self.currentPage=\"+self.currentPage);\t\t\n\t\t\n\t});  \n\t\n\tself.isContactVisible = function(contact){\n\t\tif(self.showUnreadOnly === true){\n\t\t\treturn contact.unread \u003e 0;\n\t\t}\n\t\treturn true;\n\t};       \n\t\n\tself.openContactShop = function(){\n\t\tif(!self.currentContact){a(\"Выберите контакт!\"); return;}\n\t\tcataloguePanel.showShop(self.currentContact.nick);\t\t\n\t};\t\n\t\n\tself.testWorker = function(command){\n\t\t getCryptingPerformer().perform(\"test\", {aga: 12}, function(result){\n\t\t\t if(result){a(str(result));}else{a(\"no result\");}\n\t\t });\t \n\t};\t\n\t\n\tself.generateKeyPair = function(command){\n\t\t\t\t\n         self.keyState = 'keyPairGeneration'; \n         self.generatePasswordKeyPair(self.keyLength, self.keyPairPassword, function(keyPair){\t     \t \n        \t//p(\"generated keyPair: \"+str(keyPair));     \n        \tself.keyPair = keyPair;\n        \tself.keyState = 'keyPairSending';     \n        \tself.update();\n\t\t\tServer.call(\"keyService\", \"saveNewKeyPair\", [ keyPair.publicKey, keyPair.encryptedPrivateKey],\n\t\t\t\tfunction() {\t\n\t\t\t\t  self.decryptKeyPair(keyPair.encryptedPrivateKey, self.keyPairPassword, command);\n\t\t\t\t}, function (error){a(error);}, command);\t\t\t\t\t\n\t\t\t}, command\n\t\t);\t\t\t\n    };\t\n    \n    self.decryptKeyPair = function(encryptedPrivateKey, keyPairPassword, command){\n    \t//p(\"decryptKeyPair: encryptedPrivateKey=\"+encryptedPrivateKey+\", keyPairPassword=\"+keyPairPassword+\", command=\"+command);\n   \t    self.keyState = 'keyPairDecrypting';     \t\n   \t    self.update();\n   \t    cryptingPerformer.perform(\"decryptPrivateKey\",\n\t\t  {encryptedPrivateKey: encryptedPrivateKey, password: keyPairPassword},\n\t\tfunction(decryptedPrivateKey){\n\t\t\t self.privateKey = decryptedPrivateKey;\n\t\t\t self.keyState = 'keyPairDecrypted';\n\t\t\t self.checkMessagesAfterPrivateKeyDecrypted();\n\t\t\t self.update();\n\t\t\t //sessionStorage.setItem(\"keyPairPassword\", keyPairPassword);\n\t\t}, function(error){a(error);}, command);\t\t\n    };    \n    \n    self.decryptKeyPairFromInterface = function(command){\n    \tself.decryptKeyPair(self.keyPair.encryptedPrivateKey, self.keyPairPassword, command);   \t    \n    };        \n    \n\tself.generatePasswordKeyPair = function (keyLength, password, callback) {  \n\t    p(\"generateKeyPair\");    //4096 - 118 sec. 2048 - 6 sec.\n\t    if(password == null ){password = \"\";}\t    \n\t    if(password.length == 0){alert(\"Пожалуйста, укажите пароль !\"); return ;}  \n\t    getCryptingPerformer().perform(\"createKeyBytes\",{keyLength: keyLength, password: password}, callback);\t    \n    };\n    \n\t\n\t/**/\n    \n    \n    self.loadCryptingScripts = function(command){\n           self.keyState = 'cryptingScriptsLoading';  \n           getCryptingPerformer();           \n           self.keyState = 'askPassword';      \n    };    \n    \n  \tself.generateKeyPairPassword = function(command){\n    \tself.keyPairPassword =  getRandomBase58String(self.passwordLength);\t         \t\n    };  \n        \n    self.removeKeyPair = function(command){\n    \tif(!confirm(\"После удаления ключевой пары,\\n\" +\n    \t\t\t\"всё зашифрованные сообщения станут недоступны!\\n\\n\" +\n    \t\t\t\"Удалять?\\n\")){return;}\n        Server.call(\"keyService\", \"removeActiveKeyPair\", null, function(emptyKeyPair){\n        \troot.data.user.data.keyPair = emptyKeyPair;\n        \tself.keyPair = root.data.user.data.keyPair;\n        \tself.keyState = 'no';\n        \tself.update();        \t \n        }, null,  command);\n         \n    };    \n    \n    self.user = {};\n    \n    var standardTexts = [\n     \"Пожалуйста, по этому вопросу обращайтесь к владельцу магазина.\\nЭто адрес администрации маркета.\", \n     \"Пожалуйста, по этому вопросу пишите продавцу.\\nЭто адрес администрации маркета.\",       \n     \"Администрация маркета не вмешивается в отношения покупателей\\nи продавцов, и не передаёт просьб \\\"повлиять на продавца\\\".\"];\n    \n    self.setStandardText = function(number){\n    \tself.newMessageText = standardTexts[number];\n    };\n    \n\tperformOnLogin(function(){\n\t\t self.user = root.user;\n\t\t /*try{\t\t\n\t\t\tself.loadStoredMessages();\t\n\t\t }catch(ex){ p(\"penpalPanel: in on login loadStoredMessages: \"+ex); }\t\t */\n\t     try{\t\n\t       self.keyPairPasswordFile = \"x-\"+ root.data.user.nick+\".txt\"; \t    \t \n\t       self.keyPair = root.data.user.data.keyPair;\n\t      //p(\"self.keyPair: \"+str(self.keyPair));\n\t       if(self.keyPair.state == 'no'){/** new not saved KeyPair Entity */\n\t    \t   self.keyState = 'no';\n\t       }else{\t   // state == active, checked on server \t   \n\t    \t   getCryptingPerformer();\n\t    \t   if( self.keyPairPassword.length \u003e 0){\n\t    \t\t   self.keyState = 'keyPairDecrypting';\t    \t\t   \n\t    \t\t   self.decryptKeyPair(self.keyPair.encryptedPrivateKey, self.keyPairPassword);\t    \t\t   \n\t    \t   }else{\n\t    \t\t   self.keyState = 'askPassword';  \t\n\t    \t   }\n\t       }\t   \n\t       \n\t  \t   //var allMessages = root.data.user.data.allMessages;\n\t  \t   //self.initializeMessages(allMessages);    \n\t  \t   \n\t     }catch(ex){ p(\"penpalPanel: in on login initializeNewMessages: \"+ex); }\t \n\t     try{\t\n\t  \t    self.checkServerContacts(root.data.user.data.contacts);\n\t     }catch(ex){ p(\"penpalPanel: in on login checkNewContacts: \"+ex); }     \n\t     self.contacts = Util.sortObjectsArray(self.contacts, \"nick\");\t     \n\t});\t\t\t\n\t\n\t\t\t\t\t\n\t\t\n\tself.removeMessage = function(removedMessage){\n\t\tif(!confirm(\"Delete message ?\")){return;}\t\t\n\t\tServer.call(\"messengerService\", \"tryDeleteMessage\", [removedMessage.id], p);\n\t        \n\t\tself.currentContact.messages = deleteById(self.currentContact.messages, removedMessage);\n\t\tself.currentContact.messagesCount--;\n\t\t\n\t\tself.pages = self.currentContact.getPages();\n\t\t//p(\"on removeMessage: self.pages=\"+self.pages );\n\t\t\n\t\tif(self.currentPage \u003e self.pages[self.pages.length - 1]){\n\t\t\tself.currentPage = self.pages[self.pages.length - 1];\n\t\t}       \n\t\t//p(\"on removeMessage: self.currentPage2=\"+self.currentPage);\n\t\t\n\t\tif(!self.isMyMessage(removedMessage) \u0026\u0026 removedMessage.state != \"read\"){\n\t\t\tself.currentContact.unread--;\t\t\t\n\t\t\troot.unreadMessagesCount--;\n\t\t}\t\t\n\t};\t\n    \n    \n\t\t\n\tself.setShopSellerNick = function(){\n\t    \tself.newNick = shopSellerNick; \n\t    \tself.update();    \n\t};\n    \n\t\n    self.addContact = function(control, sylent){\n    \t//p(\"addContact: newNick=\"+self.newNick);\n    \tfor(var i = 0; i \u003c self.contacts.length; i++){\n    \t\t//p(\"addContact: contacts[\"+i+\"].nick=\"+self.contacts[i].nick);\n    \t\tif(self.contacts[i].nick == self.newNick){    \t\t\t\n    \t\t\tself.selectContact(self.newNick);\t\n\t    \t\tself.update();\n\t    \t\treturn;    \t\t\t\n    \t\t}\n    \t}   \t    \t\n    \tif(!self.newNick){a(\"Ник не выбран!\"); return;} \t\n    \tif(self.newNick == \"admin\"){\n    \t\tif(!confirm(\"Нажмите 'ок', только если хотите добавить в контакт\\nименно администратора маркета, а не продавца.\\n\\nАдминистратор маркета работает только с продавцами,\\nи не в курсе состояний вашего заказа.\\nИ не передаёт никаких просьб продавцам.\")){ return;}\n    \t} \t\n    \t\n    \t\n    \t\n    \tServer.call(\"messengerService\", \"addContact\", [self.newNick],\n\t    \tfunction(publicKey){    \t\t\n    \t\t    var newContact = self.createContact(self.newNick, publicKey, 0, 0);\n    \t\t    self.contacts.push(newContact);    \t\t    \n\t    \t\troot.data.user.data.contacts.push(newContact);\n\t    \t\tself.selectContact(self.newNick);\t\n\t    \t\tself.update();\n\t    \t}, function(error){\n\t    \t\tp(\"addContact: error=\"+error);\n\t    \t\tif(error == \"buyer_to_buyer_not_allowed\"){\n\t    \t\t\terror = \"Вы можете добалять в контакты только владельцев магазинов и администратора!\" ;}\n\t    \t\telse if(error == \"seller_to_foreign_buyer_not_allowed\"){\n\t    \t\t\terror = \"Продавцы могут добавлять в контакты только своих\" +\n\t    \t\t\t\t\t\"\u003cbr/\u003eпокупателей, других продавцов и администратора!\";\n\t    \t\t}\n\t    \t\ta(error);\n\t    \t}, control);  \t    \t\n    \t\n    };\n    \n        \n    self.removeContact = function(command){\n    \tvar contact = self.currentContact;\n    \t//p(\"removeMyContact: \"+contact);\n    \tif(contact.messages \u0026\u0026 contact.messages.length \u003e 0){\n    \t\ta(\"Remove \"+contact.messages.length+\" contact messages before!\");\n    \t\treturn;\n    \t}\n    \tif(!confirm(\"Удалить контакт \\\"\"+contact.nick+\"\\\"?\")){return;}    \t\n    \tServer.call(\"messengerService\", \"tryRemoveContact\", [contact.nick],\n\t    \tfunction(){      \t\t\n    \t\t    //p(\"self.contacts=\"+self.contacts);\n\t\t    \troot.data.user.data.contacts = deleteByField(root.data.user.data.contacts, contact, \"nick\");\t\t\n\t\t    \t//p(\"self.contacts.length1=\"+self.contacts.length);\n\t\t    \tself.contacts = deleteByField(self.contacts, contact, \"nick\");\n\t\t    \t//p(\"self.contacts.length2=\"+self.contacts.length);\t\t    \t\n\t\t    \tself.update();\n\t    \t}, null, command);  \t\n    };    \n        \n    self.findContact = function(nick){\n    \tfor(var i = 0 ; i \u003c self.contacts.length; i++){\n    \t\tif(self.contacts[i].nick == nick){\n    \t\t\treturn self.contacts[i];\n    \t\t}\n    \t}return null;\n    };\n    \n    self.messagesLoading = false; \n   \n    self.loadContactPage = function(pageNum){    \n    \t\n    \t\n    };\n    \n\n    \n    self.selectContact = function(nick){    \t\n    \tif(self.currentContact \u0026\u0026  self.currentContact.nick == nick){\n    \t\treturn;\n    \t}\n    \t//p(\"selectContact: nick=\"+nick);    \t\n    \t//self.currentContact = self.contacts[\"nick_\"+nick];     \t    \t\n    \tself.currentContact = self.findContact (nick);\n    \t//p(\"selectContact: currentContact=\"+self.currentContact);\n    \tif(!self.currentContact){return;}    \t    \n    \t\n    \t\n    \tself.cryptMessage = (self.currentContact.publicKey.length \u003e 0) \u0026\u0026 (self.keyState == 'keyPairDecrypted');\t\n    \t\n    \tif(!self.currentContact.messagesLoaded){\n    \t\t self.messagesLoading = true; \t\n  \n    \t\t \n    \t\tServer.call(\"messengerService\", \"getContactData\", [nick], function(result){\n    \t\t\t       \n    \t\t if(self.loadCount == \"last100\"){\n    \t\t\t  var messages = result.messages;\n    \t\t\t  self.currentContact.publicKey = result.publicKey;    \t   \t\t\t        \n    \t          self.currentContact.messagesLoaded = true;    \t                \n    \t          self.initializeContactMessages(messages, self.currentContact);     \n    \t\t }else{\n    \t\t\t Server.call(\"messengerService\", \"getContactMessagesPage\", [nick, 1, self.currentContact.messagesCount], \n    \t\t\t\t    function(messages){    \t\t\t    \n    \t\t\t        self.currentContact.publicKey = result.publicKey;    \t   \t\t\t        \n    \t                self.currentContact.messagesLoaded = true;    \t                \n    \t                self.initializeContactMessages(messages, self.currentContact);     \n    \t               }, function(error){self.messageLoading = false;  a(error);}); \n    \t\t\t \n    \t\t }\t   \t\t\t\n    \t\t\t//getContactMessagesPage(String contactNick, Integer pageNumber, Integer onPageCount)\n    \t                \n            }, function(error){self.messageLoading = false;  a(error);});\n    \t}else{\n\t\t    self.pages = self.currentContact.getPages();   \t \n\t        self.currentPage = self.pages[self.pages.length - 1];\t    \t\n\t\t    self.update();\n\t\t    root.refresh();\n    \t}\n    };    \n    \n    self.isMyMessage = function(message){\n    \treturn message.senderNick == root.user.nick;\n    };    \n    \n    var askInterval = 500;\n    var lastAsk = 0;\n    \n    self.checkForMessageIsRead = function(message){\n    \tif(message.state=='read'){return;}    \n    \tif(!self.isMyMessage(message)){return;}   \n    \t\n\t\tif(Util.now() - lastAsk \u003c askInterval){ return;}\n\t\tlastAsk = Util.now();\n\t\tServer.call(\"messengerService\", \"askMessageIsRead\", [message.id], function(read){\n\t\t\t//p(\"on askMessageIsRead: read=\"+read);\n\t\t\tif(read){      \t\n\t\t\t\tmessage.state='read';  \n\t\t\t\tself.update();\n\t\t\t}\n\t\t});      \t\t    \t\t\t\t\n    };    \n    \n    \n    \n   \n    self.memorizeMessage = function(message, memorize){\n    \tmessage.memorized = memorize;\n    \tServer.call(\"messengerService\", \"memorizeMessage\", [message.id, memorize]);  \n    };\n    \n    self.markMessageAsRead = function(message){\n    \tif(!self.currentContact){return;}\n    \tif(self.isMyMessage(message)){return;}\n    \tif(message.state=='read'){return;}       \n    \tif(!message.isDecrypted){return;}  \n    \tmessage.state='read';    \t \n\t\tif(self.currentContact.unread \u003e 0){self.currentContact.unread--; }\n\t\tif(root.unreadMessagesCount \u003e 0){root.unreadMessagesCount--;};\t\t\n\t \tif(root.unreadMessagesCount \u003c= 0){\n    \t\tself.showUnreadOnly = false;\t\n    \t}\t\t\n\t\tself.updateMessage(message);\n\t\tServer.call(\"messengerService\", \"markMessageAsRead\", [message.id]);  \n   };        \n         \n    \n   self.messageContainsInContactMessages  = function(message, messages){\t   \t   \n\t   for(var i = 0; i \u003c messages.length; i++){\t\n\t\t   if(messages[i].id == message.id){return true;}\n\t   }\n\t   return false;\n   };\n   \n   self.initializeNewMessages = function(messages){      \n\t    messages =  messages.reverse();  \n\t    var contact_unread = {};\n\t    p(\"initializeNewMessages: \"+messages.length);\n  \t    for(var i = 0; i \u003c messages.length; i++){\t\t\n  \t    \t\n\t\t\tvar message = messages[i];\n\t\t\tif(message.encryptedText.length \u003e 0){    \t\t\t\t\t\n\t\t\t\tmessage.isEncrypted = true;\t\t\t\t \n\t\t\t}  \n\t\t\tvar nick = self.isMyMessage(message) ? message.recipientNick: message.senderNick;\n\t\t\tvar contact = self.findContact(nick);\t\n\t\t\t\n\t\t\tp(\"initializeNewMessages: contact=\"+str(contact));\n\t\t\t\n\t\t\tif(!contact){//new or deleted contact\n\t\t\t\tp(\"initializeNewMessages: !contact \"+nick);\n\t\t\t\tcontact = self.createContact(nick, \"\"+message.publicKey, 0, 0);\t\t\t\t\n\t\t\t\tdelete message.publicKey;\n\t\t\t\tself.contacts.push(contact);\n\t\t\t}\t\t\t\t\t\t\n\t\t\tif(!self.messageContainsInContactMessages(message, contact.messages)){\t\t\t\t\t\t\n\t\t\t\tif(message.encryptedText.length \u003e 0){\n\t\t\t\t\tif(self.keyState == 'keyPairDecrypted'){\n\t\t\t\t\t\tself.decryptMessage(message);\n\t\t\t\t\t}\t\t\t\t\t \n\t\t\t\t}else{\n\t\t\t\t\tmessage.isDecrypted = true;  \n\t\t\t\t}\t\t\t\n\t\t\t\tcontact.messages = [message].concat(contact.messages);\t\t\t\t\t\n\t\t\t\tif(message.state != \"read\" \u0026\u0026 !self.isMyMessage(message)){ \t\t\t\t\t\n\t\t\t\t\tif(!contact_unread[contact.nick]){contact_unread[contact.nick] = 0;}\n\t\t\t\t\tcontact_unread[contact.nick]++; \t\t\t\t\t\t\t\t\n\t\t\t    };\t \t\t\t    \n\t\t\t}\t\t\t\n\t\t}\t  \t\n  \t    \n  \t    for(var i = 0; i \u003c self.contacts.length; i++){\n  \t    \tvar newUnread = contact_unread[self.contacts[i].nick] || 0;\n  \t    \tvar delta = newUnread - self.contacts[i].unread;\n  \t    \tif(delta \u003e 0){\n  \t    \t\tself.contacts[i].unread = newUnread;  \t    \t\t\n  \t    \t\troot.unreadMessagesCount += delta;\n  \t    \t}  \t \n  \t    \tvar messagesCount = self.contacts[i].messagesCount;\n  \t    \tvar messagesLength = self.contacts[i].messages.length;\n  \t    \t\n  \t    \t//p(\"initializeNewMessages:1 self.contacts[\"+i+\"].messagesCount=\"+messagesCount);\n  \t    \t//p(\"initializeNewMessages:2 self.contacts[\"+i+\"].messagesLength=\"+messagesLength);\n  \t    \tif(messagesLength \u003e messagesCount){\n  \t    \t\tp(\"initializeNewMessages:3 self.contacts[\"+i+\"].messagesLength=\"+messagesLength);\n  \t    \t\tself.contacts[i].messagesCount = messagesLength;  \t \n  \t    \t}  \t    \t\n  \t    \tself.contacts[i].messages = sortObjectsArray(self.contacts[i].messages, \"id\", true);\n  \t    \t\n  \t    \t//self.contacts[i].messagesCount = self.contacts[i].messages.length;  \t    \t\n  \t    }\n  \t    self.update();\n  \t    //root.unreadMessagesCount++;\t\t\n  \t    \n  \t    //for(var u in contact_unread){\n  \t    //\tp(u+\": \"+contact_unread[u]);\n  \t    //}\n  \t  \n  \t    self.refreshPages();\n   };\n   \n    \n   self.initializeContactMessages = function(messages, contact){        \t\n\t   var unread = 0;\n\t  // var messagesCount = 0;\t   \n\t   \n\t  // p(\"initializeContactMessages: \"+messages.length);\n\t   \n\t   for(var i = 0; i \u003c messages.length; i++){\t\t   \n\t\t    var message = messages[i];\t\t\t\t\n\t\t    if(message.encryptedText.length \u003e 0){message.isEncrypted = true;}  \n\t\t    //p(\"initializeContactMessages:  message=\"+str(message));\n\t\t    \n\t\t    if(!self.messageContainsInContactMessages(message, contact.messages)){\t\n\t\t    \t//p(\"initializeContactMessages: not contains\");\n\t\t    \t\n\t\t\t\tif(message.encryptedText.length \u003e 0){\n\t\t\t\t\tmessage.isEncrypted = true;\t\t\n\t\t\t\t\t// self.decryptMessage(message);\n\t\t\t\t}else{\n\t\t\t\t\tmessage.isDecrypted = true;  \n\t\t\t\t}\n\t\t\t\tcontact.messages.push(message);\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tif(message.state != \"read\" \u0026\u0026 !self.isMyMessage(message)){ \t\t\t\t\t\n\t\t\t\t\tunread++;\t\n\t\t\t    }\t \t\t\t\t\t\t     \n\t\t    }else{\t\t    \t\n\t\t    \t//p(\"initializeContactMessages: contains\");\n\t\t    }\n\t\t}\t\t \n        contact.messages = sortObjectsArray(contact.messages, \"id\", true);\n\t   \n    \tvar unreadDelta = unread - contact.unread;\n    \tif(unreadDelta \u003e 0){\n    \t\troot.unreadMessagesCount += unreadDelta;\n    \t\tcontact.unread += unreadDelta;     \t\n    \t}\t    \t    \n    \t//contact.messagesCount = contact.messages.length;  \t\n    \tself.messagesLoading = false; \n        self.refreshPages();\n    };\n    \n    \n    self.refreshPages = function(){\n    \tself.pages = self.currentContact ?  self.currentContact.getPages():[];   \t \n        self.currentPage = self.pages[self.pages.length - 1];\t    \t\t\t\n        self.update();\n\t\troot.refresh();\t\t\n    };   \n\n \n    \n    self.refreshMessages = function(control){    \t\n    \tServer.call(\"messengerService\", \"getNewMessages\", null, \n    \t\tfunction(result){\n    \t\tself.initializeNewMessages(result);\n    \t\tsuspendEnable(control);\n    \t    }, null, control);  \t    \t\n    };  \n    \n\tself.checkMessagesAfterPrivateKeyDecrypted = function(){\n\t\t// p(\"checkMessagesAfterPrivateKeyDecrypted self.contacts.length=\"+self.contacts.length);\n\t\tfor(var i = 0; i \u003c self.contacts.length; i++){    \t\t\n    \t\tvar messages = self.contacts[i].messages;\n     \t\tif(messages \u0026\u0026 messages.length \u003e 0){\n    \t\t\tfor(var m = 0; m \u003c messages.length; m++){    \t\t\n     \t\t\t\tif(messages[m].encryptedText.length \u003e 0){    \t\t\t\t\t\n   \t\t\t\t\t  messages[m].isEncrypted = true;\t//self.decryptMessage(messages[m]);   \t\t\t\t\t \n   \t\t\t\t    }    \t\t\t\t\n    \t\t\t}   \t\t\t\n    \t\t}\n    \t}   \t\n\t};\t\n    \n    \n    self.decryptMessage = function(message){    \n    \tif(self.keyState != 'keyPairDecrypted'){\n    \t\ta(\"Сначала расшифруйте приватный ключ!\");\n    \t\treturn;\n    \t}\n\t\t//p(\"self.decryptMessage: senderPassword=\"+senderPassword);\t\t\n\t\tcryptingPerformer.perform(\"decryptPrivateMessage\", \n           {encryptedPrivateKey : self.keyPair.encryptedPrivateKey, \t\t\t\t\n\t\t\tencryptedMessagePassword: self.isMyMessage(message) ? \n\t\t\t\t\tmessage.encryptedSenderPassword : message.encryptedRecipientPassword, \t\t\t\t\t\t\n\t                 password: self.keyPairPassword, \n\t                 encryptedText: message.encryptedText}, \t                 \n\t\t\t\t\t  function(result){\t\n\t                \t//p(\"self.decryptMessage result=\"+stringify(result));\n\t                \t message.text = result.text;     \n\t                \t message.encryptedText  = \"decrypted\";\n\t                 \t message.isDecrypted = true;\n\t                 \t message.isEncrypted = false;\n\t                \t self.update();\n\t\t\t\t\t  },  \n\t\t\t\t\t  function(error){\t\n\t\t\t\t\t\t  a(\"in decryptMessage: \"+error);\n\t\t\t\t\t  }\n\t   );\n\t};\t\n    \n    \n    \n    self.updateMessage = function(message){    \t   \t\n\t    \tif(!self.currentContact){return;}\n\t\t\tfor(var i = 0; i \u003c self.currentContact.messages.length; i++){\t\n\t\t\t\tif(self.currentContact.messages[i].id == message.id){\n\t\t\t\t\tself.currentContact.messages[i] = message;\t\n\t\t\t\t}\t\t\t\n\t\t\t}\t \t\t\t        \t\n    };\n    \n    self.loadCount = \"last100\";\n     \n    //self.pageSizes = [\"100\", \"ALL\"];\n    self.pageSize = 100;\n  //  self.$watch(\"pageSize\", function(){\n  //  \tif(!self.currentContact){return;}\n  //  \tself.pages = self.currentContact.getPages();    \t\n  //  \tself.currentPage = self.pages[self.pages.length - 1];\n    //\t//self.update();\n   // });\n    \n    self.isMessageOnCurrentPage = function(message, i){    \t\n    \treturn true;\n    /**\tvar page = Math.floor(i/Util.pi(self.pageSize));\n    \t//p(\"i=\"+i+\", page=\"+page+\", currentPage=\"+self.currentPage+\", self.pages=\"+self.pages +\", message.id=\"+message.id);\n    \tpage = (self.pages.length - page) ;\n    \t//\n    \tvar visbble = (page == self.currentPage);\n    \t//p(\"page=\"+page +\", visible=\"+visbble);\n    \treturn visbble;*/\n    };\n        \n    \n    self.createContact = function(nick, publicKey, messagesCount, unread){ \t\n    \t//p(\"initializeContact: \"+contact.nick);\t\t\n    //\tp(\"penpalPanel: createContact: nick=\"+nick+\", publicKey=\"+publicKey\n    \t//\t\t+\", messagesCount=\"+messagesCount+\", unread=\"+unread);\n    \t    var contact = {messagesCount:messagesCount, unread: unread, \n    \t    \t\tnick: nick, publicKey: (publicKey ? publicKey : \"\")};\n     \t\tcontact.messages = [];\t\t\n    \t\tcontact.getPages =\tfunction(){\n\t\t\t\tvar count = this.messages ? Math.ceil(this.messagesCount/self.pageSize) : 0;\n\t\t\t\tvar pages = [];\n\t\t\t\tfor(var i = 0; i \u003c count; i++){pages.push((i+1));}\t\t\t\t\t\t\t\n\t\t\t\treturn pages;\n\t\t    };\t\t\t  \n\t\t   // p(\"penpalPanel: createContact: contact=\"+str(contact));\n\t\t    return contact;    \t\t\n    };    \n        \n    self.checkServerContacts = function(contacts){     \n    \t//p(\"penpalPanel: serverContacts: contacts=\"+str(contacts));    \t\n    \tfor(var i = 0; i \u003c contacts.length; i++){\t\t    \t\n    \t\t\tcontact = self.createContact(contacts[i].nick, contacts[i].publicKey, \n    \t\t\t\t\tcontacts[i].messagesCount, contacts[i].unread);\n\t\t\t\tself.contacts.push(contact);\n\t\t\t\troot.unreadMessagesCount += contacts[i].unread;\n    \t}\t\n    \tif(root.unreadMessagesCount \u003e 0){\n    \t\tself.showUnreadOnly = true;\t\n    \t}\n    \tsetTimeout(function(){root.refresh();\t}, 200);\n        \n    \t//p(\"penpalPanel: selfContacts: contacts=\"+str(self.contacts));\t\n    };      \n    \n\t\n\tself.newMessageText = \"\";\t\n\t\t\n\tself.sendEncryptedMessage = function(command){\t\t\n\t\tif(!self.currentContact){a(\"Выберите контакт!\"); return;}\t\t\t\t\n\t\t//p(\"self.newMessageText=\"+self.newMessageText);\n\t\t//p(\"self.currentContact.nick=\"+self.currentContact.nick);\t\t\t\t\t\n\t\tif(self.keyState != 'keyPairDecrypted'){\n\t\t\tif(self.keyPair.state == 'no'){\n\t\t\t  a(\"\u003cnobr\u003eЧтобы отправлять зашифрованные сообщения,\u003cbr/\u003e вам нужно включить шифрование RSA!\u003c/nobr\u003e\");\n\t\t\t}else{\n\t\t\t  a(\"\u003cnobr\u003eЧтобы отправлять зашифрованные сообщения - нужно расшифровать приватный ключ!\u003c/nobr\u003e\");\n\n\t\t\t}\n\t\t\treturn;\n\t\t};\t\n\t\tif(self.currentContact.publicKey.length == 0){\n\t\t\ta(\"\u003cnobr\u003eЭтому пользователью нельзя отправить зашифрованное сообщение,\u003cbr/\u003eпоскольку он не включил шифрование!\u003c/nobr\u003e\");\n\t\t\treturn;\n\t\t};\t\t\n\n\t\tvar senderPublicKey = self.keyPair.publicKey;\t\n\t\tvar recipientPublicKey = self.currentContact.publicKey;\t\t\n\t\tvar params =  { \n\t\t\t\t             senderPublicKey : senderPublicKey, \t\t\t\t\n\t\t\t               recipientPublicKey: recipientPublicKey, \t\t    \t\t  \n\t    \t\t\t                     text: self.newMessageText\n\t    \t\t  };\n\t\t//\tp(\"sendMessage: params=\"+stringify(params));\n\t\tcryptingPerformer.perform(\"encryptPrivateMessage\", params, \t\t    \t\t  \n\t    \t\t  function(result){\t\t\t    \t\t\t  \n\t    \t\t\t\tvar encryptedSenderPassword = result.encryptedSenderPassword;\n\t\t\t\t\t\tvar encryptedRecipientPassword = result.encryptedRecipientPassword;\t\t\t\t\t\t\t\n\t\t\t\t\t\tvar encryptedText = result.encryptedText;\t\t\t\t\n\t\t\t\t\t\t//var senderSignature = result.messageSignature;        \n\t\t\t\t\t\t//var senderKeyPairId = loginPanel.keyPairId;\n\t\t\t\t\t\tServer.call(\"messengerService\", \"sendEncryptedMessage\", \n\t\t\t\t\t\t[self.currentContact.nick, encryptedText, encryptedSenderPassword, encryptedRecipientPassword],\n\t\t\t\t\t\t    \tfunction(id){\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t        var newMessage = {id: id};\n\t\t\t\t\t\t\t        newMessage.senderId = root.user.id;\t\t\n\t\t\t\t\t\t\t        newMessage.encryptedText = \"no\";\n\t\t\t\t\t\t            newMessage.senderNick = root.user.nick;\n\t\t\t\t\t\t\t        newMessage.recipientNick = self.currentContact.nick;\n\t\t\t\t\t\t\t        newMessage.text = self.newMessageText;\n\t\t\t\t\t\t\t        newMessage.created = Util.now();\n\t\t\t\t\t\t\t        newMessage.state = \"created\";\t     \n\t\t\t\t\t\t\t       \n\t\t\t\t\t\t\t       // \n\t\t\t\t\t\t\t        self.currentContact.messages = [newMessage].concat(self.currentContact.messages);\n\t\t\t\t\t\t\t        //self.currentContact.messages.push(newMessage);\n\t\t\t\t\t\t\t        self.currentContact.messagesCount++;\n\t\t\t\t\t\t\t      //self.currentContact.messages = [newMessage].concat(self.currentContact.messages);\n\t\t\t\t\t\t\t        //self.addNewMessagesToStogage([newMessage]);\n\t\t\t\t\t\t\t        self.pages = self.currentContact.getPages();   \t \n\t\t\t\t\t\t\t        self.currentPage = self.pages[self.pages.length - 1];\t        \n\t\t\t\t\t\t\t        //p(\"on sendMessage: self.currentPage=\"+self.currentPage);\t\t\t\t\t\t\t        \n\t\t\t\t\t\t\t        self.newMessageText = \"\";\n\t\t\t\t\t\t    \t\tself.update();\t\t\t\t\t\t    \t\t\n\t\t\t\t\t\t    \t\tp(\"new message sent ok\");\n\t\t\t\t\t\t    \t}, null, command);  \t\t\t\t\t\t\t   \t    \t\t\t\t  \n\t    \t\t  }, \t\t    \t\t  \n\t    \t\t  function(error){\n\t    \t\t\t  a(\"in encryptPrivateMessage: \"+error);\n\t    \t\t  }\n\t    );\t  \t    \t\n\t};\n\t\n\n\t\n\tself.sendMessage = function(command){\t\t\t\t\n\t\tif(!self.currentContact){a(\"select contact!\"); return;}\t\t\n\t\tif(self.cryptMessage){self.sendEncryptedMessage(command); return;}\t\t\n\t\t//p(\"self.newMessageText=\"+self.newMessageText);\n\t\t//p(\"self.currentContact.nick=\"+self.currentContact.nick);\t\t\t\n\t\t//isOnionUrl ?  self.newMessageText :\n\t\tServer.call(\"messengerService\", \"sendMessage\",  [self.currentContact.nick, e(e(self.newMessageText))],\t\t\t\t\n\t\tfunction(id){\t\t\t\t\t\t\t\t\t\n\t        var newMessage = {id: id};\n\t        newMessage.senderNick = root.user.nick;\n\t        newMessage.recipientNick = self.currentContact.nick;\n\t        newMessage.text = self.newMessageText;\n\t        newMessage.created = Util.now();\n\t        newMessage.state = \"created\";\t     \n\t       // self.currentContact.messages.push(newMessage);\n\t        self.currentContact.messagesCount++;\n\t      //\n\t        self.currentContact.messages = [newMessage].concat(self.currentContact.messages);\n\t        //self.addNewMessagesToStogage([newMessage]);\n\t        self.pages = self.currentContact.getPages();   \t \n\t        self.currentPage = self.pages[self.pages.length - 1];\t        \n\t        p(\"on sendMessage: self.currentPage=\"+self.currentPage);\n\t        \n\t        self.newMessageText = \"\";\n    \t\tself.update();\n    \t\t\n    \t\tself.refreshMessages(ge(\"refreshMessagesButton\")); \n    \t\t//p(\"new message sent ok\");\t\t\t\t\t\t\t    \t\t\t\t\t\t\t   \t    \t\t\t\t  \n\t  }, \t\t    \t\t  \n\t  function(error){\n\t\t a(\"error in sendMessage: \"+error);\n\t  }, command);\t \t\n\t};\n\t\n    self.checkSend = function(event){\n    \t/*var code = event.keyCode || event.which;\n        if ((code === 13) \u0026\u0026 (event.shiftKey)) {\n        \t event.preventDefault();\n        \t self.sendMessage(ge(\"sendCommand\"));\n        }         */\n    };\n\t\n\tself.onReadPasswordFromFile = function(password){\n\t\tself.keyPairPassword = password;\n\t\tself.update();\t\t\n\t};\n\t\n\tpenpalPanel = self;\t\n\t\n\tdocument.getElementById('keyPairPasswordFileInput').addEventListener('change', readKeyPairPasswordFile, false);\t  \n}\n\n\nfunction readKeyPairPasswordFile(evt, callback) {\n    var f = evt.target.files[0]; \n    if (f) {\n      var r = new FileReader();\n      r.onload = function(e) {     \t  \n    \t  penpalPanel.onReadPasswordFromFile(e.target.result);\n      };\n      r.readAsText(f);\n    } else { \n      alert(\"Failed to load file\");\n    }\n  }\n    \n//\n\n\n\n\nfunction repeatEverySecond(){\t\t\n\tsetTimeout(function(){repeatEverySecond();}, 1000);\n\ttry{ordersPanel.displayOrderTimeline();}catch(ignored){}\n}\n\nvar waitForBuyerAskInvoiceTimeout = pi(\"300000\");// Util.one_minute*5;\nvar waitForBuyerConfirmPaymentTimeout = pi(\"3600000\");//Util.one_hour;\nvar waitForSellerConfirmPaymentTimeout = pi(\"259200000\");//Util.one_hour*12;\nvar waitForInternationalBuyerConfirmReceiveTimeout = pi(\"2592000000\");//Util.one_month;\nvar waitForLocalBuyerConfirmReceiveTimeout = pi(\"1814400000\");//Util.one_week*3;\nvar waitForPackBuyerConfirmReceiveTimeout = pi(\"21600000\");//Util.one_day;\nvar waitForSellerGiveAnotherPackTimeout = pi(\"172800000\");//Util.one_hour*48;\n\n\nvar states = {\n\t\t\"closed\":\"Закрыт\",\t\t\n\t\t\"cancelled_by_seller\":\"Отменён продавцом\",\n\t\t\"cancelled_by_seller_at_seller_confirm_payment\":\"Отменён продавцом при ожидании оплаты\",\t\t\n\t\t\n\t\t\"disput\":\"Идёт диспут\",\t\n\t\t\"cancelled_by_seller_at_disput\":\"Отменён продавцом при диспуте\",\t\t\n\t\t\"cancelled_by_buyer\":\"Отменён покупателем\",\n\t\t\"cancelled_by_timeout\":\"Отменён по таймауту\",\n\t\t\"cancelled_by_timeout_at_buyer_confirm_payment\":\"Отменён по таймауту при ожидании оплаты\",\t\t\n\t\t\"closed_by_timeout_at_buyer_confirm_receive\":\"Закрыт по таймауту\",\t\t\n\t\t\"wait_for_buyer_ask_invoice\":\"Ожидание запроса счёта на оплату покупателем\",\t\n\t\t\"wait_for_seller_give_invoice\":\"Ожидание выдачи счёта продавцом\",\t\t\t\t\n\t\t\"wait_for_buyer_confirm_payment\":\"Ожидание оплаты счёта покупателем\",\t\t\t\t\n\t\t\"wait_for_seller_confirm_payment\":\"Ожидание подтверждения оплаты продавцом\",\t\t\n\t\t\"wait_for_seller_give_another_pack\":\"Ожидание выдачи следующей закладки продавцом\",\n\t\t\"wait_for_seller_send_order\":\"Ожидание отправки заказа продавцом\",\t\t\n\t\t\"wait_for_buyer_confirm_receive\":\"Ожидание подтверждения получения покупателем\",\n\t\t\"closed_by_buyer\":\"Закрыт покупателем\",\t\n\t\t\"DELETED\":\"Удалён\",\t\t\n\t\t};\t\n\n\nvar ordersPanel = {};\n\n\nfunction ordersPanelController ($scope){\t\t\t\n\tvar self = $scope;\n\tself.update = function(){try{self.$digest();}catch(ignored){;};};\t\t\n\tself.ordersPanelTest = \"ordersPanelTest ok\";\n\tself.currentOrder = {};\n\tself.ordersList = [];\n\t\n\tself.ordersOwnerFilter = \"buyer\";// \"seller\"\n\t\n\tself.ordersFilter = \"active\";//\"archived\"\n\tself.archivedOrdersLoaded = false;\n\t\n\tself.timeLine = \"\";\n\tself.currentLeft = \"\";\n\t\n\tself.u = u;\n\tself.u2 = u2;\n\t\n\tself.understandCommentWarning=\"no\";\n\tself.confirmUnderstandCommentWarning = function(){\t\t\n\t\tp(\"confirmUnderstandCommentWarning\");\n\t\tself.understandCommentWarning=\"yes\";\n\t};\n\tself.displayOrderTimeline = function(){\t\t\n\t\t//p(\"displayOrderTimeline\");\t\t\n\t\tvar order = self.currentOrder;\n\t\tif(!order || !order.id || order.isArchived){\n\t\t    self.currentLeft = \"\"; \n\t\t    return;\n\t\t}\t//p(\"order.updated=\"+order.updated);\t\t\n\t\tvar elapsed = Util.now() - order.updated;\t\n\t\tvar timeLine = \"\";\t\n\t\tvar timeLine2 = \"\";\t\n\t\tvar currentLeft = \"\";\t\n\t\tif(order.state == \"disput\"){\n\t\t\ttimeLine  = \"Идёт диспут\";\n\t\t}\n\t\tif(order.state == \"wait_for_buyer_ask_invoice\"){\n\t\t\tvar left = waitForBuyerAskInvoiceTimeout - elapsed;\t\t\t\n\t\t\t//p(\"waitForBuyerAskInvoiceTimeout=\"+waitForBuyerAskInvoiceTimeout);\n\t\t\t//p(\"elapsed=\"+elapsed);//p(\"left=\"+left);\t\t\t\t\n\t\t\t\tif(left \u003e 0){\n\t\t\t\t\tif(self.ordersOwnerFilter == \"buyer\"){\n\t\t\t\t\t\ttimeLine  = \"Если вы не запросите счёт на оплату или не оплатите кодом, заказ будет отменён по таймауту\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttimeLine  = \"Если покупатель не получит счёт на оплату или не оплатите кодом, заказ будет отменён по таймауту\";\n\t\t\t\t\t}\n\t\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\t\t\t\t    \n\t\t\t\t}else{\n\t\t\t\t\tif(self.ordersOwnerFilter == \"buyer\"){\n\t\t\t\t\t\ttimeLine = \"Заказ отменён по таймауту, поскольку вы вовремя не запросили счёт на оплату\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttimeLine = \"Заказ отменён по таймауту, поскольку покупатель вовремя не получил счёт на оплату\";\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\tcurrentLeft = \"\";\t\n\t\t\t\t}\t\t\n\t\t}\n\t\tif(order.state == \"wait_for_buyer_confirm_payment\"){\n\t\t\t    var left = waitForBuyerConfirmPaymentTimeout - elapsed;\n\t\t\t\tif(left \u003e 0){\n\t\t\t\t\tif(self.ordersOwnerFilter == \"buyer\"){\n\t\t\t\t\t   timeLine  = \"Если вы не подтвердите оплату - заказ будет отменён по таймауту\";\t\n\t\t\t\t\t}else{\n\t\t\t\t\t   timeLine  = \"Если или покупатель или вы или ваш робот не подтвердите оплату - заказ будет отменён по таймауту\";\t\n\t\t\t\t\t}\t\t\t\t    \n\t\t\t\t    currentLeft = self.getCurrentLeft(left);\t\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tif(self.ordersOwnerFilter == \"buyer\"){\n\t\t\t\t\t\ttimeLine = \"Заказ отменён по таймауту, поскольку вы вовремя не подтвердили оплату\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttimeLine = \"Заказ отменён по таймауту, поскольку покупатель вовремя не подтвердил оплату\";\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\tcurrentLeft = \"\";\t\n\t\t\t\t}\t\t\t\t\t\t\n\t\t}\t\t\t\t\n\t\t\n\t\t/*if(order.state == \"wait_for_seller_confirm_payment\"){\n\t\t\t\tvar left = waitForSellerConfirmPaymentTimeout - elapsed;\t\t\t\t\t\t\t\n\t\t\t\tif(left \u003e 0){\t\t\t\t\t\t\n\t\t\t\t\tif(self.ordersOwnerFilter == \"buyer\"){\n\t\t\t\t\t\ttimeLine  = \"Если продавец не подтвердит получение оплаты или не отменит заказ, он будет считаться  оплаченным\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttimeLine  = \"Если вы не подтвердите получение оплаты или не отмените заказ, он будет считаться  оплаченным\";\n\t\t\t\t\t}\t\t\t\t\t\t\t\n\t\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\n\t\t\t\t}else{\n\t\t\t\t\ttimeLine = \"Оплата заказа подтверждена по таймауту\";\n\t\t\t\t\tcurrentLeft = \"\";\t\n\t\t\t\t}\t\t\t\t\n\t\t}\t*/\t\t\t\n\t\t\n\t\t\n\t\tif(order.state == \"wait_for_seller_confirm_payment\"){\n\t\t\tvar autoconfirm = order.invoice \u0026\u0026 \torder.invoice.autoConfirm;\n\t\t\t//p(\"autoconfirm=\"+autoconfirm+\", id=\"+order.id);\n\t\t\tvar left = 0;\n\t\t\tif(autoconfirm){\n\t\t\t\tleft = Util.one_hour - elapsed;\t\t\t\t\t\t\t\n\t\t\t\tif(left \u003e 0){\t\t\t\t\t\t\t\n\t\t\t\t\ttimeLine  = \"Если автоматика не подтвердит получение оплаты, заказ будет отменён\";\n\t\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\n\t\t\t\t}\t\t\t\t\t\n\t\t\t\ttimeLine2 = \"После трёх таких отмен, вы будете автоматически забанены у этого продавца.\";\n\t\t\t\n\t\t\t\t\n\t\t\t}else{\t\t\t\t\n\t\t\t\tleft = waitForSellerConfirmPaymentTimeout - elapsed;\t\t\t\t\t\t\t\n\t\t\t\tif(left \u003e 0){\t\t\t\t\t\t\n\t\t\t\t\ttimeLine  = \"Если продавец не подтвердит получение оплаты, заказ будет отменён\";\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(left \u003c= 0){\n\t\t\t\t//if(autoconfirm){\n\t\t\t\t\ttimeLine = \"Заказ отменён по таймауту\";\n\t\t\t\t//}else{\n\t\t\t\t//\ttimeLine = \"Оплата заказа подтверждена по таймауту\";\n\t\t\t\t//}\n\t\t\t\tcurrentLeft = \"\";\t\n\t\t\t}\t\t\n\t\t\t\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\tif(order.state == \"wait_for_seller_give_another_pack\"){\t\t\n\t\t\ttimeLine  = \"Если продавец не выдаст ещё одну закладку или не отменит заказ, он будет закрыт\";\t\t\t\t\t\n\t\t\tvar left = waitForSellerGiveAnotherPackTimeout - elapsed;\n\t\t\tif(left \u003e 0){\n\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\t\t\t\n\t\t\t}else{\n\t\t\t\ttimeLine = \"Заказ автоматически закрыт по таймауту\";\n\t\t\t\tcurrentLeft = \"\";\n\t\t\t}\t\n\t\t}\t\t\n\t\tif(order.state == \"wait_for_seller_send_order\"){\t\t\t\n\t\t\ttimeLine  = \"Ждём пока продавец не отправит заказ\";\t\t\t\t\n\t\t\tcurrentLeft = \"\";\n\t\t}\t\t\t\n\t\tif(order.state == \"wait_for_buyer_confirm_receive\"){\t\t\t\t\t\t\n\t\t\ttimeLine  = \"Получение будет подтверждено автоматически\";\n\t\t\tvar timeout = 0;\n\t\t\tif(order.deliveryType == \"international\"){timeout = waitForInternationalBuyerConfirmReceiveTimeout;}\n\t\t\tif(order.deliveryType == \"local\"){timeout = waitForLocalBuyerConfirmReceiveTimeout;}\t\t\n\t\t\tif(order.deliveryType == \"pack\"){timeout = waitForPackBuyerConfirmReceiveTimeout;}\t\t\t\t\t\n\t\t\tvar left = timeout - elapsed;\n\t\t\tif(left \u003e 0){\n\t\t\t\tcurrentLeft = self.getCurrentLeft(left);\t\t\t\n\t\t\t}else{\n\t\t\t\ttimeLine = \"Получение автоматически подтверждёно по таймауту\";\n\t\t\t\tcurrentLeft = \"\";\n\t\t\t}\t\t\t\t\t\n\t\t}\t\t\t\t\n\t\tif(order.state.indexOf(\"closed\") \u003e -1){\t\n\t\t\ttimeLine = \"Заказ закрыт\";\n\t\t\tcurrentLeft = \"\";\n\t\t}\n\t\tif(order.state.indexOf(\"cancelled\") \u003e -1){\t\n\t\t\ttimeLine = \"Заказ отменён\";\n\t\t\tcurrentLeft = \"\";\n\t\t}\n\t\t//p(\"timeLine=\"+timeLine);\n\t\t//p(\"currentLeft=\"+currentLeft);\t\n\t\t\n\t\tself.timeLine2 = timeLine2;\n\t\tself.timeLine = timeLine;\n\t\tself.currentLeft = currentLeft;\n\t\tself.update();\n\t};\n\t\n\tself.getCurrentLeft =  function(left){\n\t\tvar hours =  Math.floor(left/Util.one_hour);\n\t\tvar minutes = Math.floor(left/Util.one_minute);\n\t\tif(hours \u003e 0){minutes = minutes - hours*60;}\n\t\tvar seconds = Math.floor(left/1000);\n\t\tif(hours \u003e 0){seconds = seconds - hours*3600;}\n\t\tif(minutes \u003e 0){seconds = seconds - minutes*60;}\n\t\tvar ret = \" через \"\n\t\t+ (hours \u003e 0 ?  hours+\" часов \":\"\")\n\t\t+ (minutes \u003e 0 ?  minutes+\" минут \":\"\")\t\n\t\t+seconds+\" секунд.\";\t\n\t\treturn \tret;\t\n\t};\t\n\t\n\trepeatEverySecond();\n\t\n\t\n\tself.$watch(\"ordersFilter\", function(){\n\t\t//p(\"$watch: self.ordersFilter=\"+self.ordersFilter+\"\u003c\");\n\t\t//p(\"$watch: load=\"+((self.ordersFilter == \"archived\") \u0026\u0026 !self.archivedOrdersLoaded));\t\t\n\t\tif((self.ordersFilter == \"archived\") \u0026\u0026 !self.archivedOrdersLoaded){\n\t\t\tself.loadArchivedOrders(ge(\"reloadOrdersButton\"));\n\t\t}\n\t});\n\n\t\n\tperformOnLogin(function(){\n\t\tself.ordersList = self.user.data.orders;\n\t\tself.checkActiveOrdersCount();\n\t\tself.update();\t\t\t\t\t\t\t\n\t});\n\t\n\tself.sellerActiveOrdersCount = 0;\n\tself.buyerActiveOrdersCount = 0;\n\t\n\tself.checkActiveOrdersCount = function(){\n\t\troot.activeOrdersCount = 0;\n\t\tself.sellerActiveOrdersCount = 0;\n\t    self.buyerActiveOrdersCount = 0;\n\t\tvar sellerCount = 0;\n\t\tvar buyerCount = 0;\n\t\tif(!self.ordersList){self.ordersList = [];}\n\t\tfor(var i = 0; i \u003c self.ordersList.length; i++){\n\t\t\tvar closed = self.ordersList[i].state.indexOf(\"closed\") \u003e -1 \n\t\t\t|| self.ordersList[i].state.indexOf(\"cancelled\") \u003e -1\n\t\t\t|| self.ordersList[i].state == \"DELETED\";\n\t\t\tif(!self.ordersList[i].isArchived \u0026\u0026 !closed){\n\t\t\t\tif(root.user.id == self.ordersList[i].buyerId){\n\t\t\t\t\tbuyerCount++;\n\t\t\t\t}\n\t\t\t\tif(root.user.id == self.ordersList[i].sellerId){\n\t\t\t\t\tsellerCount++;\n\t\t\t\t}\t\t\t\t\n\t\t\t   \n\t\t\t}\n\t\t}\t\t\n\t\tself.sellerActiveOrdersCount = sellerCount;\n\t    self.buyerActiveOrdersCount = buyerCount;\n\t\troot.activeOrdersCount = sellerCount + buyerCount;\t\t\n\t\tsetTimeout(function(){root.refresh();}, 40);\n\t};\n\t\n\tself.isBuyerOrderMatchFilter = function(order){\n\t\t//\tp(\"isBuyerOrderMatchFilter: state=\"+order.state+\", id=\"+order.id);\n\t\tvar isBuyerOrder = order.buyerId == root.user.id;\n\t\tif(isBuyerOrder \u0026\u0026 self.ordersOwnerFilter == \"seller\"){return false;}\n\t\tif(!isBuyerOrder \u0026\u0026 self.ordersOwnerFilter == \"buyer\"){return false;}\t\t\n\t\tvar closed = order.state.indexOf(\"closed\") \u003e -1 || order.state.indexOf(\"cancelled\") \u003e -1;\n\t\t\n\t\tif(self.ordersFilter == 'active'){\n\t\t\treturn !closed;\n\t\t}\n\t\tif(self.ordersFilter == 'archived'){\n\t\t\treturn closed;\n\t\t}\n\t\treturn false;\n\t};\n\t\n\t\n\tself.translateOrderState = function(state){return states[state] ? states[state] : state;};\n\t\n\t\n\t\n/*\tself.reportPackNotFound = function(order, command){\t\t\n\t\tif(!confirm(\"информировать продавца о том, что закладка не найдена?\")){return;}\n\t\tServer.call(\"ordersService\",\"buyerReportPackNotFound\", order.id, function(state){\t\t\t\t\n            self.currentOrder.state = state;          \n\t\t\tself.update();\t\t\t\n\t\t}, null, command);\n\t};\n\t\n\tself.reportPackStollen = function(order, command){\n\t\tif(!confirm(\"Информировать продавца о том, что закладки нет на месте?\")){return;}\n\t\tServer.call(\"ordersService\",\"buyerReportPackStollen\", order.id, function(state){\t\t\t\t\n            self.currentOrder.state = state;\n\t\t\tself.update();\t\t\t\n\t\t}, null, command);\n\t};\t\n*/\n\t\n/** begin disput */\n\tself.updateBuyerReport = function(order, command){\t\n\t\tif(!confirm(\"Обновлять описание?\")){return;}\n\t\tServer.call(\"disputService\",\"updateBuyerReport\", [order.id, e2(order.disput.buyerReport)], function(){\t\t\t\n            order.disput.state = \"wait_for_seller_solution\";\n\t\t\tself.update();\t\t\t\n\t\t}, null, command);\t\t\n\t};\t\t\t\n\t\n\tself.cancelPackDisput  = function(order, command){\t\n\t  p(\"cancelPackDisput\");\t\t\n      order.disput = {};\n      order.state = \"wait_for_buyer_confirm_receive\";       \n\t};\t\t\t\n\t\n\tself.createPackDisput = function(order, command){\t\n\t  p(\"createPackDisput\");\t\t\n      order.disput = {reason: \"no\", orderId: order.id, buyerReport: \"\", sellerSolution: \"\", state: \"created\", images: []};\n      order.state = \"disput\";       \n\t};\t\t\t\n\t\n\t/** images */\n\t\n\tself.removeDisputImage = function(i){\t\t\n\t\tself.currentOrder.disput.images = deleteByIndex(self.currentOrder.disput.images, i);\n\t};\n\t\n\tself.addDisputImage = function(base64){\t\n\t\tself.currentOrder.disput.images.push({id:0, base64: base64});\n\t\tself.update();\t\t\n\t};\n\t\t\t\t\n\t/** end images */\n\t\n\t\t\t\n\t\n\tself.disputMinSymbolsCount = 24;\n\tself.disputMaxSymbolsCount = 512;\n\n\t\n\tself.openPackDisput = function(order, command){\t\t\t\t\t\n\t\tif(order.disput.reason == \"no\"){a(\"Выберите причину диспута: 'не найдено место' или 'не найдена закладка'!\"); return;}\n\t\torder.disput.buyerReport = trim(order.disput.buyerReport);\n\t\tif(order.disput.buyerReport.length \u003c self.disputMinSymbolsCount || order.disput.buyerReport.length \u003e self.disputMaxSymbolsCount){\n\t\t\ta(\"Нужно вести ваше описание проблемы, не менее \"+self.disputMinSymbolsCount\n\t\t\t\t\t+\" и не более \"+self.disputMaxSymbolsCount+\" символов!\"); return;}\n\t\tif(order.disput.images.length \u003c order.minDisputImagesCount){\n\t\t\ta(\"Нужно приложить не менее \"+order.minDisputImagesCount+\" фото места закладки!\"); return;}\n\t\tif(!confirm(\"Открывать диспут?\")){return;}\t\t\n\t\tServer.call(\"disputService\",\"buyerOpenPackDisput\", [order.id,  e2(order.disput.buyerReport), order.disput.images, order.disput.reason], function(disputId){\t\t\t\n            order.disput.id = disputId;\n            order.disput.state = \"wait_for_seller_accept\";\n\t\t\tself.update();\t\t\t\n\t\t}, null, command);\n\t};\t\n\n/** end disput */\n\t\n\t\n\tself.cancelOrderByBuyer = function(order, command){\n\t\tif(!confirm(\"отменить заказ?\")){return;}\n\t\tServer.call(\"ordersService\",\"buyerCancelOrder\", order.id, self.updateOrderState, null, command);\n\t};\n\t\n\tself.updateOrderState = function(state){\n\t\t            self.currentOrder.state = state;\n            self.checkActiveOrdersCount();\n\t\t\tself.update();\t\t\t\n\t};\n\t\n\tvar t = {\t\t\n\t\t\"blockchain_info_unavailable\":\"Сервис blockchain.info перегружен,\u003cbr/\u003eподтверждение поставлено в очередь.\",\t\n\t\t\"error_already_confirmed\": \"код уже был активирован\",\n\t\t\"this_code_already_used\": \"код уже был использован для оплаты другого счёта\",\n\t\t\"error_invalid_code\": \"неправильный код\"\t\t\t\t\t\t\n\t};\n\t\n\t\n\tself.confirmPayInvoice = function(order, command){\t\t\t\t\n\t\tif(order.payType == \"code\"){ \t\t\t\n\t\t\tif(order.invoice.payCode == \"\"){\n\t\t\t\tif(self.ordersOwnerFilter == 'buyer'){ \n\t\t\t\t\ta(\"Введите код!\"); return;\n\t\t\t\t}else{\n\t\t\t\t\tif(!confirm(\"Подтвердить оплату без кода?\")){return;}\t\n\t\t\t\t}\t\n\t\t\t}else{\n\t\t\t\tif(!confirm(\"подтвердить оплату?\")){return;}\t\t\n\t\t\t}\t\n\t\t}else{\n\t\t\tif(!confirm(\"подтвердить оплату?\")){return;}\t\t\n\t\t}\t\t\t\t  \n\t\tServer.call(\"ordersService\", \"buyerConfirmPayment\", [order.id, order.invoice.payCode], function(result){\t\t\t\t\n\t\t\tp(\"on buyerConfirmPayment: result=\"+str(result));\n\t\t\tif(result.pack){\n\t\t\t\tself.currentOrder.invoice.isPaid = true;\n\t\t\t\tfixImages(result.pack.images);\n\t\t\t\tself.currentOrder.pack = result.pack;\n\t\t\t}\n\t\t\tif(result.state){self.currentOrder.state = result.state;}\t\n\t\t\tself.update();\t\t\t\n\t\t}, function(error){\n\t\t\terror = u(error);\n\t\t\tif(t[error]){a(t[error]);}else{a(error);}\n\t\t}, [command, ge(\"cancelOrderButton\")]);\n\t};\n\t\n\tself.translateInvoiceState  = function(invoice){\n\t\tif(!invoice){return \"\";}\n\t\tif(t[invoice.payCodeState]){\n\t\t\treturn t[invoice.payCodeState];\n\t\t}\n\t\tif(invoice.isPaid){return \"оплачен\";}\n\t\tif(!invoice.isPaid){return \"не оплачен\";}\n\t\treturn \"unknown\";\n\t};\t\n\t\n\t\n\tself.isPaySystemAutomated  = function(){\n\t  if(!self.currentOrder){return false;}\t\n\t  if(!self.currentOrder.paySystem){return false;}\n\t  if(!self.currentOrder.sellerPaySystems){return false;}\n\t  if(!self.currentOrder.sellerPaySystems[self.currentOrder.paySystem]){return false;}\n\t  return self.currentOrder.sellerPaySystems[self.currentOrder.paySystem].automated;\n\t};\t\n\t\n\tself.isPaySystemCodeAutomated  = function(){\n\t  if(!self.currentOrder){return false;}\t\n\t  if(!self.currentOrder.codePaySystem){return false;}\n\t  if(!self.currentOrder.sellerPaySystems){return false;}\n\t // p(\" codePaySystem1=\"+self.currentOrder.codePaySystem);\n\t // p(\" codePaySystem2=\"+str(self.currentOrder.sellerPaySystems[self.currentOrder.codePaySystem]));\n\t  if(!self.currentOrder.sellerPaySystems[self.currentOrder.codePaySystem]){return false;}\n\t  return self.currentOrder.sellerPaySystems[self.currentOrder.codePaySystem].automated;\n\t};\t\t\n\t\n\t\n\tself.sellerPaySystemsNames = [];\n\t\n\tself.orderPayType = \"no\";// or paysystem\n\n\t\n\tself.askOrderInvoice = function(order, command){\t\t\t\n\t\tvar orderPaySystem = \"\";\n\t\tvar currency = \"\";\t\t\t\n\t\tvar paySystem = \"\";\t\n\t\tif(self.orderPayType == \"no\" ){\t\t\t\n\t\t\ta(\"Выберите тип оплаты!\"); return;\t\t\t\n\t\t}\t\t\t\n\t\t\n\t\tif(self.orderPayType == \"code\" ){\n\t\t\tif(!order.codePaySystem ||  order.codePaySystem.length == 0){\n\t\t\t\ta(\"Выберите систему для оплаты!\"); return;\n\t\t\t}\n\t\t\tpaySystem = self.currentOrder.codePaySystem;\t\n\t\t}else if(self.orderPayType == \"paysystem\" ){\n\t\t\tif(!self.currentOrder.paySystem ||  self.currentOrder.paySystem.length == 0){\n\t\t\t\ta(\"Выберите систему для оплаты!\"); return;\n\t\t\t}\n\t\t\tpaySystem = self.currentOrder.paySystem;\n\t\t}\n\t\t\n\t\tif(self.orderPayType == \"bitcoin\" ){\n\t\t\tself.currentOrder.orderPayType = \"bitcoin\";\n\t\t\torderPaySystem = \"bitcoin\" ;\n\t        currency = \"BTC\";\t\n\t\t\t//paySystem = self.currentOrder.paySystem;\n\t\t}else\t\tif(paySystem.name){\n\t\t\torderPaySystem = paySystem.name;\n\t        currency = paySystem.currency;\t\n\t\t}else{// old code\n\t\t\tvar parts = paySystem.split(\" \");\t\t\n\t\t    if(parts.length != 2){a(\"Выберите систему для оплаты!\"); return;}\t\t\t\n\t\t\torderPaySystem = parts[0];\n\t\t    currency = parts[1];\t\n\t\t}\t\t\t\t\t\t\t\t\t\t\n\t\tif(!confirm(\"запросить счёт для оплаты?\")){return;}\t\t\t\t\n\t\tServer.call(\"ordersService\",\"buyerAskInvoice\", [order.id, self.orderPayType, orderPaySystem, currency, order.buyerComment], \n\t\t\t\tfunction(result){\t\t\t\t\n\t\t\t\t\tself.currentOrder.invoice = result.invoice;\n\t\t\t\t\tself.updateOrderState(result.state);\t\n\t\t\t\t}, function(error){\n\t\t\t\t\tif(error == \"blockchain_failed\"){\n\t\t\t\t\t\ta(\"Сервис выдачи адерсов временно не работает!\u003cbr/\u003e\"\n\t\t\t\t\t\t+\"Пожалуйста, обратитесь за адресом для оплаты к продавцу.\");\n\t\t\t\t\t\n\t\t\t\t\t}else{a(error);}\n\t\t\t\t\t\n\t\t\t\t}\t, command);\n\t};\t\n\t\n\n\tself.confirmReceiveOrder = function(order, command){\n\t\tif(!confirm(\"подтвердить получение заказа?\")){return;}\n\t\tServer.call(\"ordersService\",\"confirmReceiveOrder\", order.id, function(state){\n            self.updateOrderState(state);\n\t\t}, null, command);\n\t};\n\t\n\n\t\n\tfunction addNewOrder(order){\t\t\t\t\n\t\t    if(!order.sellerPaySystems){order.sellerPaySystems = [];}\t\t\n\t\t    if(order.sellerPaySystems.length \u003e 0){\t\t    \t\n\t\t    \t//order.paySystem = order.sellerPaySystems[0].name+\" \"+order.sellerPaySystems[0].currency;\n\t\t    }\t\n\t\t    order.acceptCodes = false;\n\t\t    order.acceptPaySystems = false;\n\t\t    for(var i = 0; i \u003c order.sellerPaySystems.length; i++){\t\t\n\t\t    \tp(\"addNewOrder:  order.sellerPaySystems[\"+i+\"]\"+str(order.sellerPaySystems[i]));\n\t\t    \tif(order.sellerPaySystems[i].acceptCodes){\n\t\t    \t\torder.acceptCodes = true;\n\t\t    \t}else{\n\t\t    \t\torder.acceptPaySystems = true;\n\t\t    \t}\n\t\t    }\t\t    \n\t\t    self.ordersList = [order].concat(self.ordersList);\t\t\t\t\t\t\n\t\t\tself.selectOrder(order);\n\t\t\tself.checkActiveOrdersCount();\n\t\t\tself.update();\t\t\t    \n\t}\t\n\t\n\n\t\n\t/** called from gui */\n\tself.decryptSendInfoForBuyer = function(command){\n\t\tif(penpalPanel.keyPairPassword == \"\"){\n\t\t\ta(\"Расшифруйте приватный ключ на панели \" +\n\t\t\t\"\u003cspan class='command' onclick='selectPanel(\\\"mainMenu/penpal\\\"); hideAlertMessage(); document.body.scrollTop = 0;'\u003eПочта\u003c/span\u003e !\");\n\t\t\treturn;\n\t\t}\n\t\tvar params = {\n\t\t\t//encryptedSendInfo: e(self.currentOrder.sendInfo), \t\n\t\t\tencryptedSendInfo: (self.currentOrder.sendInfo), \n\t\t\tencryptedBuyerPassword: self.currentOrder.sendInfoPassword,\n\t\t\tencryptedPrivateKey: root.user.data.keyPair.encryptedPrivateKey,\t\t\t\n\t        password: penpalPanel.keyPairPassword\n\t\t};\t\n\t\t//p(\"decryptSendInfoForBuyer params=\"+str(params));\t\n\t\t\n\t\tcryptingPerformer.perform(\"decryptSendInfoForBuyer\", params,     \t\t\t\t\n\t\t\t\t  function(result){\t\t\t\n\t\t\t\t\t// \n\t\t\tp(\"decryptSendInfoForBuyer: result=\"+str(result));\n\t\t\t\t\t  self.currentOrder.sendInfo = result.text;\t\t\n\t\t\t\t\t  self.currentOrder.sendInfoDecrypted = true;\t\n\t\t\t\t\t  self.update();\t\t\n\t\t\t\t}, function(error){a(error);}, command\n\t\t);\t\t\t\n\t};\n\t\n\t\n\t\n\tself.buyPackage = function(params){\t\t\t\t\t\n\t\tif(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}\t\t\n\t\tif(penpalPanel.keyState == 'no'){\n\t\t\ta(\"Сначала включите шифрование RSA на панели\"\n\t\t\t\t\t+\" \u003cspan class=\\\"command\\\" onclick=\\\"selectPanel('mainMenu/penpal'); hideAlertMessage();\\\"\u003eПочта\u003c/span\u003e,\" +\n\t     \"\u003cbr/\u003eчтобы продавец мог зашифровать реквизиты отправления\u003cbr/\u003eвашим публичным ключом!\");\n\t\t\treturn;\n\t\t}\t\t\t\t\t\t\n\t\tif(params.itemPackage.orderedCount \u003e params.itemPackage.packsCount){\n\t\t\ta(\"Осталось только \"+params.itemPackage.packsCount+\"!\"); return;\t\t}\t\t\n\t\t// really impossible, because all package prices checked at items saving and updating \n\t\tif(params.itemPackage.price == 0.0){a(\"Цена не указана!\"); return;}\n\t\tp(\"buyPackage: \"+str(params.itemPackage));    \t\n     \tif(!params.agree){params.agree = false;}   \n     \tif(!confirm(\"Оформлять заказ?\")){return;}\t\n     \tServer.call(\"ordersService\", \"getSellerPublicKey\", [params.itemPackage.id], \n\t\t\tfunction(publicKey){\n     \t//\tp(\"root.user.shippingAddress: \"+root.user.shippingAddress);\n\t     //\tp(\"sellerPublicKey: \"+publicKey);\n\t     \t\tcryptingPerformer.perform(\"encryptOrderAddressForSeller\",     \t\t\t\n\t     \t\t\t\t  {orderAddress: root.user.shippingAddress, sellerPublicKey: publicKey,\n\t     \t\t\t       buyerEntrancePassword: loginPanel.password\t     \t\t\t       \n\t     \t\t\t\t  },     \t\t\t\t\n\t     \t\t\t\t  function(result){\n\t     \t\t\t\t\t  params.encryptedAddress = result.encryptedAddress;\n\t     \t\t\t\t\t  params.sellerAddressPassword = result.encryptedSellerPassword;     \n\t     \t\t\t\t\t  params.buyerAddressPassword = result.encryptedBuyerPassword;  \n\t     \t\t\t\t\t//  p(\"result.encryptedAddress: \"+result.encryptedAddress);\n\t     \t                //  p(\"result.encryptedSellerPassword: \"+result.encryptedSellerPassword);\t     \n\t     \t               //   p(\"result.encryptedBuyerPassword: \"+result.encryptedBuyerPassword);\t     \n\t     \t\t\t\t\t  self.placePackageOrder(params);          \t\t\t\t\t  \n\t     \t\t\t\t\t //sessionStorage.setItem(\"keyPairPassword\", keyPairPassword);\n\t     \t\t\t\t}, function(error){a(error);}, params.command\n\t     \t\t);\t\t     \t\t\n\t     \t}, null, params.command\n\t     );\n\t};\n\t\n\tself.placePackageOrder = function(params){\t\t\t\t\n\t\tServer.call(\"ordersService\", \"placePackageOrder\", \n\t\t\t\t[params.itemPackage.id, pi(params.itemPackage.orderedCount), \"\", params.agree\n\t\t\t\t , params.encryptedAddress, params.sellerAddressPassword, params.buyerAddressPassword], \n\t\tfunction(order){\n\t\t\ttry{\t\t\n               addNewOrder(order);\n\t\t\t}catch(ex){p(\"in buyPackage: \"+ex);}\n\t\t}, function(error){\n\t\t\tif(error ==\"no_shipping_address\"){\n\t\t\t\ta(\"Укажите почтовый адрес для доставки на панели\"\n\t\t\t\t+\" \u003cspan class=\\\"command\\\" onclick=\\\"selectPanel('mainMenu/settings'); hideAlertMessage();\\\"\u003eнастройки\u003c/span\u003e\");\n\t\t\t}else if(error == \"already_have_order\"){\n\t\t\t\ta(\"У вас уже есть активный заказ. Отмените его на панели\"\n\t\t\t\t\t\t+\" \u003cspan class=\\\"command\\\" onclick=\\\"selectPanel('mainMenu/orders'); hideAlertMessage();\\\"\u003eзаказы\u003c/span\u003e\");\n\t\t\t}else if(error.substring(0, \"no_agreement\".length) == \"no_agreement\"){\t\t\t    \n\t\t\t\tself.showAgreements(error.substring(\"no_agreement\".length), params, \"package\");\t\t\t\t\n\t\t\t}else if(error.substring(0, \"no_match\".length) == \"no_match\"){\t\t\t\t\t\t\n\t\t\t\tself.showBuyerNoMatch(error.substring(\"no_match\".length));\t\t\t\t\t\t\t\t\n\t\t\t}else{a(error);}\n\t\t}, params.command);\t\n\t};\n\n\t\n    self.showBuyerNoMatch = function(filterRaw){\n    \tcataloguePanel.buyerFilter = JSON.parse(filterRaw);\n    \tcataloguePanel.buyerNoMatch = true;\n    \tcataloguePanel.update();    \t\n    };\t\n\t\n    self.currentAgreementsParams = {};\n\tself.currentMethod = \"\";\n\t\n\t\n\tself.agree = function(){\n\t\tself.currentAgreementsParams.agree = true;\n\t\tif(self.currentMethod == \"pack\"){\n\t\t\tself.buyPack(self.currentAgreementsParams);\n\t\t}else if(self.currentMethod == \"package\"){\n\t\t\tself.buyPackage(self.currentAgreementsParams);\n\t\t}\n\t};\t\n\n\t\n\tself.showAgreements = function(agreements, params, method){\n\t\tcataloguePanel.showAgreements = true;\n\t\tcataloguePanel.currentAgreements = agreements;\n\t\tself.currentAgreementsParams = params;\n\t\tself.currentMethod = method;\n\t\tcataloguePanel.update();\t\t\n\t};\t\t\t\n\t\n\n\t\n\tself.buyPack = function(params){\n\t\tif(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}\n    \t\n\t\tvar isProbe = params.itemPackage.price == 0.0 ? true:false;\n\t\tp(\"buyPack: isProbe=\"+isProbe);\t\t\n\t\tif(isProbe){\n\t\t\tServer.call(\"ordersService\", \"placePackProbeOrder\", [params.pack.id, \"\"], function(order){\n\t\t\t\ttry{\t\t\t\t\n  \t\t\t       //fixImages(order.pack.images);\t  \t\t\t       \n\t               addNewOrder(order);\n\t\t\t\t}catch(ex){p(\"in on placePackProbeOrder: \"+ex);}\n\t\t\t}, function(error){\n\t\t\t\tif(error.substring(0, \"no_match\".length) == \"no_match\"){\t\t\t\t\t\t\n\t\t\t\t\tself.showBuyerNoMatch(error.substring(\"no_match\".length));\t\t\t\t\t\t\t\t\n\t\t\t\t}\t\t\t\n\t\t\t\t\n\t\t\t\tif(error.substring(0, \"treshold\".length) == \"treshold\"){\t\t\t\t\t\t\n\t\t\t\t\tvar arr = error.split(\",\");\n\t\t\t\t\tvar treshold = arr[1];\n\t\t\t\t\tvar count = arr[2];\n\t\t\t\t\ta(\"Продавец разрешает брать пробники при количестве заказов не менее \"\n\t\t\t\t\t\t\t+treshold+\",\u003cbr/\u003eа у вас заказов всего \"+count+\"!\");\t\t\t\t\t\n\t\t\t\t}\t\t\t\t\t\n\t\t\t\tif(error.substring(0, \"rest\".length) == \"rest\"){\t\t\t\t\t\t\n\t\t\t\t\tvar arr = error.split(\",\");\n\t\t\t\t\tvar rest = pi(arr[1]);\n\t\t\t\t\tvar hours = pi(rest/Util.one_hour);\n\t\t\t\t\ta(\"Вы уже взяли пробник сегодня.\" +\n\t\t\t\t     \",\u003cbr/\u003eСледующий можно будет взять не ранее чем через \"+hours+\" часов!\");\t\t\t\t\t\n\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t}, params.command);\t\t\t\t\t\t\t\n\t\t}else{\t\t\t\n\t\t  \tif(!params.agree){params.agree = false;}\n\t\t\tServer.call(\"ordersService\", \"placePackOrder\", [params.pack.id, \"\", params.agree], function(order){\n\t\t\t\ttry{\t\t\t\t\t\t\t\n\t               addNewOrder(order);\n\t\t\t\t}catch(ex){p(\"in on placePackOrder: \"+ex);}\n\t\t\t}, function(error){\n\t\t\t\tif(error.substring(0, \"no_agreement\".length) == \"no_agreement\"){\t\t\t\t\n\t\t\t\t\tself.showAgreements(error.substring(\"no_agreement\".length), params, \"pack\");\t\t\t\t\t\t\t\n\t\t\t\t\t/*if(confirm(error.substring(\"no_agreement\".length))){\n\t\t\t\t\t\tparams.agree = true;\n\t\t\t\t\t\tself.buyPack(params);\n\t\t\t\t\t};\t\t*/\t\t\n\t\t\t\t}else if(error.substring(0, \"no_match\".length) == \"no_match\"){\t\t\t\t\t\t\n\t\t\t\t\tself.showBuyerNoMatch(error.substring(\"no_match\".length));\t\t\t\t\t\t\t\t\n\t\t\t\t}else{a(error);};\n\t\t\t}, params.command);\t\t\t\t\t\t\n\t\t};\t\t\t\n\t};\t\n\t\n\t\t\t\t\n\t\n\tself.selectOrder = function(order, command){\t\t\n\t\t//a = function(s){p(\"a: \"+ s);};\t\t\n\t\tif(!order.checked){\n\t\t\tServer.call(\"ordersService\",\"getOrderDetails\", [order.id], function(result){\n\t\t\t\t\tif(result.pack){\n\t\t\t\t\t\tfixImages(result.pack.images);\n\t\t\t\t\t    order.pack = result.pack;\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif(result.invoice){\n\t\t\t\t\t\torder.invoice = result.invoice;\n\t\t\t\t\t}else{\n\t\t\t\t\t\torder.invoice = {id: 0};\n\t\t\t\t\t}\t\t\n\t\t\t\t\tif(result.itemIcon){\n\t\t\t\t\t\torder.itemIcon = fixImage(result.itemIcon);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tvar sellerPaySystems = [];\n\t\t\t\t\tvar codePaySystems = [];\n\t\t\t\t\tvar regularPaySystems = [];\t\t\n\t\t\t\t\t\n\t\t\t\t\tfor(var i = 0; i \u003c result.sellerPaySystems.length; i++){\n\t\t\t\t\t\tvar paySystem = result.sellerPaySystems[i];\n\t\t\t\t\t\tsellerPaySystems.push(paySystem);\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tsellerPaySystems[paySystem.name+\" \"+paySystem.currency] = paySystem;\n\t\t\t\t\t\tif(paySystem.acceptCodes){codePaySystems.push(paySystem.name+\" \"+paySystem.currency);}\n\t\t\t\t\t\tif(!paySystem.acceptCodes){regularPaySystems.push(paySystem.name+\" \"+paySystem.currency);}\t\t\t\t\t\t\t\t\n\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\t\n\t\t\t        order.sellerPaySystems = sellerPaySystems;\t\t\t        \n\t\t\t        order.codePaySystems = codePaySystems;\t\n\t\t\t        order.regularPaySystems = regularPaySystems;\t\t\t\t        \n\t\t\t        //p(\"order.sellerPaySystems = \"+str(order.sellerPaySystems));\t\t\t        \n\t\t\t\t\tif(order.codePaySystems.length \u003e 0){ order.codePaySystem = order.codePaySystems[0];}\n\t\t\t\t\tif(order.regularPaySystems.length \u003e 0){ order.paySystem = order.regularPaySystems[0];}\t\t\t\t\t        \n\t\t\t\t\torder.state = result.state;\n\t\t\t\t\torder.isArchived =  result.isArchived;\t\t\t\t\t\n\t\t\t\t\torder.itemName = result.itemName;\n\t\t\t\t\torder.packageName = result.packageName;\t\n\t\t\t\t\torder.shippingAddress = result.shippingAddress;\t\n\t\t\t\t\torder.sendInfo = result.sendInfo;\t\n\t\t\t\t\torder.sendInfoPassword = result.sendInfoPassword;\t\n\t\t\t\t\torder.minDisputImagesCount = result.minDisputImagesCount;\t\n\t\t\t\t\torder.paySystemsDiscounts = result.paySystemsDiscounts;\t\n\t\t\t\t\t//p(\"order.sendInfoPassword = \"+order.sendInfoPassword);\n\t\t\t\t\torder.buyerComment = result.buyerComment;\t\n\t\t\t\t\t//order.history = result.history;\t\n\t\t\t\t\t//order.history.push({s: result.state, t: order.updated}); \t\t\n\t\t\t\t\torder.disput = result.disput;\t\n\t\t\t\t\tfor(var i = 0; i \u003c order.disput.images.length; i++){\t\t\t\t\t\t\n\t\t\t\t\t      order.disput.images[i] = order.disput.images[i].split(\" \").join(\"+\");\n\t\t\t\t    }\t\t\t\t\t\t\n\t\t\t\t\torder.disput.buyerReport = u2(order.disput.buyerReport);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t//\n\t\t\t\t\tself.decryptOrderAddressForBuyer(order);\t\n\t\t\t\t\t//p(\"on getOrderDetails: after decrypt\");\t\t\t\t\t\n\t\t\t\t\t//\n\t\t\t\t\tsuspendEnable(command);\t\n\t\t\t\t\t//p(\"on getOrderDetails: after suspendEnable\");\n\t\t\t}, function(error){\n\t\t\t\t//p(\"in getOrderDetails: error=\"+error);\n\t\t\t\ta(error);\t\t\t\n\t\t\tsuspendEnable(command);}, command);\t\n\t\t}\n\t\tself.currentOrder = order;\t\n\t\tselectPanel(\"ordersMenu/orderDetails\");\n\t\t//\t\n\t\t//p(\"selectOrder: order.history=\"+str(order.history));\t\n\t};\n\t\n\tself.decryptOrderAddressForBuyer= function(order){\t\t\n\t\t\t\t\n\t\tif(no(order.shippingAddress) || no(order.buyerAddressPassword)){\n\t\t\tp(\"return at decryptOrderAddressForBuyer: shippingAddress=\"+order.shippingAddress+\", buyerAddressPassword=\"+order.buyerAddressPassword);\n            order.checked = true;\t\t\n\t\t\tself.selectOrder(order);\n\t\t\tself.checkActiveOrdersCount();\n\t\t\tself.update();\t\n\t\t\treturn;\n\t\t}\t\t\n\t\t\n\t\tvar params = {orderAddress: order.shippingAddress, \t\t\t\t\n\t\tencryptedBuyerPassword: order.buyerAddressPassword,  entrancePassword: loginPanel.password};\n \t\tcryptingPerformer.perform(\"decryptOrderAddressForBuyer\", params,     \t\t\t\t\n\t\t\t\t  function(result){\n \t\t\t        order.shippingAddress = result.decryptedAddress;\t\n\t\t\t\t\torder.checked = true;\t\t\t\t\t\n\t\t\t\t\tself.selectOrder(order);\n\t\t\t\t\tself.checkActiveOrdersCount();\n\t\t\t\t\tself.update();\t\t\t\t\t\n\t\t\t\t}, function(error){\n\t\t\t\t\tp(\"in decryptOrderAddressForBuyer: error=\"+error);\n\t\t\t\t\ta(error);} \n\t\t);\t\n\t};\n\t\n\tself.loadArchivedOrders = function(command){\n\t\tServer.call(\"ordersService\",\"findArchivedOrders\", null, function(orders){\n\t\t\t    self.ordersList = self.ordersList.concat(orders);\t\t\t\n\t\t\t    self.archivedOrdersLoaded = true;\n\t\t\t\tself.update();\t\n\t\t\t\tsuspendEnable(command);\t\t\n\t\t});\n\t};\n\t\n\tself.reloadOrder = function(command){\t\t\n\t\tself.currentOrder.checked = false;\n\t\tself.selectOrder(self.currentOrder, command); \t\t\n\t\t\t\n\t};\n\t\n\tself.reloadOrders = function(command){\n\t\tvar maxId = 0;\n\t\tfor(var i = 0; i \u003c  self.ordersList.length; i++){\n\t\t\tif(self.ordersList[i].id \u003e maxId){maxId = self.ordersList[i].id;}\n\t\t}\n\t\t\n\t\tvar isArchived = self.ordersFilter == \"archived\";\n\t\tServer.call(\"ordersService\",\"reloadOrders\", [isArchived, maxId], function(orders){\t\t\n\t\t\tvar newOrders = [];   \n\t\t\tfor(var i = 0; i \u003c orders.length; i++){\n\t\t\t    var isNew = checkOrderUpdate(orders[i]);\n\t\t\t    if(isNew){newOrders.push(orders[i]);\n\t\t\t    }else if(orders[i].id == self.currentOrder.id){\n\t\t\t    \t//self.selectOrder(orders[i]); \n\t\t\t    }\t\t\t    \n\t\t\t}  \t\t\t\t\t\t\t\n\t\t    self.ordersList = newOrders.concat(self.ordersList);\t\t\n\t\t    self.checkActiveOrdersCount();\n\t\t\tself.update();\t\n\t\t\tsuspendEnable(command);\n\t\t}, null, command);\n\t\t\n\t\tfunction checkOrderUpdate(order){\n\t\t\tvar isNew = true;\n\t\t\tfor(var i = 0; i \u003c self.ordersList.length; i++){\n\t\t\t\tif(self.ordersList[i].id == order.id){\n\t\t\t\t\tself.ordersList[i] = order;\n\t\t\t\t\tisNew = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn isNew;\n\t\t}\t\t\n\t};\t\t\t\n\t\t\n\t\t\n\t\n\tself.findOrderDiscount = function(){\t\t\t\t\n\t\tif(!self.currentOrder || self.orderPayType == \"no\"){return 0.0;}\t\t\n\t\tvar discount = 0.0;\t\t\n\t\tif(!self.currentOrder.paySystemsDiscounts){return 0.0;}\n\t\tif(self.orderPayType == \"bitcoin\"){\n\t\t\tdiscount = self.currentOrder.paySystemsDiscounts[\"bitcoin\"] || 0.0;\t\n\t\t}\t\t\n\t\tif(self.orderPayType == \"code\"){\n\t\t    if(!self.currentOrder.codePaySystem){return 0.0;}\n\t\t    discount = self.currentOrder.paySystemsDiscounts[self.currentOrder.codePaySystem] || 0.0;\t\t\t\t\t\n\t\t}\n\t\tif(self.orderPayType == \"paysystem\"){\n\t\t\tif(!self.currentOrder.paySystem){return 0.0;}\n\t\t\tdiscount = self.currentOrder.paySystemsDiscounts[self.currentOrder.paySystem] || 0.0;\t\n\t\t}\t\t\t\n\t\treturn discount;\n\t};\t\n\t\n\tself.findOrderPrice = function(){\n\t\tvar inCurrency =  self.findOrderCurrency();\n\t\tif(inCurrency == \"\"){return 0.0;}\n\t\tvar price = ratesPanel.getAmountInCurrency(self.currentOrder.price, \n\t\t\t\tself.currentOrder.currency, inCurrency);\t\t\n\t\treturn round2(price);\n\t};\t\n\t\n\tself.findOrderCurrency = function(){\t\t\n\t\t//p(\"findOrderCurrency currentOrder=\"+self.currentOrder);\n\t\tif(!self.currentOrder || self.orderPayType == \"no\"){return \"\";}\t\t\n\t\tif(self.orderPayType == \"bitcoin\"){\n\t\t\t  return \"\";\n\t\t}\t\t\n\t\tvar name = \"\";\n\t\tif(self.orderPayType == \"code\"){\n\t\t\t    if(!self.currentOrder.codePaySystem){return \"\";}\n\t\t\t\tname = self.currentOrder.codePaySystem;\t\n\t\t\t\t\n\t\t}\n\t\tif(self.orderPayType == \"paysystem\"){\n\t\t\tif(!self.currentOrder.paySystem){return \"\";}\n\t\t\tname = self.currentOrder.paySystem;\t\n\t\t}\t\t\t\t\n\t\t//p(\"findOrderCurrency paySystem=\"+self.currentOrder.paySystem);\n\t\tif(name.name){\n\t\t\treturn name.currency;\t\t\t\n\t\t}\t\t\n\t\tvar parts = name.split(\" \");\n\t\t//p(\"findOrderCurrency parts=\"+parts);\n\t\tif(parts.length != 2){return \"\";}\n\t\treturn parts[1];\n\t};\t\t\n\t//\tp(\"ordersPanelController ok\");\t\n\tordersPanel = self;\t\n}\n\n\nfunction loadDisputImage(){\n\tif(ordersPanel.currentOrder.disput.images.length \u003e 3){\n\t\ta(\"\u003cnobr\u003eМожно добавить не более трёх фотографий!\u003c/nobr\u003e\");\n\t\treturn;\t\t\n\t}\t\n    var filesSelected = document.getElementById(\"disputImageInputFile\").files;\n    if (filesSelected.length \u003e 0){       \n        var fileReader = new FileReader();\n        fileReader.onload = function(fileLoadedEvent) {\n            var srcData = fileLoadedEvent.target.result;      \n           // p(\"loadEditedItemImage1: srcData.length=\"+srcData.length);\n            var img = new Image();\n            img.onload = function() {\n            \tsrcData = clearImageAndConvertToBase64(this, 300, 300);               \n                ordersPanel.addDisputImage(srcData);              \n            };           \n            img.src = srcData;           \n        };\n        fileReader.readAsDataURL(filesSelected[0]);\n    };\n};\n \n//\n//\n\n\nvar settingsPanel = {};\n\nfunction settingsController($scope) {\t\n\tvar self = $scope;\t \n\tsettingsPanel = self;\n\t\n\tself.email = \"\";\n\tself.confirmationCode = \"\";\t\n\tself.password = \"\";\t\n\n\tself.step = 1;\n\tself.errorCode = \"\";\n\t\n\tself.showError = function(code, error){self.errorCode=code; if(error){self.error=error;}; self.update();};\n\tself.clearErrors = function(){ self.error=\"\"; self.errorCode=\"\";};\n    self.setStep = function(step){self.step = step;  self.update();};\n    self.update = function(){\ttry{self.$digest();}catch(ignored){}};\n\t\n\tself.recoveryBitcoinAddress = \"\"; \n\t\n\tself.saveJid = function(command){\t\t\n\t\tServer.call(\"userService\", \"saveJid\", [self.user.jid], null, null, command);\t\t\n\t};  \n\n\tself.saveTelegram = function(command){\t\t\n\t\tServer.call(\"userService\", \"saveTelegram\", [self.user.telegram], null, null, command);\t\t\n\t};  \n\t\n\t\n    self.saveCountryCode = function(control){   \n    \tif(!self.user.countryName || self.user.countryName == ''){\n    \t\ta(\"Выберите страну!\"); return;    \t\t\n    \t}\n     \tServer.call(\"userService\", \"saveCountryCode\", [self.user.countryName, self.user.hideCountry], \n\t\t\tfunction(result) {\t   \n\t\t\t   self.data.user = self.user;\t\t\t\t\t\n\t\t\t  // self.updateSessionData ();\t    \t   \n\t    \t   self.update();\n\t\t\t}, null, control);\t   \t\n    };\t\n\t\n\tself.saveRecoveryBitcoinAddress = function(command){\t\t\n\t\tServer.call(\"userService\", \"saveRecoveryBitcoinAddress\", [self.recoveryBitcoinAddress],\n\t\t\tfunction(){\n\t\t\t//myShopPanel.update();\n\t\t\t}, null, command);\t\t\n\t};    \n\t\n\tself.initialShippingAddress = \"\";\n\tself.shippingAddress = \"\";\n\t\n\tperformOnLogin(function(){\t\t\n\t\tself.recoveryBitcoinAddress = root.user.recoveryBitcoinAddress; \t\t\n\t\tself.countriesNames = rootPanel.countriesNames;\n\t\t//p(\"settingsPanel: self.countriesNames.length=\"+self.countriesNames.length);\n\t\tif(self.no(root.user.shippingAddress)){return;}\n\t\tif(self.no(loginPanel.password)){\nreturn;\t\t\t\n\t\t\t\n\t\t\tvar pw = prompt(\"Введите пароль от входа в акаунт\");\n\t\t\tif(!pw){\n\t\t\t\t//\n\t\t\t\ta(\"Почтовый адрес не расшифрован!\");\t\t\t\t\n\t\t\t\tself.update();\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tloginPanel.password = pw;\n\t\t\tsessionStorage.pw = pw;\t\t\t\n\t\t}/**/\n\t\t\n \t\tcryptingPerformer.perform(\"decryptShippingAddressForBuyer\",\n\t\t\t\t {orderAddress: root.user.shippingAddress, password: loginPanel.password},     \t\t\t\t\n\t\t\t\t  function(result){\t\t\t\n\t\t\t\t\t  root.user.shippingAddress = u(result);\n\t\t\t\t\t  self.initialShippingAddress = u(result);\n\t\t\t\t\t  self.shippingAddress = u(result);\n\t\t\t\t\t  self.update();\t\t\t\t\t  \n\t\t\t\t}, function(error){\t\t\t\t\t\n\t\t\t\t\t//\n\t\t\t\t\tp(\"decrypt address error: \"+error);\t\n\t\t\t\t\t//a(\"Ошибка при расшифровке почтового  адреса.\");\t\t\n\t\t\t\t\t  self.initialShippingAddress = u(root.user.shippingAddress);\n\t\t\t\t\t  self.shippingAddress = u(root.user.shippingAddress);\n\t\t\t\t\t  self.update();\t\t\t\t\t\t\n\t\t\t\t}\n\t\t);\t\t\t\n\t});\t\n\t\n    self.saveShippingAddress = function(control){   \n\t\tif(self.no(loginPanel.password)){\t\t\t\n\t\t\tvar pw = prompt(\"Введите пароль от входа в акаунт\");\n\t\t\tif(!pw){\t\t\t\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tloginPanel.password = pw;\n\t\t\tsessionStorage.pw = pw;\t\t\t\n\t\t}    \t    \t\n    \tcryptingPerformer.perform(\"encryptOrderAddressForBuyer\",\n\t\t\t\t {orderAddress: self.shippingAddress, password: loginPanel.password},     \t\n\t\t\t\t \n\t\t\t\t  function(result){\t\t\t\t\t\t\t\t\n\t\t\t     \tServer.call(\"userService\", \"saveShippingAddress\", [result], \n\t\t\t\t\t\tfunction() {\t\n\t\t\t     \t\t//p(\"saveShippingAddress3 result=\"+result);\n\t\t\t     \t\t   self.initialShippingAddress = self.shippingAddress;\n\t\t\t     \t\t   self.user.shippingAddress = self.shippingAddress;\t\n\t\t\t\t\t\t   self.data.user = self.user;\t\t\t\t\t\n\t\t\t\t\t\t   //self.updateSessionData ();\t    \t   \n\t\t\t\t    \t   self.update();\n\t\t\t\t    \t   //p(\"self.user.shippingAddress=\"+self.user.shippingAddress);\n\t\t\t\t    \t   //p(\"self.initialShippingAddress=\"+self.initialShippingAddress);\n\t\t\t\t\t}, null, control);\t \t\t\t\t\t\t\t \n\t\t\t\t}, function(error){\n\t\t\t\t\tp(\"save address error: \"+error);\t\n\t\t\t\t\ta(error);}\n\t\t);\t\t\t  \n    };    \t\n\t \t\n\tself.changePassword = function(control){\t\n\t\tif(self.password.length == 0 ){a(); return;}\n\t\tvar oldPassword = prompt(\"Введите старый пароль\");\n\t\tif(!oldPassword){return;}\n\t\tif(oldPassword != loginPanel.password){a(\"Неправильный пароль!\"); return;}\t\t\n\t\tself.clearErrors();\t\t\t\n\t\tServer.call(\"loginService\", \"changePassword\", self.password,\n\t\t\tfunction(){\t\n\t\t       loginPanel.password = self.password;\n\t\t       loginPanel.update();\t\t\t\t       \n\t\t       self.setStep(5);\t\t\t\t\t\t\n\t\t\t}, function(error){\n\t\t\t\ta(\"Пароль НЕ изменён! Ошибка:\"+error);\n\t\t\t}, control);\t\n\t};\n\t\n\tself.passwordLength = 22;\n\t\n\tself.generatePassword = function(control){\t\t\t\t\n\t\t cryptingPerformer.perform(\"getRandomBase58String\",{size: self.passwordLength}, function(result){\n\t\t\t self.password = result;\n\t\t\t self.update();\n\t\t }, null, control);\t\t\n\t};\t\n\t\n\tself.passwordSaved = false;\n\tself.passwordFile = \"market3.txt\";\n\t\n\tself.savePasswordToFile = function(){\t\n\t\tvar blob = new Blob([\"\"+self.password], {type: \"text/plain;charset=utf-8\"});\n\t\t//var result = \n\t\t\tsaveAs(blob, self.passwordFile);\n\t\tself.passwordSaved = true;\t\t\n\t};\n\t\t\n\n};\n\n\n\n/**/\n    \n   \n//\n//\n\n\nvar cataloguePanel = {};\n\nfunction catalogueController($scope) {\t\t\n\tvar self = $scope;\t \t\t\n\tmerge(cataloguePanel, self);\n\t\n    self.update = function(){try{self.$digest();}catch(ignored){;};};\n    self.currentPanel='itemsList';\n    self.isShop = isShop;    \n    self.initialization = true;   \n    setTimeout(function(){self.initialization = false;}, 1000);             \n    self.measureUnits = ['unit', 'gramm', 'once'] ;    \n\n    self.currentItem =  {};\n    self.currentItemPack = 0;\n \n   \n     self.showAgreements = false;     \n     self.currentAgreements = \"\";     \n     \n     self.agree = function(){\n    \t self.showAgreements=false;\n    \t ordersPanel.agree();    \t \n     };     \n    \n\n    self.userCanRemoveItemReview = function(review){\n    \tif(!review || !review.userNick || !root.user){return false;}\n    \treturn self.isAdmin() || review.userNick==root.user.nick || self.currentItem.userNick == root.user.nick;\n    };\n    \n       \n    /** show item */    \n    \n    self.replenishWarranty = function(){\n    \tselectPanel(\"shopMenu/shopSettings\");\n    };\n    \n    \n    self.buyerNoMatch = false;\n    self.afterInvite = false;\n\n    \n\tself.buyerFilter = {};  // setted on orders panel if server tell that buyer no match seller conditions.  \n        \n\t\n\tself.askInvite = function(command){\n    \t Server.call(\"buyerService\", \"askInvite\",[self.currentItem.id], function(){        \t    \t\n    \t self.afterInvite = true;\n \t\t self.update();    \t\t \n \t     }, function(error){\n \t    \t if(error == \"listed\"){\n \t    \t\t a(\"Разрешение уже получено! Закажите ещё раз.\");\n \t    \t }else{\n \t    \t\t a(error);\n \t    \t }\n \t    \t });\n\t };\n\t\n    self.buyPackage = function(params){\n    \tself.afterInvite = false;\n    \tif(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}    \n    \tself.buyerNoMatch = false;\n    \tordersPanel.buyPackage(params);\n    };\n        \n    self.buyPack = function(pack){\n    \tself.afterInvite = false;\n    \tif(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}\n    \t//if(!confirm(\"Оформлять заказ?1\")){return;}\n    \tself.buyerNoMatch = false;\n    \tordersPanel.buyPack(pack);\n    };\n        \n    \n    var reviewsPageSize = 3;\n    \n     self.setItemReviewsPages = function (item){\n \t     if(!item || !item.reviews){return;}\n \t\t var count = Math.ceil(item.reviews.length/reviewsPageSize);\n \t\t var pages = []; //p(\"getPages: pages count=\"+count);\n \t\t for(var i = 0; i \u003c count; i++){\n \t\t\tpages.push((i+1));\n \t\t }\t\t\t\n \t\t //item.reviews = item.reviews.reverse();\n \t\t item.pages = pages; \t\t \n \t\t item.currentPage = item.pages.length \u003e 0 ?  item.pages[item.pages.length-1] : 0;\n \t\t \n    };\n    \n    self.isItemReviewOnCurrentPage = function(i){    \t     \t\n    \tvar pagesCount = self.currentItem.pages.length;    \t\n\t   \tvar page = Math.floor(i/Util.pi(reviewsPageSize))+1;\n\t   \t// \n\t   \tpage = (pagesCount - page) + 1;\n\t   \treturn page == self.currentItem.currentPage;    \t\n    };\n    \n    \n    self.sendItemReview = function(command){\n    \t if(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}\n    \t /*if((self.currentItem.userNick == root.user.nick) \u0026\u0026 !root.user.admin){\n \t\t\ta(\"Нельзя добавить обзор к собственному товару!\");\n \t\t\treturn;\n \t     }\t\t*/\n    \t self.showSendItemReviewControls=false;\n    \t//p(\"itemId=\"+self.currentItem.id+\", text=\"+self.currentItem.newReviewText);\n    \t Server.call(\"catalogueService\", \"addItemReview\",     \t\t\t\t \n    \t       \t\t[self.currentItem.id, e(self.currentItem.newReviewText)], function(id){    \t\n    \t\t var newReview = {id: id, itemId: self.currentItem.id, \n    \t\t\t\t userNick: self.user.nick, message: self.currentItem.newReviewText, created: Util.now()};    \t\t \n    \t\t self.currentItem.reviews = [newReview].concat(self.currentItem.reviews);   \t    \t\t \n    \t\t self.setItemReviewsPages(self.currentItem);   \n    \t\t self.update();\n    \t }, null, command);\n    };\n    \n    self.reviewPredicate = \"id\";\n    self.reviewReverse = false;\n    \n    self.isAdmin = function(){return root.user ? root.user.admin||root.user.supervisor : false;};\n    \n    self.removeItemReview = function(review){\n    \t if(!root.loged){selectPanel(\"mainMenu/entrance\"); return;}\n    \t if(!confirm(\"Удалить отзыв?\")){return;}\n    \t Server.call(\"catalogueService\", \"removeItemReview\",     \t\t\t\t \n    \t       \t\t[review.id], function(){        \t\t \n    \t\t self.currentItem.reviews = deleteById(self.currentItem.reviews, review);\n    \t\t self.update();    \t\t \n    \t });\n    };   \n    \t    \n    self.itemIsVisibleOnlyForSeller = function(item){\n    \tif(!root.user){return false;}\n    \treturn !item.isActive \u0026\u0026 (item.userNick == root.user.nick );\n    };   //\u0026\u0026 !myShopPanel.myShop.isActive \n    \n    self.refreshCurrentItem = function(command){\n    \t//p(\"refreshCurrentItem \"+command);\n    \tself.currentItem.checked = false;\n    \tself.showItem (self.currentItem, command);\n    };\n    \n    self.items = [];\n    \n    self.isLoadingItems = true;\n    \n    self.loadItems = function(command){\n    \tServer.call(\"catalogueService\", \"getShopItems\", [shopSellerNick] , function(items){\n\t\t\t for (var i = 0; i \u003c items.length; i++) {\t\n\t\t\t\t    self.decodeItem(items[i]);\n\t\t\t }   \t    \t\t\t\n\t\t\t self.items = items;\n\t\t\t self.isLoadingItems = false;\n\t\t\t self.update();\n\t\t\t suspendEnable(command);\n    \t}, function(error){\n    \t\tif(error.indexOf(\"Seller not found\") \u003e -1){    \t\t\t\n    \t\t\tif((\"\"+document.location)!= \"http\"+s+\"://\"+ document.location.host +\"/\"+lang){\n    \t\t\t\talert(\"Seller \\\"\"+shopSellerNick+\"\\\" not found! Redirect to market.\");\n    \t\t\t\tdocument.location = \"http\"+s+\"://\"+ document.location.host +\"/\"+lang;\t\n    \t\t\t}   \t\t\t    \t\t\n    \t\t}\n    \t}, command);\n    \t\n    \t\n    };\n    \n    self.itemLoadings = {};\n    \n    self.showItem = function(item, command){    \n    \t//p(\"showItem \"+command);\n    \tif(self.itemLoadings[\"i\"+item.id] === true){return;}\n    \t//p(\"showItem \"+item.id);\n    \tself.currentItem = item;    \t         \n    \t//self.currentItem.packs = [{district: \"1 район\", id: 1},{district: \"2 район\", id: 1}];    \t\n    \tif(!self.currentItem.newReviewText){self.currentItem.newReviewText = \"\";}\n    \tself.currentPanel='itemDetails';\t\t\n    \t\n    \tif(!item.checked \u0026\u0026 pi(item.id) \u003e 0){    \t\t\n    \t\tself.itemLoadings[\"i\"+item.id] = true;\n       \t\tServer.call(\"catalogueService\", \"checkItem\", [item.id] , function(result){\n       \t\t\t//p(\"after check item\");\n       \t\t\t self.itemLoadings[\"i\"+item.id] = false;\n       \t\t\t var newItemImages = result.images;      \t\t\t \n   \t    \t\t// for(var i = 0 ; i \u003c newItemImages.length; i++){\n   \t    \t\t//\t newItemImages[i].base64 = newItemImages[i].base64.split(\" \").join(\"+\");\n   \t    \t\t //}   \t    \t\t   \n   \t    \t\t self.currentItem.sellerCountry = result.sellerCountry;  \n       \t\t\t self.currentItem.images = newItemImages;   \t   \n       \t\t\t self.currentItem.userNick = result.userNick;  \n       \t\t\t for(var i = 0 ; i \u003c result.packages.length; i++){\n       \t\t\t\t var itemPackage = result.packages[i];       \t\t\t\t\n       \t\t\t\t itemPackage.orderedCount = 1;       \t\t\t\t \n       \t\t\t\t itemPackage.priceView = itemPackage.price \u003e 0.0 ? \n       \t\t\t\t\t(itemPackage.price +\" \"+itemPackage.currency+\"  \"+\n       \t\t\t\t   round4(root.toBitcoins(itemPackage.price, itemPackage.currency))+\" ฿\") : (\"пробник\");  \n       \t\t\t\t\t\n       \t\t\t\titemPackage.actionView = itemPackage.price \u003e 0.0 ? 'купить' : 'получить';\n      \t\t\t\t \n       \t\t\t\t var packs = result.packages[i].packs;\n       \t\t\t\t //p(\"packs.length=\"+packs.length);\n       \t\t\t\t for(var ii = 0 ; ii \u003c packs.length; ii++){\n       \t\t\t\t\t //packs[ii].itemPackage = itemPackage;\n       \t\t\t\t\t packs[ii].actionView = itemPackage.actionView;\n       \t\t\t\t\t //p(\"pack[\"+ii+\"].images.length=\"+(packs[ii].images ? packs[ii].images.length : \"null\"));    \t\t\t\t\t \n       \t\t\t\t }       \t\t\t\t \n       \t\t\t }  \t\t\t        \t\t\t        \t\t\t \n       \t\t\t self.currentItem.packages = result.packages;    \n        \t\t for(var i = 0; i \u003c result.reviews.length; i++){\n       \t\t\t\t result.reviews[i].message = u(result.reviews[i].message);\n       \t\t\t }  \t\t\t \n       \t\t\t self.currentItem.reviews = result.reviews;          \t\t\t \n       \t\t\t self.currentItem.checked = true;\n       \t\t\t self.setItemReviewsPages(self.currentItem); \n       \t\t\t self.update();      \n       \t\t\t// p(\"showItem: suspendEnable \"+command);\n       \t\t\t suspendEnable(command);\n       \t\t }, function(error){\n       \t\t\ta(error);\n       \t\t\tself.itemLoadings[\"i\"+item.id] = false;\n       \t\t }, command);             \t\t        \t\t\n    \t};  \n    };       \n    \n    self.decodeItem = function(item){\n    \t //item.icon = item.icon.split(\" \").join(\"+\");\n\t\t item.city = u(item.city);\n\t\t item.region = u(item.region);\n\t\t item.name = u(item.name);\n\t\t item.description = u(item.description);\t    \t\n\t\treturn item;\n    };    \n     \n    cataloguePanel = self;\t   \n};\n \n\n\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody x-ng-controller=\"rootController\"  style=\"overflow-x:hidden;\"\u003e\n\u003cdiv id=\"mainLoadingDiv\" style=\"padding: 50px;\"\u003e\n       \u003ctable\u003e\u003ctr\u003e\u003ctd\u003e\u003cdiv class=\"loading\"\u003e\u003c/div\u003e\u003c/td\u003e\u003ctd\u003e\u0026nbsp;\u0026nbsp;\u0026nbsp;X-Shop        \n       \u003c/td\u003e\n       \u003ctd style=\"padding-left: 24px;\"\u003e\n       \u003csmall id=\"loadingInfo\"\u003einitializing ...\u003c/small\u003e\u003c/td\u003e\u003c/tr\u003e       \n       \u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv id=\"mainLoadedDiv\" style=\"display: none;\"\u003e\n\n\n\n\n\u003cstyle\u003e\n\n.alertMessagePanel {\n\tbackground-color: #999999;\n\tborder: #aaaaaa 4px solid;\n\tborder-radius: 9px;\n\tpadding: 9px;\n}\n\n.alertMessageText {\n\tfont-family: verdana, tahoma, arial;\n\t/*font-weight: bold;*/\n\tfont-size: 18;\n\tcolor: white;\n\tpadding: 6px;\n}\n\n.closeAlertMessageText {\n\tfont-family: tahoma, arial;\n\tcursor: pointer;\n\tcolor: lightsteelblue;\n\tpadding-left: 24px;\n\tfont-weight: bold;\n\tfont-size: 12\n}\n\n.closeAlertMessageTextAlert {\n\tfont-family: tahoma, arial;\n\tcursor: pointer;\n\tcolor: steelblue;\n\tpadding-left: 24px;\n\tfont-weight: bold;\n\tfont-size: 12\n}\n\n\n\u003c/style\u003e\n\u003cdiv id=\"alertMessageContainer\"\n\tstyle=\"position: fixed; left: 7px; top: 7px; display: none\"\u003e\n\t\u003ctable class=\"pageFormat\" style=\"width: 100%; height: 100%\"\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd valign=\"middle\" align=\"left\"\u003e\n\t\t\t \u003cdiv  class=\"alertMessagePanel\"\u003e\n\t\t\t\t\u003ctable\n\t\t\t\t\tstyle=\"opacity: 1.0; filter: alpha(opacity =  1); -moz-opacity: 1;\"\u003e\n\t\t\t\t\t\u003ctr\u003e\n\t\t\t\t\t\t\u003ctd align=\"left\" valign=\"top\"\u003e\n\t\t\t\t\t\t\u003cdiv\n\t\t\t\t\t\t\tstyle=\"border-radius: 3px; font-family: courier; cursor: default; width: 16px; color: white;\n\t\t\t\t\t\t\t background-color: steelblue; text-align: center;\"\u003e\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\u003cspan title=\"щёлкните, чтобы закрыть эту панель\"\n\t\t\t\t\t\t\tonclick=\"hideAlertMessage()\"\u003e\u003cb\n\t\t\t\t\t\t\t\tstyle=\"cursor: pointer; color: white;\"\u003e×\u003c/b\u003e\u003c/span\u003e\n\t\t\t\t\t\t\t\u003c/div\u003e\t\n\t\t\t\t\t\t\u003c/td\u003e\n\t\t\t\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\t\t\t\u003c/tr\u003e\n\t\t\t\t\t\u003ctr\u003e\n\t\t\t\t\t\t\u003ctd align=\"left\" style=\"padding: 12px;\" colspan=\"2\"\u003e\u003cspan\n\t\t\t\t\t\t\tclass=\"alertMessageText\" id=\"alertMessageElement\"\u003e\u003c/span\u003e\u003c/td\u003e\n\t\t\t\t\t\u003c/tr\u003e\n\t\t\t\t\t\u003ctr style=\"height: 15px\"\u003e\n\t\t\t\t\t\t\u003ctd align=\"left\" onclick=\"hideAlertMessage()\" colspan=\"2\"\n\t\t\t\t\t\t\tclass=\"closeAlertMessageText\"\n\t\t\t\t\t\t\tonmouseout=\"setStyleClass(this,'closeAlertMessageText')\"\n\t\t\t\t\t\t\tonmouseover=\"setStyleClass(this, 'closeAlertMessageTextAlert')\"\n\t\t\t\t\t\t\ttitle=\"щёлкните, чтобы закрыть эту панель\"\u003eзакрыть\u003c/td\u003e\n\t\t\t\t\t\u003c/tr\u003e\n\t\t\t\t\u003c/table\u003e\n\t\t\t\u003c/div\u003e\t\n\t\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\u003c/div\u003e\n\n\t\n\n\u003cstyle\u003e\n\n.forumLabel, .forumLabel:hover, .forumLabelDev, .forumLabelDev:hover{\n    z-index: 100;\n    position: fixed;\n    right: -9px;\n    top: 100px;\t\n\tpadding: 8px;\n\tfont-weight: bold;\n\tcursor: pointer;\n    border-radius: 9px;\n}\n\n.forumLabelDev{\n    background-color: #666666;\n\tcolor: #aaaaaa;\n\tborder: #eeeeee 4px solid;\n}\n\n.forumLabelDev:hover{\n    background-color: #444444;\n\tcolor: #eeeeee;\n\tborder: #aaaaaa 4px solid;\n}\n\n.forumLabel{\n    background-color: #669966;\n\tcolor: #aaaaaa;\n\tborder: #eeeeee 4px solid;\n}\n.forumLabel:hover{\n\tcolor: #eeeeee;\n\tborder: #aaaaaa 4px solid;\n}\n\n #openForumLink{    \n\ttext-decoration: none;\n}\n\n\u003c/style\u003e\n\u003cform id=\"forumLinkForm\" method=\"get\" target=\"_blank\" action=\"\" style=\"display: none; position: absolute;\"\u003e\n\u003c/form\u003e\n\n\n\u003cdiv   onclick=\"openForum()\" title=\"Forum under development! \nФорум в разработке!\" id=\"forumLabelContainer\" class=\"forumLabel nowhere\"\u003e\nФ\u003cbr/\u003e\nО\u003cbr/\u003e\nР\u003cbr/\u003e\nУ\u003cbr/\u003e\nМ\u003c/div\u003e\n\n\u003cscript\u003e \n var openForumInProgress = false;\n var openForum = function() {\n\tif(!root.loged){\n\t\tselectPanel('mainMenu/entrance');\n\t\ta(\"\u003cs:t\u003eПожалуйста, сначала залогиньтесь!\u003c/s:t\u003e\"); \n\t\treturn;\n    }\t\n\tif(openForumInProgress){\n\t\ta(\"\u003cs:t\u003eПодождите ...\u003c/s:t\u003e\"); \n\t\treturn;\n\t}\n\topenForumInProgress = true;\n\tServer.call(\"forumService\", \"getForumLink\", [location.host +\"/\"+location.pathname, lang], \n\t\tfunction(link){\t\t\n\t\t    openForumInProgress = false;\n\t\t\tge(\"forumLinkForm\").setAttribute(\"action\", link);\t\t\n\t\t\tge(\"forumLinkForm\").submit();\t\t\t\t\n\t\t\thideAlertMessage();\n\t\t}, function(error){\n\t\t\topenForumInProgress = false;\n\t\t\ta(translateForumError[error] || error);\n\t\t}\n\t);\t\n  };   \n  var translateForumError = {\n\t\t  \"forum_unavailable\": \"\u003cs:t\u003eФорум недоступен!\u003c/s:t\u003e\",\n  };\n\n\u003c/script\u003e\n\n\n\n\n\n\n\n\n\n\t\n\u003cdiv id=\"header1\" style=\"z-index: 100;\"\u003e\n\u003cdiv id=\"headerDiv\"\tclass=\"header-div\"\u003e\n\t\u003ctable  id=\"mainMenu\" x-menu-bar=\"mainMenu\" x-menu-class=\"menu1\" class=\"menu-main\"\u003e\n\t\t\u003ctr\u003e\t\t\n\t\t   \u003ctd class=\"brand-cell nobr\"\u003e\t\t\t\n\t\t   \t    \u003cdiv  x-menu-selector=\"mainMenu/home\"\u003e\t\t   \t    \n\t\t\t\t\t   \u003cdiv class=\"brand\" title=\"главная страница сервиса\" \n\t\t\t\t\t        x-ng-show=\"true\"\u003e\n\t\t\t\t\t        \u003cspan class=\"shopSellerNickClass\"\u003e\n\t\t\t\t\t           \u003cspan\u003e{{shopSellerNick}}\u003c/span\u003e\n\t\t\t\t\t        \u003c/span\u003e\n\t\t\t\t\t   \u003c/div\u003e\t\t\t\t\t\t   \n\t\t\t\t \u003c/div\u003e\t\t   \t\t\t\t\t\t\t\t\n\t\t\t\u003c/td\u003e\t\t\n\t\t\t\t\t\t\n\t\t\t\u003ctd  class=\"large-header-menu\" style=\"width: 90px;\" align=\"center\" title=\"Каталог товаров\"\u003e\t\t\t\n\t\t\t\t\t\u003cspan x-menu-item=\"catalogue\"\u003eКаталог\u003c/span\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd\u003e\t\t\t\n\t\t\t\t\t\u003cdiv class=\"nowhere\"\u003e\u003ca x-menu-item=\"home\"\u003ehome\u003c/a\u003e\u003c/div\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd  class=\"large-header-menu\" style=\"width: 90px; padding-right: 6px;\" \n\t\t\t     align=\"right\" title=\"Мои заказы\"\u003e\t\t\t\n\t\t\t\t\t\u003cspan x-menu-item=\"orders\"\u003eЗаказы\u003c/span\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd style=\"width: 20px;\"\u003e\t\t\n\t\t\t\t\t\u003cspan x-ng-show=\"activeOrdersCount\u003e0\" title=\"active orders count\" \n\t\t\t\t\t      style=\"color: red\"\u003e\u003csmall x-ng-bind=\"activeOrdersCount\"\u003e\u003c/small\u003e\u003c/span\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd class=\"large-header-menu nobr\" style=\"width: 70px; padding-right: 6px;\" title=\"Моя переписка\"\u003e\n\t\t\t\t\t\u003cspan x-menu-item=\"penpal\"\u003eПереписка\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t\n\t\t\t\u003ctd style=\"width: 20px;\"\u003e\t\t\n\t\t\t\t\t\u003cspan x-ng-show=\"unreadMessagesCount\u003e0\" title=\"unread messages count\" \n\t\t\t\t\t      style=\"color: red\"\u003e\u003csmall x-ng-bind=\"unreadMessagesCount\"\u003e\u003c/small\u003e\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t\n\t\t\t\t\t\t\n\t\t\t\u003ctd align=\"right\" style=\"width: 60px; padding-right: 6px;\" title=\"настройки\"\u003e\n\t\t\t\u003cspan class=\"small-header-menu\"\u003e\n\t\t\t\u003cspan x-menu-item=\"settings\" class=\"small-header-menu\"\u003eНастройки\u003c/span\u003e\n\t\t\t\u003c/span\u003e\t\t\t\n\t\t\t\u003c/td\u003e \t\t\n\t\t\t\t\t\n\t\t\t\u003ctd style=\"width: 60px;\" align=\"right\" title=\"Курсы биткоина обновляются автоматически\"\u003e\n\t\t\t\t\t\u003cspan class=\"small-header-menu nobr mainRatesClass\" \u003e\n\t\t\t\t\t1฿ = {{round2(rates[currentCurrency])}} \t\t\t\t\t\n\t\t\t\t\t\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\n\t\t\t\n\t\t\t\u003ctd style=\"width: 60px;\" align=\"left\" title=\"в этой валюте будут отображаться цены на товары\"\u003e\n\t\t\t\t\t\u003csmall\u003e\u003cselect class=\"mainCurrenciesClass\"  x-ng-keypress=\"onchange()\"\n                            x-ng-model=\"currentCurrency\" x-ng-options=\"c for c in currencies\"\u003e\n                     \u003c/select\u003e\u003c/small\u003e\t\t\t\n\t\t\t\u003c/td\u003e\t\t\t\t\t\t\t\n\t\n\t\t\t\n\u003cstyle\u003e\n\n#langsMenu {\t\n\tbackground-repeat: repeat-y;\n\tposition: absolute; padding-top: 10px;\t\n}\n#langsMenu td {\t\n\tcolor: #ccc;\n\tfont-size: 12;\n\tpadding: 6px;\n\tcursor: pointer;\n}\n.langArrowOut{\n\tcolor: #bbb;\n}\n.langArrowOver{\n\tcolor: #fff;\n}\n.langArrowOut, .langArrowOver{\n    font-size: 10; padding-left: 4px;\n}\n.langArrowOver{\n\tcolor: #fff;\n}\n#currentLangCell { padding-left: 6px;} \n#currentLangCell, #langArrowCell{\n padding-top: 6px;\n}\n.ru_lang, .en_lang{\nwidth: 18px; height: 13px;\n background-repeat: no-repeat;\n}\n\n\u003c/style\u003e\n\t\t\t\u003ctd x-ng-show=\"true\" x-ng-controller=\"langsController\" style=\"padding-left: 10px; width: 30px;\" id=\"langsCell\"\u003e\n\t\t\t  \u003ctable\u003e\u003ctr style=\"cursor: pointer;\" \u003e\n\t\t\t  \u003ctd id=\"currentLangCell\"\u003e\t\t\t  \n\t\t\t  \u003cdiv title=\"{{mylangs[currentLang].name}}\" class=\"{{currentLang}}_lang\"\n\t\t\t       x-ng-click=\"visible=true\"\u003e\u003c/div\u003e\t\t\t  \n\t\t\t  \u003c/td\u003e\n\t\t\t  \u003c/tr\u003e\n\t\t\t  \u003ctr\u003e\u003ctd\u003e\n\t\t\t  \n\t\t\t  \u003cdiv  id=\"langsMenu\" x-ng-show=\"visible\"  x-ng-mouseleave=\"visible=false;\"\u003e\n\t\t\t    \u003ctable\u003e\t\t\t    \n\t\t\t     \u003ctr x-ng-repeat=\"lang in mylangs\" x-ng-show=\"lang.code != currentLang\"\n\t\t\t         x-ng-click=\"selectLang(lang.code)\"\u003e\t\t\t    \n\t\t\t      \u003ctd\u003e\n\t\t\t        \u003cdiv class=\"{{lang.code}}_lang\"\u003e\u003c/div\u003e\n\t\t\t      \u003c/td\u003e\u003ctd x-ng-bind=\"lang.name\"\u003e\u003c/td\u003e\n\t\t\t     \u003c/tr\u003e\t\n\t           \u003c/table\u003e\t\t\t  \n\t\t\t  \u003c/div\u003e\n\t\t\t  \n\t\t\t  \u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\t\t\t  \n\t\t\t\u003c/td\u003e\n\t\t\t\t\t\n\t\t\t\u003ctd style=\"width: 60px;\"  title=\"Вход и регистрация\"\u003e\n\t\t\t\t\u003cspan class=\"small-header-menu\"\u003e\t\t\t\n\t\t\t\t\u003cspan id=\"logInLink\"  x-menu-item=\"entrance\"\u003e\n\t\t\t\t\u003cspan x-ng-hide=\"loged\"\u003eВход\u003c/span\u003e\n\t\t\t\t\u003cspan x-ng-show=\"loged\"\u003eВыход\u003c/span\u003e\n\t\t\t\t\u003c/span\u003e\n\t\t\t\t\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t\n\t\t\t\u003ctd\u003e\t\t\t\n\t\t\t\u003cspan class=\"command\" x-ng-show=\"isLocal\" onclick=\"reloadCache();\"\u003eRebuild\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t\n\t\t\t\n\t\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv id=\"body1\"\u003e\n      \n\n\u003cstyle\u003e\n.upOver{color: steelblue;}\n.upOut{color: lightsteelblue;}\n\u003c/style\u003e      \n\u003cdiv id=\"upArrowContainer\"\tclass=\"nowhere\"\u003e\n  \u003cdiv id=\"upArrow\"\tclass=\"upOut\"\t\n       style=\"font-size: 14; padding-left: 6px; \n       position: fixed; padding-top: 70px;\"\u003e\u0026#9650;\u003c/div\u003e\n\u003c/div\u003e\t\n      \u003ctable  style=\"height: 100%; width: 100%;\"\u003e\u003ctr\u003e\n      \u003ctd valign=\"top\" style=\"padding-top: 65px; padding-bottom: 65px; padding-left: 42px;\"\u003e    \n         \n\t\t    \u003cdiv x-menu-panel=\"home\" style=\"margin-left: 20px;\" class=\"_homeDivClass\"\u003e   \n\t    \n\t\t\t\t\u003ctable\u003e\u003ctr\u003e\u003ctd\u003e\n\t\t\t\t\u003cimg  x-ng-src=\"{{shopLogo}}\" /\u003e\n\t\t\t\t\u003c/td\u003e\u003ctd style=\"padding-left: 42px;\"\u003e\n\t\t\t\t\u003cdiv id=\"shopWelcomeText\" style=\"font-size: 14; font-family: verdana\"\u003e\u003c/div\u003e\n\t\t\t\t\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\t\t\t\t\n\t\t\t\t\u003cdiv style=\"margin-top: 40px;\"\u003e\n\t \t\n\t\t\t\t\u003cbr/\u003e\n\t\t\t\t\u003ca href=\"/xyz123/apk/mobile.v.{{apkVersion}}.{{shopSellerNick}}.apk\" target=\"_blank\" \n\t\t\t\t   class=\"nobr command\"\n\t\t\t\t   title=\"Ссылка для установки приложения\"\u003e\n\t\t\t\tСкачать приложение для Android\u003c/a\u003e\n\t\t\t\t\u003cbr/\u003e\u003cbr/\u003e\n\t\t\t\t\u003cdiv class=\"nobr\"\u003e\n\t\t\t\t\t\u003cb style=\"margin-right: 24px;\"\u003eБоты:\u003c/b\u003e  \u003cbr/\u003e\t\t\t\t\t\n\t\t\t\t\t\u003ctable class=\"table6\" style=\"width: 400px;\"\u003e\n\t\t\t\t\t\u003ctr\u003e\u003cth align=\"left\"\u003eсеть\u003c/th\u003e\u003cth\u003eадрес\u003c/th\u003e\u003cth\u003eсостояние\u003c/th\u003e\u003c/tr\u003e\n\t\t\t\t\t\u003ctr x-ng-repeat=\"bot in bots\" x-ng-show=\"!bot.isHidden\"\u003e\n\t\t\t\t\t   \u003ctd\u003e{{bot.family}}\u003c/td\u003e\u003ctd\u003e{{bot.address}}\u003c/td\u003e\u003ctd\u003e{{bot.state}}\u003c/td\u003e\u003c/tr\u003e\n\t\t\t\t\t\u003c/table\u003e\t\t\t\t\t\n\t\t\t\t\t\u003cbr/\u003e\u003cbr/\u003e\t\t\t\t\t\n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\n\t\t\t    \u003c/div\u003e\t\t\t\t\t\n\t\t\t\t\n\t\t    \u003c/div\u003e\n\t\t    \n\t\t    \u003cdiv class=\"nowhere\"\u003e\n\t\t    \n\n\u003cstyle\u003e\n#ratesTable .thHead th {height: 50px; vertical-align: bottom; }\n#ratesTable td {padding: 4px;}\n#ratesTable th {padding: 6px; text-align: left; }\n/**letter-spacing: 1.0; word-spacing: 5px;*/\n#ratesTable{margin-left: 42px; width: 700px; margin-top: 24px;} \n\u003c/style\u003e\n\u003cdiv x-menu-panel=\"rates\" style=\"padding-left: 42px;\" x-ng-controller=\"ratesController\"\u003e \n \u003cdiv\u003e\n  \u003ctable id=\"ratesTable\" class=\"table\"\u003e\n   \u003ctr\u003e\n   \u003cth colspan=\"2\" class=\"nobr\"\u003e\u003ch4\u003eКурсы поддерживаемых валют \u003c/h4\u003e\u003c/th\u003e\n   \u003c/tr\u003e  \n   \u003ctr class=\"thHead\"\u003e   \n    \u003cth\u003ecurrency\u003c/th\u003e\n    \u003cth\u003efor 1 BTC\u003c/th\u003e \n   \u003c/tr\u003e\n   \u003ctbody\u003e \n   \u003ctr x-ng-repeat=\"rate in rates\"\u003e   \n    \u003ctd\u003e{{rate.currency}}\u003c/td\u003e\n    \u003ctd\u003e{{round8(rate.rate)}}\u003c/td\u003e  \n   \u003c/tr\u003e\n   \u003ctr\u003e\u003cth colspan=\"6\"\u003e\u0026nbsp;\u003c/th\u003e\u003c/tr\u003e      \n   \u003c/tbody\u003e\n  \u003c/table\u003e  \u003cbr/\u003e\u003cbr/\u003e\n\t\u003cdiv class=\"alert alert-info nobr left\"\u003e\n\t        Информация обновляется один раз в 15 минут.\n\t\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\t\t\n\t\t    \u003c/div\u003e\t\n\t\t    \t  \n\t\t    \u003cdiv x-menu-panel=\"penpal\" style=\"margin-left: 20px;\"\u003e\n\t\t\t\n\n\u003cstyle\u003e\n .balloon {\n  position:relative;\n  padding:9px;\n  padding-top:1px;\n  padding-bottom:1px;\n  margin:1em 0 3em;\n  color:#000;\n  -webkit-border-radius:9px;\n  -moz-border-radius:9px;\n  border-radius:9px;\n  margin-top: 6px;\n  margin-bottom: 0px;    \n  text-align: left;\n}\n\n.balloon.negativeReview {\t\n  background:#fdd;  \n}\n\n.balloon.me {\t\t\n  background:#e8ffe8;  \n}\n\n.balloon.unread {\t\t\n  background:#cec;  \n}\n\n.balloon.unreadmy {\t\t\n  background:#c8c8dd;  \n}\n\n.balloon.my {\n  background:#e8e8ff;  \n}\n\n\u003c/style\u003e\n\n\t\u003cdiv x-ng-show=\"!loged\"\u003e\n\t\t\u003cdiv class=\"alert alert-warning nobr\"  x-ng-click=\"selectPanel('mainMenu/entrance')\"\u003e\n\t\t\tЧтобы вести переписку - нужно\u0026nbsp;\n\t\t\t\u003cspan class=\"command\"\u003e\t\t\t\n\t\t\t\tвойти в систему\n\t\t\t\u003c/span\u003e\n\t\t\u003c/div\u003e\n\t\u003c/div\u003e\n\n\n\n\u003cdiv id=\"penpalDiv\" class=\"_messagesDivClass\" x-ng-show=\"loged\"\n     x-ng-controller=\"penpalController\" style=\"margin-left: 30px; padding-top: 18px;\"\u003e\n\n\u003cdiv x-ng-show=\"loged\"\u003e\n\n\n\u003ctable  style=\"margin-top: 0px; width: 900px;\"\u003e\u003ctr\u003e\n\n\u003ctd id=\"leftPanel\" style=\"width: 250px;\" valign=\"top\"\u003e\n\u003ch4\u003eконтакты\u003c/h4\u003e\n\u003cinput type=\"text\" x-ng-model=\"newNick\" style=\"width: 240px;\" placeholder=\"type nick here\"\n       onkeypress=\"if(event.keyCode==13){penpalPanel.addContact(ge('addContactButton'));}\"\n/\u003e\u003cbr/\u003e\n\u003cinput type=\"button\" x-ng-disabled=\"newNick == ''\" class=\"btn btn-success\" id=\"addContactButton\"\nx-ng-click=\"addContact($event.target)\" value=\"добавить контакт\" style=\"width: 240px; margin-top: 6px;\"/\u003e\n\u003cbr/\u003e\u003cbr/\u003e\n\u003csmall\u003e\u003clabel class=\"command\"\u003e\u003cinput type=\"checkbox\" x-ng-model=\"showUnreadOnly\"/\u003e\n       \u0026nbsp;только с непрочитанными\u003c/label\u003e\u003c/small\u003e\n\u003cbr/\u003e\u003cbr/\u003e\n\u003cdiv class=\"nobr\" style=\"border: 4px solid #ddd; border-radius: 4px; height: 600px; width: 230px; overflow: auto;\"\u003e\n\n\u003ctable class=\"table8\"\u003e\n\u003ctr x-ng-repeat=\"contact in contacts track by $index\" x-ng-show=\"isContactVisible(contact)\"\n    style=\"background-color: {{contact.nick==currentContact.nick ? '#e8ffe8' : '#fff'}};\"\u003e\n\u003ctd style=\"width: 20px;\" class=\"nobr\"\u003e\n\u003cdiv class=\"lock\" title=\"можно вести шифрованную переписку\" x-ng-show=\"contact.publicKey.length \u003e 0\"\u003e\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd x-ng-click=\"selectContact(contact.nick)\" \n    class=\"{{ currentContact.nick == contact.nick ? 'green' : 'command'}}\"\u003e\n\u003cspan title=\"{{contact.creationTime| date:'yyyy-MM-dd HH:mm:ss'}}\"\u003e{{contact.nick}}\u003c/span\u003e      \n\u003c/td\u003e\n\u003ctd\u003e\n  \u003cspan  title=\"unread count\" x-ng-show=\"contact.unread\u003e0\"\u003e\u003csmall\u003e\u003cb\u003e {{contact.unread}}\u003c/b\u003e\u003c/small\u003e\u003c/span\u003e\n  \u003cspan  style=\"color: #ccc\" title=\"total count\" \n         x-ng-show=\"(!contact.unread || contact.unread==0) \u0026\u0026 contact.messagesCount\u003e0\"\u003e\n         \u003csmall\u003e\u003cb\u003e {{contact.messagesCount}}\u003c/b\u003e\u003c/small\u003e\u003c/span\u003e  \n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e       \n\u003c/div\u003e\n\u003c!-- \u0026#9664;  \u0026#9654; --\u003e\n\u003cdiv style=\"margin-top: 16px;\"\u003e\n\u003cinput type=\"button\" x-ng-disabled=\"currentContact == null\" class=\"btn\" id=\"removeContactButton\"\n       x-ng-click=\"removeContact($event.target)\" value=\"удалить контакт\" \n       style=\"width: 230px; margin-top: 6px;\"/\u003e\n\u003c/div\u003e\n\n\u003ctable style=\"width: 230px; margin-top: 16px;\"  title=\"сколько сообщений загружать\"\u003e\n\t\u003ctr\u003e     \n\t\u003ctd\u003e\t\n\t\u003csmall style=\"color: #bbb;\" class=\"nobr\"\u003e\u003clabel\u003e\n\t100 крайних\n\t\u003cinput type=\"radio\" x-ng-model=\"loadCount\" value=\"last100\"\u003e\n\t\u003c/label\u003e\u003c/small\u003e\n\t\u003c/td\u003e\n\t\u003ctd\u003e\t\n\t\u003csmall style=\"color: #bbb;\" class=\"nobr\"\u003e\u003clabel\u003e\n\tВсе\n\t\u003cinput type=\"radio\" x-ng-model=\"loadCount\" value=\"all\"\u003e\n\t\u003c/label\u003e\u003c/small\u003e\n\t\u003c/td\u003e\t\n\t\u003c/tr\u003e \n\u003c/table\u003e\n\n\n\u003c/td\u003e\n\n\u003ctd id=\"rightPanel\" style=\"width: 800px; padding-left: 20px;\" valign=\"top\"\u003e\n\u003ctable style=\"height: 60px;\"\u003e\u003ctr\u003e\n\u003ctd valign=\"top\" style=\"padding-top: 6px; height: 60px;\"\u003e\n\u003cinput type=\"button\" class=\"btn btn-info \" style=\"margin-right: 16px;\"\n   id=\"refreshMessagesButton\"\n   x-ng-click=\"refreshMessages($event.target)\" title=\"проверить есть ли новые сообщения\" \n   value=\"\u0026#8634;\"/\u003e    \n\u003c/td\u003e\n\u003ctd valign=\"top\"\u003e\u003ch4\u003eсообщения\u003c/h4\u003e\u003c/td\u003e\n\n\n\u003ctd style=\"padding-left: 24px; padding-top: 6px;\"class=\"nobr\" valign=\"top\"\u003e\n\n \u003cbutton x-ng-show=\"keyState=='no'\" \n   type=\"button\" class=\"btn btn-primary\" style=\"margin-left: 6px;\"\n   x-ng-click=\"loadCryptingScripts($event.target)\" \n   title=\"создать ключевую пару для шифрования сообщений алгоритмом RSA\"\u003e    \n   включить шифрование RSA     \n \u003c/button\u003e      \n         \n \u003cdiv class=\"alert alert-info\" x-ng-show=\"keyState=='cryptingScriptsLoading'\"\u003eзагрузка скриптов для шифрования ...\u003c/div\u003e     \n \u003cdiv class=\"alert alert-info\" x-ng-show=\"keyState=='keyPairGeneration'\"\u003eгенерация и шифрование ключей...\u003c/div\u003e   \n \u003cdiv class=\"alert alert-info\" x-ng-show=\"keyState=='keyPairSending'\"\u003eотправка ключей на сервер ...\u003c/div\u003e  \n \u003cdiv class=\"alert alert-info\" x-ng-show=\"keyState=='keyPairLoading'\"\u003eзагрузка ключей с сервера ...\u003c/div\u003e   \n \u003cdiv class=\"alert alert-info\" x-ng-show=\"keyState=='keyPairDecrypting'\"\u003eрасшифровка приватного ключа ...\u003c/div\u003e \n \u003cdiv class=\"alert alert-success\" x-ng-show=\"keyState=='keyPairDecrypted'\"\u003eшифрование включено\u003c/div\u003e \n\n  \u003cinput \n         onkeypress=\"if(event.keyCode==13){try{ge('decrypPrivateKeyButton').click();}catch(ignored){}}\"\n         placeholder=\"пароль для приватного ключа\"\n         x-ng-show=\"keyState=='askPassword' || keyState=='keyPairLoaded' || keyState=='keyPairPasswordSaved'\" \n         type=\"text\" x-ng-model=\"keyPairPassword\" style=\"width: 220px;\"/\u003e\n\n  \u003cinput x-ng-show=\"keyState=='askPassword' \u0026\u0026 keyPairPassword.length \u003e 0 \u0026\u0026 keyPair.state!='active' \" \n  \n  x-n_g-show=\"keyState=='keyPairPasswordSaved'\" \n         type=\"button\" class=\"btn btn-success\" style=\"margin-left: 6px;\"\n         x-ng-click=\"generateKeyPair($event.target)\" \n         title=\"сгенерировать ключевую пару\" \n         value=\"сгенерировать ключи\"/\u003e   \n         \n\n         \n  \u003cinput x-ng-show=\"keyState=='askPassword'  \u0026\u0026 keyPairPassword == '' \u0026\u0026 keyPair.state!='active'\" \n\t\t type=\"button\" class=\"btn btn-primary\" style=\"margin-left: 6px;\"\n\t\t x-ng-click=\"generateKeyPairPassword($event.target)\" \n\t\t x-ng-disabled=\"false\"\n\t\t title=\"сгенерировать пароль для приватного ключа\" \n\t\t value=\"сгенерировать\"/\u003e         \n   \n  \u003cinput x-ng-show=\"keyPair.state=='active' \u0026\u0026 keyState=='askPassword' \u0026\u0026 keyPairPassword.length \u003e 0\" \n         type=\"button\" class=\"btn btn-primary\" style=\"margin-left: 6px;\"\n         x-ng-click=\"decryptKeyPairFromInterface($event.target)\" \n         title=\"расшифровать приватный ключ\" \n         x-ng-disabled=\"false\"\n         id=\"decrypPrivateKeyButton\"\n         value=\"расшифровать\"/\u003e        \t\n\t\n   \u003cinput x-ng-show=\"keyState=='askPassword' \u0026\u0026 keyPair.state=='active' \u0026\u0026 keyPairPassword==''\" \n         value=\"загрузить\" title=\"загрузить пароль к приватному ключу из файла\"\n\t\t type=\"file\" id=\"keyPairPasswordFileInput\" class=\"btn btn-primary\"  style=\"margin-left: 6px;\"/\u003e\t\t\t\n  \n  \n   \n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003ctable class=\"table6\" style=\"width: 660px;\"\u003e\n\u003ctr\u003e\n\u003ctd align=\"left\" valign=\"middle\" \u003e\n\u003cdiv class=\"balloon me nobr\"   style=\"width: 190px; height: 30px;\" \n     title=\"с таким цветом фона показаны сообщения контакта\"\u003e     \n     \u003ctable style=\"width: 100%;\"\u003e\u003ctr\u003e\n     \u003ctd valign=\"middle\"\u003e\u003csmall\u003e\n\t    {{currentContact == null ? \"выберите контакт\": currentContact.nick}}  \u003c/small\u003e\n  \u003c/td\u003e\n  \u003ctd style=\"padding-left: 16px;\" valign=\"middle\" align=\"right\"\u003e \n      \u003csmall x-ng-show=\"false\" class=\"command\" title=\"перейти в магазин контакта\"\n         x-ng-click=\"openContactShop()\"\u003eмагазин\u003c/small\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n \u003c/div\u003e\n\u003c/td\u003e\n\u003ctd align=\"right\" valign=\"top\" \u003e\n\u003cdiv  title=\"с таким цветом фона показаны ваши сообщения\"\n      class=\"balloon my\"   style=\"width: 190px; height: 24px; padding-top: 6px;\" \u003e\n           \u003csmall\u003e{{user.nick}}\u003c/small\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003ctd align=\"right\" valign=\"middle\" style=\"width: 200px;\"\u003e\n\n  \u003cinput x-ng-show=\"keyState=='askPassword' \u0026\u0026 keyPair.state=='active' \u0026\u0026 keyPairPassword==''\" \n         type=\"button\" class=\"btn btn-warning\" style=\"margin-left: 6px;\"\n         x-ng-click=\"removeKeyPair($event.target)\" \n         title=\"удалить ключевую пару, если вы потеряли к ней пароль\" \n         x-ng-disabled=\"false\"\n         value=\"удалить ключ\"/\u003e    \n\u003c/td\u003e\n\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\n\u003ctable style=\"width: 500px; margin-top: 20px;\"\u003e\n\u003ctr\u003e\u003ctd class=\"nobr\" \u003e\n\t\u003ctable style=\"width: 100%;\"\u003e\n\t\u003ctr\u003e\u003ctd x-ng-show=\"user.admin\" class=\"nobr\"\u003e\n\t\u003cspan class=\"command\" x-ng-click=\"setStandardText(0)\"\u003e1\u003c/span\u003e\n\t\u0026nbsp;\u0026nbsp;\n\t\u003cspan class=\"command\" x-ng-click=\"setStandardText(1)\"\u003e2\u003c/span\u003e\n\t\u0026nbsp;\u0026nbsp;\n\t\u003cspan class=\"command\" x-ng-click=\"setStandardText(2)\"\u003e3\u003c/span\u003e\t\n\t\u003c/td\u003e\u003ctd align=\"right\"\u003e\n\u003csmall style=\"color: #999999; margin-left: 6px; font-size: 10;\"\u003eосталось {{1024 - newMessageText.length}}\u003c/small\u003e\n\t\u003c/td\u003e\u003c/tr\u003e\n\t\u003c/table\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\u003ctd\u003e   \n   \u003ctextarea x-ng-model=\"newMessageText\" x-_n_g-_key_d_own=\"checkSend($event)\" \n             style=\"padding: 12px; width: 432px; height: 150px;\" maxlength=\"1024\"\u003e   \n   \u003c/textarea\u003e\u003c/td\u003e      \n   \u003ctd style=\"padding-left: 12px; width: 100px; height: 150px;\" valign=\"top\"\u003e   \n\n\t\u003ctable class=\"table6\" style=\"margin-top: 0px; height: 60px;\"\u003e\t\t\n\t\u003ctr\u003e   \n\t\u003ctd colspan=\"2\" style=\"padding-left: 0px;\"\u003e\n\t   \u003cinput type=\"button\" class=\"btn btn-large btn-success \" style=\"margin-top: 6px;\"\n\t   x-ng-click=\"sendMessage($event.target)\"  \n\t   x-ng-disabled=\"newMessageText=='' || currentContact=='null' || !currentContact\" \n\t   value=\"отправить\" id=\"sendCommand\"/\u003e \n\t\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\t\t\n\t\u003ctd title=\"зашифровать сообщение\" style=\"padding-top: 24px; cursor: pointer;\" align=\"right\"\u003e     \n\t     \u003cdiv class=\"lock\" x-ng-click=\"cryptMessage=!cryptMessage\"\u003e\u003c/div\u003e\t     \n\t\u003c/td\u003e\n\t\u003ctd title=\"зашифровать сообщение\" style=\"padding-top: 24px; cursor: pointer;\"\u003e   \n\t     \u003cinput type=\"checkbox\" x-ng-model=\"cryptMessage\"\u003e\n\t\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\n\n\t\n\t\n\t\t\n\t\u003ctr\u003e\t\n\t\u003ctd colspan=\"3\"\u003e\t\t \t\t\n \t\t\n \t\t\n\t\t\n\t\t\n\t\u003c/td\u003e\n\t\u003c/table\u003e      \n   \u003c/td\u003e\u003c/tr\u003e   \n \u003c/table\u003e\n \u003cdiv class=\"loading\" x-ng-show=\"messagesLoading\" style=\"margin-top: 18px;\"\u003e\u003c/div\u003e\n\u003c!-- | orderBy:'created':false --\u003e\n\u003ctable  style=\"width: 680px; margin-top: 16px;\"\u003e\n\u003ctr x-ng-repeat=\"message in currentContact.messages track by $index\"\n    x-ng-show=\"isMessageOnCurrentPage(message, $index)\"\u003e\n\u003ctd align=\"left\" valign=\"top\" style=\"width: 400px;\"\u003e\n\n\t\u003cdiv class=\"balloon {{isMyMessage(message) ?  (message.state=='read' ? 'my':'unreadmy') : (message.state=='read' ? 'me':'unread')}}\"\n\t     x-ng-click=\"markMessageAsRead(message)\" \n\t     title=\"{{(!isMyMessage(message) \u0026\u0026 message.state!='read') ? 'Щёлкните, чтобы отметить как прочитанное':''}}\"\u003e    \n\t             \n\t\t\u003cdiv x-ng-show=\"message.state=='read'\" class=\"balloon {{isMyMessage(message) ?  'my' : 'me'}}\"\u003e  \t\n\t\t  \u003cdiv x-ng-show=\"message.isEncrypted\" style=\"margin: 12px;\"\u003e\t\t    \n\t\t     \u003cspan x-ng-show=\"keyState == 'keyPairDecrypted'\" class=\"command\" x-ng-click=\"decryptMessage(message)\"\u003e\n\t\t     \u003csmall\u003eрасшифровать сообщение\u003c/small\u003e\n\t\t     \u003c/span\u003e\n\t\t     \u003cspan x-ng-show=\"keyState != 'keyPairDecrypted'\"\u003e\n\t\t     \u003csmall\u003eрасшифруйте приватный ключ\u003c/small\u003e\n\t\t     \u003c/span\u003e   \n\t\t   \u003c/div\u003e \t\t     \n\t\t   \u003cpre x-ng-show=\"!message.isEncrypted\" style=\"width:400px; white-space: pre-wrap;\"\u003e{{u2(message.text)}}\u003c/pre\u003e\n\t\t\u003c/div\u003e\t\t\t\t\n\t\t\u003cdiv title=\"{{isMyMessage(message) ?  'сообщение ещё не прочитано, щёлкните чтобы проверить' : 'щёлкните, чтобы пометить как прочитанное'}}\"\n\t\t     x-ng-show=\"message.state!='read'\" \n\t\t     x-ng-click=\"checkForMessageIsRead(message)\"\t     \n\t\t     class=\"balloon {{isMyMessage(message) ?  'unreadmy' : 'unread'}}\"\u003e    \n\t\t     \n\t\t   \u003cdiv x-ng-show=\"message.isEncrypted\" style=\"margin: 12px;\"\u003e\t\t    \n\t\t     \u003cspan x-ng-show=\"keyState == 'keyPairDecrypted'\" class=\"command\" x-ng-click=\"decryptMessage(message)\"\u003e\n\t\t     \u003csmall\u003eрасшифровать сообщение\u003c/small\u003e\n\t\t     \u003c/span\u003e\n\t\t     \u003cspan x-ng-show=\"keyState != 'keyPairDecrypted'\"\u003e\n\t\t     \u003csmall\u003eрасшифруйте приватный ключ\u003c/small\u003e\n\t\t     \u003c/span\u003e   \n\t\t   \u003c/div\u003e     \n\t\t   \u003cpre x-ng-show=\"!message.isEncrypted\"  style=\"width:400px; white-space: pre-wrap;\"\u003e{{u2(message.text)}}\u003c/pre\u003e\n\t\t\u003c/div\u003e\t\t\n\t\u003c/div\u003e\n\u003c/td\u003e\n\n\u003ctd valign=\"top\" style=\"width: 60px; padding-left: 12px; font-size: 10; padding-top: 8px;\"\u003e\n\u003csmall style=\"color: #aaa\"\u003e\n     {{(message.created || message.receiveDate) | date:'dd-MM-yyyy'}}\n\u003cbr/\u003e{{(message.created || message.receiveDate)   | date:'HH:mm:ss'}}\u003c/small\u003e\n\u003cbr/\u003e\n\u003cdiv class=\"lock\" x-ng-show=\"message.encryptedText.length \u003e 0\"\u003e\u003c/div\u003e\n\n\u003c/td\u003e\n\u003ctd style=\"width: 20px;\" valign=\"top\"\u003e\n\n\n\u003cdiv x-ng-show=\"!message.memorized\" class=\"removeButton\" style=\"height: 20px; width: 20px; margin-top: 2px\" title=\"remove\" \n     x-ng-click=\"removeMessage(message)\"\u003e\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"!message.memorized\" class=\"memorizeButton\" style=\"height: 20px; width: 20px; margin-top: 12px\" title=\"memorize\" \n     x-ng-click=\"memorizeMessage(message, true)\"\u003e\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"message.memorized\" class=\"memorizedButton\" style=\"height: 20px; width: 20px; margin-top: 12px\" title=\"dememorize\" \n     x-ng-click=\"memorizeMessage(message, false)\"\u003e\n\u003c/div\u003e\n\n\n\n\u003c/td\u003e\n\u003ctd\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd colspan=\"4\"\u003e\n\u003cbr/\u003e\u003cbr/\u003e\n\u003cdiv class=\"alert alert-info\" style=\"width: 550px; margin-left: 0px;\"\u003e\n\u003cbr/\u003e\nВ списке отображаются только 100 крайних сообщений.\u003cbr/\u003e\n\u003cbr/\u003e\nПокупатели могут добавлять в контакты только продавцов и администратора.\u003cbr/\u003e\nПродавцы могут добавлять в контакты только своих покупателей и администратора.\u003cbr/\u003e\n\u003cbr/\u003e\nСообщение удаляется из базы после удаления любым из участников переписки.\u003cbr/\u003e\nПри удалении контакта - удаляются все сообщения, как ваши к контакту, так и контакта к вам.\u003cbr/\u003e\n\u003cbr/\u003e\nНешифрованные сообщения хранятся в базе в закрытом виде, \u003cbr/\u003e\nно, технически, могут быть прочитаны владельцем сервиса.\u003cbr/\u003e\u003cbr/\u003e\nЗашифрованные сообщения - не могут быть прочитаны никем,\u003cbr/\u003e\nкроме отправителя и получателя (почему - читайте ниже).\u003cbr/\u003e\u003cbr/\u003e\nЕсли у получателя есть замочек слева, то ему можно отправить зашифрованное сообщение.\n     Для этого, нужно отметить галочку  рядом замочком, снизу от кнопки \"отправить\".\u003cbr/\u003e\u003cbr/\u003e\n\u003csmall class=\"command\" x-ng-click=\"showPenpalInfo1=!showPenpalInfo1\"\u003eПодробнее о шифровании сообщений...\u003c/small\u003e\n\u003cspan x-ng-show=\"showPenpalInfo1\"\u003e\u003cbr/\u003e\u003cbr/\u003e\n   Чтобы включить шифрование, нужно нажать на синюю кнопку\n   \"включить шифрование\" и  ввести ваш секретный пароль\u003cbr/\u003e\n   в поле с заглшукой \"пароль для приватного ключа\", либо сгенерировать\n   пароль нажав на кнопку \"сгенерировать\".\u003cbr/\u003e  \n   Этот пароль никогда не передаётся по сети!\u003cbr/\u003e\n   (Рекомендуем сохранить его в надёжном месте.)\u003cbr/\u003e\u003cbr/\u003e\n   Далее, нажимайте на зелёную кнопку \"сгенерировать ключи\". \u003cbr/\u003e\n   Некоторое время будет висеть табличка \"генерация и шифрование ключей...\"\u003cbr/\u003e\n   (в это время создаётся ключевая пара по алгоритму RSA с длиной ключа 2048 бит),\u003cbr/\u003e\n   а затем появится надпись на зелёном фоне \"шифрование включено\". \u003cbr/\u003e\n   \u003cbr/\u003e      \n   Сгенерированная ключевая пара (публичный и приватный ключи) автоматически сохраняется на сервер.\u003cbr/\u003e\u003cbr/\u003e\n    На нашем сервере хранится ваш публичный ключ в открытом виде\u003cbr/\u003e\n   и приватный ключ, зашифрованный вашим паролем для приватного ключа.\u003cbr/\u003e\n   \u003cbr/\u003e     \n   Когда вы пишите шифрованное сообщение, для его шифрования создаётся случайный пароль\u003cbr/\u003e  \n    длиной  256 байтов, которым шифруется сообщение, по алгоритму AES.   \u003cbr/\u003e     \n    \u003cbr/\u003e  \n    Далее, этот пароль шифруется вашим публичным ключом   \u003cbr/\u003e  \n    и публичным ключом получатея (публичный ключ получателя хранится на нашем сервере  \n    в открытом виде, как и положено публичному ключу, и передаётся в ваш браузер по запросу).    \u003cbr/\u003e  \n       \u003cbr/\u003e  \n    Таким образом, сообщение в базе хранится в виде набора полей:    \u003cbr/\u003e  \n    \"зашифрованное сообщение\",    \u003cbr/\u003e  \n    \"пароль зашифрованный публичным ключом отправителя\",   \u003cbr/\u003e  \n    \"пароль зашифрованный публичным ключом получателя\".   \u003cbr/\u003e  \n       \u003cbr/\u003e  \n     Когда вы читаете своё зашифрованное сообщение в секретной переписке,   \u003cbr/\u003e  \n     браузер расшифровывает ваш пароль сообщения вашим приватным ключом,    \u003cbr/\u003e  \n     и этим паролем расшифровывает сообщение.   \u003cbr/\u003e  \n        \u003cbr/\u003e  \n     Когда получатель читает ваше сообщение, его пароль от сообщения  \u003cbr/\u003e  \n     расшифровывается его приватным ключом.\u003cbr/\u003e\n   \u003cbr/\u003e     \n   На сервер и с сервера ваш приватный ключ передаётся зашифрованным вашим паролем.\u003cbr/\u003e\n   Шифрование и расшифровка приватного ключа - производятся только в вашем \u003cbr/\u003e\n   браузере, вашим паролем для приватного ключа, который никогда не передаётся по сети.\u003cbr/\u003e\n   \u003cbr/\u003e\n   Все процессы управления ключами, а также шифрование и\u003cbr/\u003e\n        расшифровка сообщений - автоматизированы. \u003cbr/\u003e               \n\n   \u003cbr/\u003e     \n   Ключевая пара также используется для шифрования адреса покупателя\u003cbr/\u003e\n   публичным ключом продавца, и реквизитов отправления - публичным ключом покупателя. \n   \n   \n   \u003cbr/\u003e\n   \n   \n\u003cbr/\u003e\u003c/span\u003e\n\u003c/div\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n   \n\u003c/td\u003e\u003c/tr\u003e\n\u003c/table\u003e\n\n\n\u003c/div\u003e\n\u003c/div\u003e\t\t\t\n\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\n\t\t\t\u003cdiv x-menu-panel=\"orders\" style=\"padding-top: 10px;\"\u003e\n\t\t\t\u003cdiv x-ng-controller=\"ordersPanelController\"\u003e\n\t\u003cdiv x-ng-show=\"!loged\"\u003e\n\t\t\u003cdiv class=\"alert alert-warning nobr\" x-ng-click=\"selectPanel('mainMenu/entrance')\"\u003e\n\t\t\tЧтобы работать с заказами - нужно\u0026nbsp;\n\t\t\t\u003cspan class=\"command\" x-ng-click=\"selectPanel('mainMenu/entrance')\"\u003e\t\t\t\n\t\t\t\tвойти в систему\n\t\t\t\u003c/span\u003e\n\t\t\u003c/div\u003e\n\t\u003c/div\u003e\t\n\t\u003cdiv x-ng-show=\"loged\"\u003e  \t\n\n\t\t\u003ctable  x-ng-show=\"false\" style=\"width: 400px; margin-left: 120px;\" \n\t\t        x-menu-bar=\"ordersMenu\" x-menu-class=\"menu4\" x-menu-parent=\"mainMenu/orders\"\u003e\n\t\t\t\u003ctr\u003e\n \t\t\t    \u003ctd x-menu-item=\"ordersList\" align=\"center\"\n \t\t\t            title=\"Список моих заказов\"\u003e\n \t\t\t        Список\u003c/td\u003e\n\t\t\t\t\u003ctd align=\"center\" x-menu-item=\"orderDetails\"\u003e\n\t\t\t\t      \u0026nbsp;\u0026nbsp;Заказ\u003c/td\u003e\t\t                    \t\t\t\t                    \n\t\t\t\u003c/tr\u003e\n\t\t\u003c/table\u003e\t\t\n\t\t\n\t\t\u003cdiv style=\"padding-top: 0px;\"\u003e\n\t\t\t\u003cdiv x-menu-panel=\"ordersList\" class=\"_ordersListDivClass\"\u003e\t\t\t\t\n\t\t\t\t\n\n\u003ctable style=\"width: 600px;\" class=\"table6\"\u003e\n\u003ctr\u003e   \n \u003ctd  style=\"width: 200px;\" align=\"right\"\u003e\n \u003clabel class=\"command\"\u003e\n \u003cinput type=\"radio\" name=\"buyerOrderFilter\" value=\"active\" x-ng-model=\"ordersFilter\"/\u003e\n \u003csmall\u003eактивные\u003c/small\u003e\u003c/label\u003e\n \u003c/td\u003e\t \n \u003ctd style=\"width: 20px;\"\u003e\t\t\n\t\u003cspan x-ng-show=\"buyerActiveOrdersCount\u003e0\" title=\"active orders count\" \n\t      style=\"color: grey\"\u003e\u003csmall\u003e\u003cb x-ng-bind=\"buyerActiveOrdersCount\"\u003e\u003c/b\u003e\u003c/small\u003e\u003c/span\u003e\n \u003c/td\u003e\n \u003ctd  style=\"padding-left: 100px;\"\u003e\n \u003clabel class=\"command\"\u003e\n \u003cinput type=\"radio\" name=\"buyerOrderFilter\" value=\"archived\"  x-ng-model=\"ordersFilter\"/\u003e\n \u003csmall\u003eархивные\u003c/small\u003e\u003c/label\u003e\n \u003c/td\u003e  \n \u003ctd style=\"width: 100px;\"\u003e\n \u003cinput\tstyle=\"margin-left: 42px; margin-top: 0px;\" id=\"reloadOrdersButton\"\n\t\t\t\t\tclass=\"btn btn-info\" type=\"button\" title=\"обновить список\"\n\t\t\t\t\tvalue=\"\u0026#8634;\"\tx-ng-click=\"reloadOrders($event.target)\" /\u003e\n \u003c/td\u003e  \n\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003ctable style=\"width: 600px; margin-top: 12px;\" class=\"table\"\u003e\n\u003ctr\u003e\n \u003cth class=\"nobr\" title=\"order id\"\u003eid\u003c/th\u003e\n \u003cth\u003e\n \u003cspan x-ng-show=\"ordersOwnerFilter == 'buyer'\"\u003eпродавец\u003c/span\u003e\n \u003cspan x-ng-show=\"ordersOwnerFilter == 'seller'\"\u003eпокупатель\u003c/span\u003e\n \u003c/th\u003e\n \u003cth\u003eсоздан\u003c/th\u003e\n \u003cth\u003eобновлён\u003c/th\u003e\n \u003cth\u003eсостояние\u003c/th\u003e \n\u003c/tr\u003e\n\u003ctr x-ng-click=\"selectOrder(order, $event.target)\" x-ng-show=\"isBuyerOrderMatchFilter(order)\"\n    style=\"cursor: pointer; background-color: {{order.id == currentOrder.id ? '#ddd':'#fff'}}\"\n    x-ng-repeat=\"order in ordersList track by $index\"\u003e\n \u003ctd\u003e{{order.id}}\u003c/td\u003e\n \u003ctd\u003e{{ordersOwnerFilter == 'buyer' ? order.sellerNick: order.buyerNick}}\u003c/td\u003e\n \u003ctd class=\"nobr\"\u003e{{order.created| date}}\u003c/td\u003e\n \u003ctd class=\"nobr\"\u003e{{order.updated| date}}\u003c/td\u003e\n \u003ctd class=\"nobr\"\u003e{{translateOrderState(order.state)}}\u003c/td\u003e \n\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\n\n\n\n\t\t\t\u003c/div\u003e\n\t\t\t\u003cdiv x-menu-panel=\"orderDetails\" class=\"_orderDetailsDivClass\"\u003e\t\t\t\t\n\t\t\t\t\n\n\n\u003ctable style=\"width: 220px; margin-top: 0px; margin-bottom: 8px; margin-left: 300px;\"\u003e\u003ctr\u003e\n\u003ctd align=\"left\"\u003e\n\u003cspan class=\"command\" x-ng-click=\"selectPanel('ordersMenu/ordersList')\"\u003e\t\t\t\n\t\t\t\tзакрыть\n\u003c/span\u003e\n\u003c/td\u003e\u003ctd align=\"right\"\u003e\n\u003cinput class=\"btn btn-info\" type=\"button\" title=\"обновить заказ\"\tvalue=\"\u0026#8634;\"\n\t\tx-ng-show=\"currentOrder.id \u0026\u0026 !currentOrder.isArchived\" x-ng-click=\"reloadOrder($event.target)\" /\u003e\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003cdiv class=\"alert alert-warning nobr\" x-ng-show=\"!currentOrder.id\" style=\"width: 500px; cursor: pointer;\" \n     x-ng-click=\"selectPanel('ordersMenu/ordersList')\"\u003e\t\t\t\n\t\t\t\u003cspan class=\"command\"\u003eВыберите заказ\u003c/span\u003e\n\u003c/div\u003e\n\u003cdiv  x-ng-show=\"!!currentOrder.id\"\u003e\n\n\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e\n\u003ctr\u003e\u003cth\u003eid\u003c/th\u003e\u003ctd\u003e{{currentOrder.id}}\u003c/td\u003e\n\u003cth\u003e\n \u003cspan\u003eпродавец\u003c/span\u003e\n\u003c/th\u003e\u003ctd\u003e\n\u003cspan class=\"command\" \n      x-ng-click=\"writeToUser(currentOrder.sellerNick)\" title=\"написать продавцу\"\u003e\n{{currentOrder.sellerNick}}\n\u003c/span\u003e\n\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e\n\n\n\u003ctr\u003e\u003cth style=\"width: 150px;\"\u003eсостояние\u003c/th\u003e\n\u003ctd class=\"nobr\"\u003e{{translateOrderState(currentOrder.state)}}\u003c/td\u003e\u003c/tr\u003e\n\n\u003ctr x-ng-show=\"currentOrder.orderType.indexOf('probe') \u003e -1\"\u003e\n\u003cth colspan=\"2\" style=\"width: 150px;\" class=\"nobr\"\u003eэто пробник, продавец ждёт отзыва\u003c/th\u003e\n\u003c/tr\u003e\n\n\u003ctr x-ng-show=\"currentOrder.invoice.id \u003e 0 \u0026\u0026 currentOrder.orderType.indexOf('probe') == -1\"\u003e\n\u003cth style=\"width: 150px; padding-top: 16px;\" class=\"nobr\" valign=\"top\"\u003eсчёт на оплату\u003c/th\u003e\n\u003ctd\u003e\n\u003ctable class=\"table8 head-left\" style=\"width: 490px;\"\u003e  \n \u003ctr\u003e   \n   \u003cth style=\"width: 90px;\"\u003eсистема\u003c/th\u003e\n   \u003cth style=\"width: 90px;\"\u003eсумма\u003c/th\u003e   \n   \u003cth style=\"width: 90px;\"\u003eскидка\u003c/th\u003e   \n   \u003cth style=\"width: 90px;\"\u003e\n\t   \u003cspan x-ng-show=\"currentOrder.invoice.payType != 'code'\"\u003e\n\t   кошелёк\u003c/span\u003e\n\t   \u003cspan x-ng-show=\"currentOrder.invoice.payType == 'code'\"\u003e\n\t   код\u003c/span\u003e   \n   \u003c/th\u003e\n   \n   \u003cth style=\"width: 90px;\" title=\"комментарий к платежу или коду\"\n       x-ng-show=\"(currentOrder.invoice.payType != 'bitcoin') \u0026\u0026 (currentOrder.invoice.paySystem.indexOf('btce') \u003c 0)\"\u003e\n                            комент\u003c/th\u003e\n   \u003cth style=\"width: 90px;\"\u003eстатус\u003c/th\u003e  \n \u003c/tr\u003e\n \u003ctr\u003e    \n  \u003ctd class=\"nobr\" \u003e{{currentOrder.invoice.paySystem}}\u003c/td\u003e\n  \u003ctd class=\"nobr\" \u003e\n   \u003cspan x-ng-show=\"currentOrder.invoice.payType == 'bitcoin'\"\u003e\n   {{ round8(toDoubleBitcoins(currentOrder.invoice.amountInSatoshi))}} ฿\u003c/span\u003e   \n   \u003cspan class=\"nobr\" x-ng-show=\"currentOrder.invoice.payType != 'bitcoin'\"\u003e\n   {{round2(currentOrder.invoice.amountInCurrency)}} {{currentOrder.invoice.currency}}\u003c/span\u003e\n  \u003c/td\u003e     \n  \u003ctd class=\"nobr\" \u003e{{currentOrder.invoice.discount}} %\u003c/td\u003e\n  \u003ctd\u003e\n    \u003cdiv x-ng-show=\"currentOrder.invoice.payType == 'code'\"\u003e    \n       \u003cspan x-ng-show=\"currentOrder.state == 'wait_for_buyer_confirm_payment' \n                         \u0026\u0026 ordersOwnerFilter == 'buyer'\"\u003e       \t\t \n\t\t \u003cinput x-ng-model=\"currentOrder.invoice.payCode\"\n\t\t        type=\"text\" style=\"width: 250px;\" placeholder=\"вставьте код сюда\"/\u003e         \n       \u003c/span\u003e\n       \u003cspan x-ng-bind=\"currentOrder.invoice.payCode\" \n             x-ng-show=\"currentOrder.state != 'wait_for_buyer_confirm_payment'\"\u003e\u003c/span\u003e\n             \n   \u003c/div\u003e  \n   \u003cspan x-ng-show=\"currentOrder.invoice.payType != 'code'\"\n         x-ng-bind=\"currentOrder.invoice.address\"\u003e\u003c/span\u003e  \n  \u003c/td\u003e    \n  \u003ctd x-ng-show=\"(currentOrder.invoice.payType != 'bitcoin') \u0026\u0026 (currentOrder.invoice.paySystem.indexOf('btce') \u003c 0)\"\u003e\n   \u003cspan x-ng-bind=\"currentOrder.id\"\u003e\u003c/span\u003e\n  \u003c/td\u003e \n  \u003ctd class=\"nobr\"\u003e\n  {{translateInvoiceState(currentOrder.invoice)}}\n  \u003c/td\u003e      \n \u003c/tr\u003e\u003c/table\u003e\n\u003c/td\u003e\u003c/tr\u003e\n\u003ctr x-ng-show=\"currentOrder.invoice.id \u003e 0 \u0026\u0026 currentOrder.orderType.indexOf('probe') == -1\n \u0026\u0026 currentOrder.invoice.payType == 'paysystem' \n \u0026\u0026 (currentOrder.state == 'wait_for_buyer_confirm_payment' || currentOrder.state == 'wait_for_buyer_ask_invoice')\n \"\u003e\n\u003ctd colspan=\"2\"\u003e\u003cdiv class=\"alert alert-warning\"\u003e\nОбязательно укажите номер заказа \u003cspan style=\"color: green;\"\u003e{{currentOrder.id}}\u003c/span\u003e в комментарии к переводу!\u003cbr/\u003e\nПереводы без номера заказа в комментарии, отправленные с терминалов,\u003cbr/\u003e\nкоторые не поддерживают ввод комментариев - система НЕ видит!!! \u003cinput type=\"button\" \nx-ng-show=\"understandCommentWarning!='yes'\" x-ng-click=\"confirmUnderstandCommentWarning()\"\nclass=\"btn btn-primary\" style=\"margin-left: 16px;\"\nvalue=\"понятно\"\u003e\n\u003c/div\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\n\u003ctr x-ng-show=\"currentOrder.state=='wait_for_buyer_ask_invoice' \n              \u0026\u0026  currentOrder.state.indexOf('cancelled') \u003c 0 \u0026\u0026 currentOrder.state.indexOf('closed') \u003c 0\"\u003e\n\u003cth style=\"width: 150px; padding-top: 18px;\" class=\"nobr\" valign=\"top\"\u003e\nя плачу\n\u003cdiv title=\"сумма оплаты\"\n     style=\"margin-top: 56px; font-weight: bold;\"\u003eсумма\u003c/div\u003e\n  \n \u003cdiv title=\"сумма скидок\" class=\"nobr\"\n     style=\"margin-top: 17px; font-weight: bold;\"\u003eскидка\u0026nbsp;%\u003c/div\u003e    \n\n\u003cdiv title=\"как продавец подтверждает получение оплаты\"\n     style=\"margin-top: 17px; font-weight: bold;\"\u003eподтверждение\u003c/div\u003e\n\u003c/th\u003e\n\u003ctd\u003e\n\u003cdiv\u003e\n\t\u003ctable class=\"table8\" style=\"width: 450px;\"\u003e\n\t\t\u003ctr\u003e\n\t\t\n\t\t\t\u003ctd style=\"width: 150px;\" class=\"nobr\"\u003e\u003clabel\n\t\t\t\tclass=\"command\"\n\t\t\t\ttitle=\"мгновенное автоматическое подтверждение получения оплаты продавцом\"\u003e\n\t\t\t\t\t\u003cinput type=\"radio\" x-ng-model=\"orderPayType\" value=\"bitcoin\" /\u003e\u0026nbsp;\u0026nbsp;биткоинами\n\t\t\t\u003c/label\u003e\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd style=\"width: 150px;\" class=\"nobr\" x-ng-show=\"currentOrder.acceptPaySystems \u0026\u0026 !currentOrder.bitcoinsOnly\"\u003e\t\t\t\n\t\t\t \u003clabel \n\t\t\t        class=\"command\"\u003e \u003cinput type=\"radio\"\n\t\t\t\t\tx-ng-model=\"orderPayType\" value=\"paysystem\" /\u003e\u0026nbsp;\u0026nbsp;деньгами\u003c/label\u003e\t\t\t\t\t\t\t\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd style=\"width: 150px;\" x-ng-show=\"currentOrder.acceptCodes\" \n\t\t\t\tclass=\"nobr\"\u003e\u003clabel class=\"command\"\u003e \u003cinput\n\t\t\t\t\ttype=\"radio\" x-ng-model=\"orderPayType\" value=\"code\" /\u003e\u0026nbsp;\u0026nbsp;кодом\u003c/label\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd\u003e\u003c/td\u003e\t\t\t\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\n\t\t\t\u003ctd class=\"nobr\"\u003e\n\t\t\t  \u003ca title=\"Ответ откроется в новом окне\" href=\"/help/bitcoin_help.htm\" target=\"_balnk\"\u003eГде их взять?\u003c/a\u003e\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd class=\"nobr\" x-ng-show=\"currentOrder.acceptPaySystems \u0026\u0026 !currentOrder.bitcoinsOnly\"\u003e\t\t\t\n\t\t\t   \u003cselect x-ng-click=\"orderPayType='paysystem'\" id=\"orderPaySystemSelect\"\n\t\t\t\t       x-ng-model=\"currentOrder.paySystem\" \n\t\t\t\t       x-ng-options=\"ps for ps in currentOrder.regularPaySystems\"\u003e\n\t\t\t\t\u003c/select\u003e \n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd class=\"nobr\" x-ng-show=\"currentOrder.acceptCodes\" \u003e\n\t\t\t  \u003cselect x-ng-click=\"orderPayType='code'\" id=\"orderCodePaySystemSelect\"\n\t\t\t\t      x-ng-model=\"currentOrder.codePaySystem\" \n\t\t\t\t      x-ng-options=\"cps for cps in currentOrder.codePaySystems\"\u003e\n\t\t\t\u003c/select\u003e \t\t\t\n\t\t\t\u003c/td\u003e\t\t\t\t\t\n\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\t\n\t\t\u003c/tr\u003e\n\t\t\n\t\t\u003ctr style=\"height: 34px;\"\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\n\t\t\t\u003csmall x-ng-show=\"orderPayType=='bitcoin'\"\u003e\n\t\t\t    {{round4(currentOrder.bitcoinPrice/100000000.0)}}\u0026nbsp;BTC\u003c/small\u003e\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd x-ng-show=\"currentOrder.acceptPaySystems \u0026\u0026 !currentOrder.bitcoinsOnly\"\u003e\n\t\t\t   \u003csmall x-ng-show=\"orderPayType=='paysystem'\"\u003e\n\t\t\t     \u0026nbsp;{{findOrderPrice()}}\u0026nbsp;{{findOrderCurrency()}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd x-ng-show=\"currentOrder.acceptCodes\"\u003e\n\t\t\t\t\u003csmall x-ng-show=\"orderPayType=='code'\"\u003e\n\t\t\t\t\u0026nbsp;{{findOrderPrice()}}\u0026nbsp;{{findOrderCurrency()}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\t\t\n\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\u003c/tr\u003e\t\t\n\t\t\u003ctr style=\"height: 24px;\"\u003e\t\t\n\t\t\t\u003ctd class=\"nobr\"\u003e\n\t\t\t\u003csmall x-ng-show=\"orderPayType=='bitcoin'\"\u003e\u0026nbsp;{{findOrderDiscount()}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd x-ng-show=\"currentOrder.acceptPaySystems \u0026\u0026 !currentOrder.bitcoinsOnly\"\u003e\n\t\t\t   \u003csmall x-ng-show=\"orderPayType=='paysystem'\"\u003e\u0026nbsp;{{findOrderDiscount()}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd x-ng-show=\"currentOrder.acceptCodes\"\u003e\n\t\t\t\t\u003csmall x-ng-show=\"orderPayType=='code'\"\u003e\u0026nbsp;{{findOrderDiscount()}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\t\t\t\n\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\t\n\t\t\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\u003csmall\n\t\t\t\tstyle=\"color: #777\" title=\"в течение одной минуты\"\u003eавто\u003c/small\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd  class=\"nobr\"  x-ng-show=\"currentOrder.acceptPaySystems \u0026\u0026 !currentOrder.bitcoinsOnly\"\u003e\n\t\t\t\t\u003cdiv x-ng-show=\"currentOrder.paySystem != ''\"\u003e\n\t\t\t\t\t\u003csmall style=\"color: #777\" x-ng-show=\"isPaySystemAutomated()\"\n\t\t\t\t\t\ttitle=\"в течение пяти минут\"\u003e авто\u003c/small\u003e\n\t\t\t\t\t\u003csmall style=\"color: #777\" x-ng-show=\"!isPaySystemAutomated()\"\n\t\t\t\t\t\ttitle=\"ручное подтверждение получения оплаты продавцом\"\u003eручное\u003c/small\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd x-ng-show=\"currentOrder.acceptCodes\"\n\t\t\t\tclass=\"nobr\"\u003e\n\t\t\t\t\u003cdiv x-ng-show=\"currentOrder.paySystem != ''\"\u003e\n\t\t\t\t\t\u003csmall style=\"color: #777\"\n\t\t\t\t\t\tx-ng-show=\"isPaySystemCodeAutomated()\"\n\t\t\t\t\t\ttitle=\"в течение пяти минут\"\u003e авто\u003c/small\u003e\n\t\t\t\t\t\u003csmall style=\"color: #777\"\n\t\t\t\t\t\tx-ng-show=\"!isPaySystemCodeAutomated()\"\n\t\t\t\t\t\ttitle=\"ручное подтверждение получения оплаты продавцом\"\u003eручное\u003c/small\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\n\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\t\n\t\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\u003c/div\u003e\u003c/td\u003e\u003c/tr\u003e\n\n\u003ctr x-ng-show=\"!currentOrder.isArchived\"\u003e\n\u003cth style=\"width: 150px; padding-top: 6px;\" class=\"nobr\" valign=\"middle\" \u003eмои действия\u003c/th\u003e\n\u003ctd\u003e\n\n\u003cdiv\u003e\n\n   \u003cdiv class=\"alert alert-success nobr\" x-ng-show=\n    \"currentOrder.state.indexOf('seller') \u003e -1 \u0026\u0026 currentOrder.state!='wait_for_seller_give_another_pack'\"\u003e\n\t ожидание действий продавца \n   \u003c/div\u003e\n   \n   \n   \u003cdiv class=\"alert alert-success nobr\" x-ng-show=\n    \"currentOrder.state=='wait_for_seller_give_another_pack'\"\u003e\n    \u003ctable\u003e\u003ctr\u003e\u003ctd class=\"alert-success\"\u003eждать пока продавец не выдаст новую закладку или не отменит заказ, или\u003c/td\u003e\u003ctd\u003e\n    \u003cinput type=\"button\" class=\"btn btn-success\" value=\"подтвердить получение\"\n\t\t       x-ng-click=\"confirmReceiveOrder(currentOrder, $event.target)\"/\u003e \u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e \t \n   \u003c/div\u003e\t\n   \n   \u003cdiv x-ng-show=\"currentOrder.state=='wait_for_buyer_confirm_payment'\"\u003e\n\t\t\u003ctable\u003e\u003ctr\u003e\u003ctd\u003e\n\t\t\n\t\t\n\t\t\u003cinput x-ng-disabled=\"currentOrder.invoice.id \u003e 0 \u0026\u0026 currentOrder.orderType.indexOf('probe') == -1\n\t\t \u0026\u0026 currentOrder.invoice.payType == 'paysystem' \u0026\u0026 understandCommentWarning!='yes'\"\n\t\t\n\t\ttype=\"button\" class=\"btn btn-success\" value=\"подтвердить оплату счёта\"\n\t\t       x-ng-click=\"confirmPayInvoice(currentOrder, $event.target)\"/\u003e  \n\t\t \u003c/td\u003e\u003ctd\u003e\n\t\t \u003cinput type=\"button\" class=\"btn btn-warning\" value=\"отменить заказ\" id=\"cancelOrderButton\"\n\t\t       x-ng-click=\"cancelOrderByBuyer(currentOrder, $event.target)\"/\u003e  \n\t\t \u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e      \t       \n\t\u003c/div\u003e\n\t\n\t\u003cdiv x-ng-show=\"currentOrder.state=='wait_for_buyer_ask_invoice'\"\u003e\n\t\t\u003ctable\u003e\n\t\t \u003ctr\u003e\n\t\t \u003ctd\u003e\t \t       \t       \t\t   \n\t\t   \u003cinput type=\"button\" class=\"btn btn-primary\" \n\t\t          value=\"запросить счёт на оплату\"\n\t              x-ng-click=\"askOrderInvoice(currentOrder, $event.target)\"/\u003e  \t \t             \n\t\t \u003c/td\u003e\t\t \t \n\t\t \u003ctd\u003e\n\t\t \u003cinput type=\"button\" class=\"btn btn-warning\" value=\"отменить заказ\"\n\t\t       x-ng-click=\"cancelOrderByBuyer(currentOrder, $event.target)\"/\u003e  \n\t\t \u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e \t       \n\t\t \n\t\t \n\t\u003c/div\u003e\n\t\n\t\u003cdiv x-ng-show=\"currentOrder.state=='wait_for_buyer_confirm_receive'\"\u003e\t\n\t\t\n\t\t\u003ctable\u003e\u003ctr\u003e\n\t\t\u003ctd\u003e\n\t\t\u003cinput type=\"button\" class=\"btn btn-success\" value=\"подтвердить получение\"\n\t\t       x-ng-click=\"confirmReceiveOrder(currentOrder, $event.target)\"/\u003e  \n\t\t\u003c/td\u003e\n\t\t\u003ctd\u003e\n\t\t\u003cinput x-ng-show=\"currentOrder.orderType!='itemPackage' \u0026\u0026 currentOrder.state!='disput'\" \n\t\t       style=\"margin-left: 42px;\"\n\t\t       type=\"button\" title=\"если вы не нашли место, или закладки там нет\"\n\t\t       class=\"btn btn-warning\" value=\"создать диспут\"\n\t\t       x-ng-click=\"createPackDisput(currentOrder, $event.target)\"/\u003e  \n\t\t\u003c/td\u003e\t\t\t\t\n\t\t\u003c/tr\u003e\n\t\t\u003c/table\u003e\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\u003c/div\u003e\n\n\u003c/div\u003e\n\n\u003c/td\u003e\u003c/tr\u003e\n\u003c/table\u003e\t\t\n\n\n\n\n\n\u003cdiv x-ng-show=\"currentOrder.state=='disput'\"\u003e\n\n\u003ctable class=\"table8 head-left\" style=\"width: 800px;\"\u003e \n  \u003ctr\u003e  \n  \u003cth class=\"nobr\" style=\"width: 150px;\"\u003e\n  состояние диспута\n  \u003c/th\u003e\n  \u003ctd class=\"nobr\"\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='created'\" class=\"nobr\" style=\"color: darkorange\"\u003eещё не открыт \n     \u003cinput style=\"margin-left: 42px;\"\n       type=\"button\" title=\"работает до открытия диспута!\"\n       class=\"btn btn-primary\" value=\"отменить\"\n       x-ng-click=\"cancelPackDisput(currentOrder, $event.target)\"/\u003e \n     \u003c/span\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='open'\"\u003eоткрыт\u003c/span\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='wait_for_seller_accept'\"\u003eожидание принятия к рассмотрению продавцом\u003c/span\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='wait_for_seller_solution'\"\u003eожидание принятия решения продавцом\u003c/span\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='wait_for_buyer_solution'\"\u003eожидание принятия решения покупателем\u003c/span\u003e\n     \u003cspan x-ng-show=\"currentOrder.disput.state=='wait_for_packer_comment'\"\u003eожидание комментария курьера\u003c/span\u003e  \n     \u003cspan x-ng-show=\"currentOrder.disput.state=='closed'\"\u003eзакрыт\u003c/span\u003e\n   \u003c/td\u003e\n  \u003c/tr\u003e\n\u003c/table\u003e                        \n\n\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e \n \u003ctr\u003e\u003cth\u003eпричина\u003c/th\u003e   \n \u003ctd\u003e\n \u003clabel class=\"command\"\u003e\u003cinput x-ng-disabled=\"currentOrder.disput.state != 'created'\"\n        type=\"radio\" value=\"not_found\"  x-ng-model=\"currentOrder.disput.reason\"/\u003e\n  \u003csmall\u003eне найдено место\u003c/small\u003e\u003c/label\u003e\n \u003c/td\u003e    \n \u003ctd\u003e\n  \u003clabel class=\"command\"\u003e\u003cinput x-ng-disabled=\"currentOrder.disput.state != 'created'\"\n         type=\"radio\" value=\"stollen\"  x-ng-model=\"currentOrder.disput.reason\"/\u003e\n  \u003csmall\u003eне найдена закладка\u003c/small\u003e\u003c/label\u003e \n \u003c/td\u003e\n \u003c/tr\u003e\n\u003c/table\u003e\t\n\n\n\u003ctable class=\"table8 head-left\" style=\"width: 500px; height: 300px;\"\u003e \n \u003ctr\u003e\u003cth class=\"nobr\"\u003eваше описание проблемы\u003cspan x-ng-show=\"currentOrder.disput.state == 'created'\"\u003e: \n  \u003cspan title=\"количество введённых символов\"\n        style=\"font-size: smaller; color: {{\n        (currentOrder.disput.buyerReport.length \u003c disputMinSymbolsCount) || (currentOrder.disput.buyerReport.length \u003e disputMaxSymbolsCount) ?   \n         'darkgray' : 'darkgreen'}}; margin-left: 24px;\"\u003e{{currentOrder.disput.buyerReport.length}}\u003c/span\u003e \n         \u003cspan style=\"font-size: smaller; color:darkgray\"\u003emax {{disputMaxSymbolsCount}}\u003c/span\u003e\u003c/span\u003e\u003c/th\u003e   \n  \u003ctd\u003e\n     \n     \n\t\t\u003ctable class=\"table6\" style=\"width: 480px; margin-top: 12px;\"\n\t\t       x-ng-show=\"currentOrder.disput.images.length \u003e 2 \u0026\u0026  currentOrder.disput.state == 'created'\"\u003e\t\t       \n\t\t\u003ctr\u003e\u003ctd class=\"nobr\"\u003e\u003cdiv class=\"alert alert-info\"\u003e\n\t\tможно загрузить не более трёх фотографий\u003c/div\u003e\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003c/table\u003e\n\t\t\n\t\t\u003ctable class=\"table6\" style=\"width: 480px; margin-top: 12px;\" \n\t\t       x-ng-show=\"currentOrder.disput.images.length \u003c 3 \u0026\u0026  currentOrder.disput.state == 'created'\"\u003e\n\t\t\u003ctr\u003e\n\t\t\u003ctd class=\"nobr\" style=\"width: 60px;\"\u003e\n\t\tдобавить фото\n\t\t\u003c/td\u003e\n\t\t\u003ctd style=\"width: 240px;\"\u003e\n\t\t\u003cinput x-ng-disabled=\"false\"\n\t\t       title=\"Размер картинки - не более 300x300!\" value=\"load image\"\n\t\t       id=\"disputImageInputFile\" \t\t       \n\t\t       type=\"file\" class=\"btn btn-primary\" onchange=\"loadDisputImage();\" /\u003e\n\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003c/table\u003e  \n\t\t\n     \n  \u003c/td\u003e       \n \n \u003c/tr\u003e\n         \n \u003ctr style=\"height: 240px;\"\u003e\u003ctd valign=\"top\"\u003e\n   \u003ctextarea x-ng-disabled=\"!(currentOrder.disput.state=='created' || currentOrder.disput.state=='wait_for_buyer_solution')\"\n   style=\"width: 320px; height: 240px;\" x-ng-model=\"currentOrder.disput.buyerReport\"\u003e\u003c/textarea\u003e\u003c/td\u003e\n \u003ctd valign=\"top\"\u003e\n        \n\t\t\u003ctable  class=\"table6\"\u003e\t\t\n\t\t\u003ctr\u003e\n\t\t\n\t\t\u003ctd  x-ng-repeat=\"image in currentOrder.disput.images track by $index\" valign=\"top\"\u003e\n\t\t\n\t\t\u003ctable\u003e\n\t\t\t\u003ctr\u003e\t\t\n\t\t\t\u003ctd style=\"width: 120px;\"\u003e\n\t\t\t\u003cimg style=\"max-width: 120px;\"  x-ng-src=\"{{image.base64 ? image.base64 : image}}\" /\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003c/tr\u003e\n\t\t\t\u003ctr\u003e\n\t\t\t\u003ctd style=\"height: 20px;\"\u003e\n\t\t\t\u003cdiv x-ng-show=\"currentOrder.disput.state == 'created'\"\n\t\t\t     class=\"removeButton\" style=\"height: 20px; width: 20px; margin-left: 100px\" title=\"remove\" \n\t\t\t     x-ng-click=\"removeDisputImage($index)\"\u003e\u003c/div\u003e\t\t     \n\t\t\t\u003c/td\u003e\n\t\t\t\u003c/tr\u003e\t\t\t\n\t\t\u003c/table\u003e      \n\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\n\t\t\u003c/table\u003e  \n     \n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n \n\u003ctable\u003e\n\u003ctr\u003e\n\u003cth style=\"width: 150px; padding-top: 6px;\" class=\"nobr\" valign=\"top\" align=\"left\"\u003e\nрешение продавца\u003c/th\u003e\u003ctd style=\"padding-left: 12px; padding-top: 6px;\"\u003e\u003cpre\u003e{{\n  currentOrder.disput.sellerSolution == \"\" ? \"решение ещё не принято\": u2(currentOrder.disput.sellerSolution)}}\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\n\u003c/table\u003e \n\n\n\u003ctable style=\"margin-top: 12px;\"\u003e\u003ctr\u003e\n\u003cth style=\"width: 150px;\" class=\"nobr\" valign=\"top\"  align=\"left\"\u003eмои действия\u003c/th\u003e\n\u003ctd\u003e\n\u003cinput type=\"button\" class=\"btn btn-success\" value=\"подтвердить получение\"\n       x-ng-click=\"confirmReceiveOrder(currentOrder, $event.target)\"/\u003e  \n\u003c/td\u003e\n\u003ctd\u003e\n\n\u003cinput x-ng-show=\"currentOrder.disput.state=='wait_for_buyer_solution'\" \n       style=\"margin-left: 42px;\"\n       type=\"button\" class=\"btn btn-primary\" value=\"обновить описание проблемы\"\n       x-ng-click=\"updateBuyerReport(currentOrder, $event.target)\"/\u003e  \t\t\t\n\u003c/td\u003e\t\n\n\u003ctd\u003e\n\t\u003cinput x-ng-show=\"currentOrder.disput.state=='created'\" \n       style=\"margin-left: 42px;\"\n       type=\"button\" \n       class=\"btn btn-danger\" value=\"открыть диспут\"\n       x-ng-click=\"openPackDisput(currentOrder, $event.target)\"/\u003e \t\t\n\u003c/td\u003e\t\t\t\n\t\t\n\u003c/tr\u003e\n\u003c/table\u003e\t\n\n\n\u003c/div\u003e\n\u003cbr/\u003e\n\n\n\n\n\n\u003cdiv x-ng-show=\"!currentOrder.isArchived\" class=\"alert alert-info\" style=\"width: 600px;\"\u003e{{timeLine}}\u003cbr/\u003e{{currentLeft}}\n\u003cbr/\u003e{{timeLine2}}\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"currentOrder.orderType=='itemPackage'\"\u003e\n\t\u003cdiv x-ng-show=\"currentOrder.state=='wait_for_buyer_ask_invoice'\"\u003e\n\t\u003ctable class=\"table8 head-left\" style=\"width: 500px; margin-top: 6px;\"\u003e  \n\t  \u003ctr\u003e\n\t  \u003cth style=\"width: 100px;\"  class=\"nobr\" valign=\"top\"\u003eкомментарий к заказу\u003c/th\u003e\n\t  \u003ctd class=\"nobr\"\u003e\u003ctextarea style=\"width: 300px; heigth: 70px;\"\n\t      x-ng-model=\"currentOrder.buyerComment\"\u003e\u003c/textarea\u003e \u003c/td\u003e    \n\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\t\u003c/div\u003e\n\t\u003cdiv x-ng-show=\"currentOrder.state!='wait_for_buyer_ask_invoice'\"\u003e\n\t\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e  \n\t  \u003ctr\u003e\n\t  \u003cth style=\"width: 120px;\"  class=\"nobr\" valign=\"top\"\u003eмой комментарий\u003c/th\u003e\n\t  \u003ctd class=\"nobr\"\u003e\u003cpre x-ng-bind=\"currentOrder.buyerComment\"\u003e\u003c/pre\u003e \u003c/td\u003e \n\t\u003c/tr\u003e\u003c/table\u003e\n\t\u003c/div\u003e \n\u003c/div\u003e\n\n\u003ctable class=\"table8 head-left\" style=\"width: 600px;\"\u003e  \n  \u003ctr\u003e\n  \u003cth colspan=\"2\"\u003eтовар\u003c/th\u003e\n  \u003cth \u003eупаковка\u003c/th\u003e\n  \u003cth class=\"nobr\"\u003eкол-во\u003c/th\u003e\u003c/tr\u003e\u003ctr\u003e      \n  \u003ctd class=\"nobr\"\u003e\u003cimg x-ng-src=\"{{currentOrder.itemIcon}}\"/\u003e\u003c/td\u003e\n  \u003ctd class=\"nobr\"\u003e  {{currentOrder.itemName}}\u003c/td\u003e     \n  \u003ctd class=\"nobr\"\u003e{{currentOrder.packageName}}\u003c/td\u003e     \n  \u003ctd class=\"nobr\"\u003e{{currentOrder.orderedCount}}\u003c/td\u003e    \n\u003c/tr\u003e\u003c/table\u003e\n\n\u003cdiv\u003e\n\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e  \n  \u003ctr\u003e\n  \u003cth style=\"width: 120px;\"  class=\"nobr\"\u003eтип доставки\u003c/th\u003e\n  \u003ctd class=\"nobr\"\u003e\u003cspan \u003e{{translateDeliveryType(currentOrder.deliveryType)}} \u003c/span\u003e\u003c/td\u003e \n\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv x-ng-show=\"currentOrder.orderType=='itemPackage'\"\u003e\n\u003ctable class=\"table8 head-left\" style=\"width: 500px;\"\u003e  \n  \u003ctr\u003e\n  \u003cth style=\"width: 120px;\"  class=\"nobr\" valign=\"top\"\u003eадрес доставки\u003c/th\u003e\n  \u003ctd\u003e\n   \u003cpre  x-ng-bind=\"currentOrder.shippingAddress\"\u003e\u003c/pre\u003e\n  \u003c/td\u003e \n\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"currentOrder.orderType=='itemPackage'\"\u003e\t\n\n\t\u003cdiv x-ng-show=\"no(currentOrder.sendInfo)\"\n\t     class=\"alert alert-info\" style=\"width: 500px;\"\u003e\n\tКогда заказ будет отправлен продавцом,\u003cbr/\u003e\n\tна этом месте будут реквизиты почтового отправления\n\t\u003c/div\u003e\t\t\t\n    \u003ctable x-ng-show=\"!no(currentOrder.sendInfo)\"\n             class=\"table6 head-left\" style=\"width: 600px;\"\u003e       \n\t\t\u003ctr\u003e\u003ctd style=\"width: 200px;\" valign=\"top\"\u003e\u003cb\u003e\n\t\t  реквизиты отправления\u003c/b\u003e\n\t\t\u003c/td\u003e\n\t\t\u003ctd\u003e\t\t\n\t\t  \u003cspan class=\"command\" x-ng-click=\"decryptSendInfoForBuyer($event.target)\"\n\t\t        x-ng-show=\"!currentOrder.sendInfoDecrypted\"\u003eрасшифровать\u003c/span\u003e\t\t  \n\t\t  \u003cpre x-ng-show=\"currentOrder.sendInfoDecrypted\" \n\t\t       x-ng-bind=\"currentOrder.sendInfo\"\u003e\u003c/pre\u003e\n\t\t\u003c/td\u003e\t\n\t\t\u003c/tr\u003e\t\t\n   \u003c/table\u003e\t\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"currentOrder.orderType=='pack_probe' || currentOrder.orderType=='pack'\"\u003e\n\n\n\n  \u003ctable class=\"table6\" style=\"width: 400px;\" x-ng-show=\"!no(currentOrder.pack.mapLink)\"\u003e  \n  \u003ctr\u003e \n  \u003cth valign=\"top\" class=\"nobr\" align=\"left\"\u003eссылка на точку на карте\u003c/th\u003e\n  \u003ctd\u003e\n      \u003ca href=\"{{currentOrder.pack.mapLink}}\" target=\"_blank\" \n         title=\"{{currentOrder.pack.mapLink}}\"\u003eпоказать на карте\u003c/a\u003e        \n  \u003c/td\u003e                \n\u003c/tr\u003e\u003c/table\u003e  \n   \n   \n   \n   \u003cdiv x-ng-show=\"!currentOrder.checked\" class=\"loading\"\u003e \u003c/div\u003e\n   \u003cdiv x-ng-show=\"currentOrder.checked===true\"\u003e\n\n\t\u003ctable class=\"table6 head-left\" style=\"width: 400px; margin-top: 12px;\"\u003e\n\t\u003ctr\u003e\n\t\u003cth style=\"width: 100px;\"\u003eрайон\u003c/th\u003e\n\t\u003ctd\u003e\u003cspan x-ng-bind=\"currentOrder.pack.district\" \u003e\u003c/span\u003e\u003c/td\u003e\n\t\u003c/tr\u003e\u003c/table\u003e\n\t\n\t\n\t\u003cdiv  x-ng-show=\"currentOrder.pack.state=='ordered'\"\n\t     class=\"alert alert-info\" style=\"width: 500px;\"\u003e\n\tКогда получение оплаты будет подтверждено продавцом,\u003cbr/\u003e\n\tна этом месте будет описание закладки и фото\n\t\u003c/div\u003e\n\t\n\t\u003ctable x-ng-show=\"currentOrder.pack.state=='issued'||currentOrder.pack.state=='found'\n\t||currentOrder.pack.state=='disput'\n\t||currentOrder.pack.state=='not_found'||currentOrder.pack.state=='archived'||currentOrder.pack.state=='stollen'\"\n\t class=\"table6 head-left\" style=\"width: 500px; margin-top: 12px;\"\u003e\n\t\u003ctr\u003e\n\t\u003cth\u003eописание\u003c/th\u003e\u003ctd\u003e\n\t\u003cpre  style=\"width:400px; white-space: pre-wrap;\" x-ng-bind=\"u2(u2(currentOrder.pack.description))\"\u003e\u003c/pre\u003e\n\t\u003c/td\u003e\n\t\u003c/tr\u003e\u003c/table\u003e\n\t\n\t\u003ctable  class=\"table6\" style=\"width: 800px;\"\u003e\n\t\u003ctr  x-ng-repeat=\"image in currentOrder.pack.images\"\u003e\n\t\u003ctd\u003e\n\t\u003cimg x-ng-src=\"{{image.base64}}\"/\u003e\n\t\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\u003c/table\u003e\n   \u003c/div\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\t\n\n\n\n\n\n\t\t\t\u003c/div\u003e\n\t\t\u003c/div\u003e\n\t\u003c/div\u003e\n\u003c/div\u003e\t\n\t\t\t\u003c/div\u003e\t\t\t\n\t\t\t\n\t\t    \u003cdiv x-menu-panel=\"catalogue\" style=\"padding-top: 10px;\"\u003e\n\t\t\t\n\n\u003cdiv x-ng-controller=\"catalogueController\"\u003e\n\t\u003cdiv x-ng-show=\"currentPanel=='itemsList'\"\u003e\n\t\n\n\n\u003ctable\u003e\u003ctr\u003e\u003ctd style=\"width: 400px;\"\u003e\n\n\u003ctable\u003e\u003ctr\u003e\n\u003ctd\u003e\u003cinput type=\"button\" class=\"btn btn-info\" value=\"\u0026#8634;\" x-ng-disabled=\"false\"\n       title=\"обновить список товаров\" \n       x-ng-click=\"loadItems($event.target)\" style=\"margin-bottom: 16px;\"/\u003e\n\u003c/td\u003e\n\u003ctd\u003e\n\u003ctable x-ng-show=\"items.length \u003e pageSize\"\nstyle=\"margin-bottom: 12px; margin-left: 22px;\" \u003e\u003ctr\u003e\n\u003ctd align=\"right\" style=\"padding-right: 6px;\"\u003e\u003cnobr\u003e\u003csmall style=\"color: #bbb;\"\u003e\nна странице\u003c/small\u003e\u003c/nobr\u003e\n\u003c/td\u003e\n\u003ctd style=\"width: 50px;\"\u003e\u003csmall\u003e\n\u003cselect style=\"width: 50px; color: #aaa; font-size: 12; border: 0px;\" x-ng-model=\"pageSize\" \nx-ng-options=\"pSize for pSize in pageSizes\"\u003e\u003c/select\u003e\u003c/small\u003e\n\u003c/td\u003e\n\n\u003ctd align=\"right\" style=\"padding-right: 6px; padding-left: 16px;\"\u003e\u003csmall style=\"color: #bbb;\"\u003e\nстраница\u003c/small\u003e\n\u003c/td\u003e\n\u003ctd style=\"width: 50px;\"\u003e\u003csmall\u003e\n\u003cselect style=\"width: 50px; color: #aaa; font-size: 12; border: 0px;\" x-ng-model=\"currentPage\" \nx-ng-options=\"page for page in pages\"\u003e\u003c/select\u003e\u003c/small\u003e\n\u003c/td\u003e\n\u003ctd align=\"right\" style=\"padding-right: 8px; padding-left: 8px;\"\u003e\u003csmall style=\"color: #bbb;\"\u003e\nиз\u0026nbsp;{{pages[pages.length-1]}}\u003c/small\u003e\n\u003c/td\u003e\n\u003c/tr\u003e\u003c/table\u003e\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\n\u003cdiv style=\"margin-top: 6px; margin-left: 0px;\"  x-ng-show=\"isLoadingItems\" style=\"color: #aaa;\"\u003e\n\tЗагрузка списка товаров ...\n\u003c/div\u003e\n\n\u003cspan  x-ng-show=\"!isLoadingItems \u0026\u0026 (!items || items.length == 0)\" style=\"color: #888\"\u003eтоваров нет\u003c/span\u003e\n\n\u003ctable style=\"width: 100%;\"\u003e\u003ctr\u003e\u003ctd\u003e\n\u003cul style=\"display: inline-block; margin: 0; padding: 0; list-style: none;\"\u003e\n\t\u003cli x-ng-repeat=\"item in items track by $index\" \n\t    style=\"display: inline-block; list-style: none;\"\u003e\n\t\n\t\t\u003cdiv class=\"{{itemIsVisibleOnlyForSeller(item) ? 'itemAlert' : 'itemView'}} _catlogueItemDivClass\" \t\t    \n\t\t     style=\"padding: 5px; width: 115px;\" \u003e     \n\t\t\u003ctable class=\"table6\" \u003e\u003ctr\u003e\n\t\t\u003ctd  x-ng-click=\"showItem(item)\" class=\"command\" style=\"width: 85px;\"\u003e     \n\t\t     \u003cimg x-ng-src=\"{{getItemIconUrl(item.id)}}\" style=\"max-width: 80px; max-height: 60px;\" class=\"_catalogueImageClass\"/\u003e     \n\t\t\u003c/td\u003e  \n\t\t\u003c/tr\u003e\u003ctr\u003e\n\t\t\u003ctd\u003e\u003cspan class=\"command\"  x-ng-click=\"showItem(item)\"\u003e{{item.name}}\u003c/span\u003e\u003c/td\u003e\t\t\n\t\t\u003c!-- \u003ctd class=\"nobr\"\u003e฿ {{round8(toBitcoins(item.price, item.currency))}}\u003c/td\u003e --\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\u003ctd\u003e\n             \u003csmall x-ng-show=\"item.deliveryType=='international'\" style=\"color: #999; cursor: help;\" title=\"Доставка почтой по всем странам\"\u003eWorldWide\u003c/small\u003e\n\t\t\t \u003csmall x-ng-show=\"item.deliveryType=='local'\" style=\"color: #999; cursor: help;\" title=\"Доставка почтой по стране {{item.country}}\"\u003e{{item.country}}\u003c/small\u003e\n\t\t\t \u003csmall x-ng-show=\"item.deliveryType=='pack'\" style=\"color: #999; cursor: help;\" title=\"Доставка закладкой по городу {{item.country}}/{{item.region}}/{{item.city}}\"\u003e{{item.city}}\u003c/small\u003e\n\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003c/table\u003e\n\t\t\u003c/div\u003e\n\t\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n           \u003c!-- requests 222 --\u003e\n\u003cbr/\u003e\n\n\n\t\u003c/div\u003e\n\t\u003cdiv x-ng-show=\"currentPanel=='itemDetails'\" class=\"_itemDetailsDivClass\"\u003e\n\t\u003cscript type=\"text/ng-template\"  id=\"currentItemImageRenderer.html\"\u003e\n\u003cimg x-ng-src=\"{{image.base64}}\"/\u003e\u003c/script\u003e\n\n\n\u003ctable x-ng-show=\"!buyerNoMatch \u0026\u0026 !showAgreements\"\nclass=\"table6\" style=\"width: 360px; margin-left: 100px;\"\u003e\u003ctr\u003e\n\u003ctd style=\"width: 140px;\"\u003e\n\n\u003ctable x-ng-show=\"itemLoadings['i'+currentItem.id] == true\"\u003e\n\u003ctr\u003e\u003ctd\u003e\u003cdiv style=\"width: 25px;\" class=\"loading\"\u003e\u003c/div\u003e\u003c/td\u003e\u003ctd class=\"nobr\" style=\"color: #777\"\u003e\n\u003csmall\u003e\u0026nbsp;\u0026nbsp;loading ...\u003c/small\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/td\u003e\n\u003ctd  style=\"width: 40px;\" valign=\"top\"\u003e\n\u003cinput x-ng-show=\"itemLoadings['i'+currentItem.id] == false\"\n       type=\"button\" class=\"btn btn-info\" value=\"\u0026#8634;\" x-ng-disabled=\"false\"\n       title=\"обновить товар\" x-ng-click=\"refreshCurrentItem($event.target)\"/\u003e\n\u003c/td\u003e\u003ctd valign=\"top\"\u003e\n\n\u003cspan class=\"command nobr\" x-ng-click=\"currentPanel='itemsList'\"\u003e\nвернуться в каталог\n\u003c/span\u003e\n\n\u003cbr/\u003e\n\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e       \n            \n\u003cdiv x-ng-show=\"buyerNoMatch\"\u003e \n\n\u003ch3 style=\"color: indianred;\"\u003eВы не проходите фильтр продавца:\u003c/h3\u003e\n\u003ctable class=\"table6\" style=\"width: 400px;\" \n       x-ng-show=\"buyerFilter.buyerConditions=='auto'\"\u003e\n\t\u003ctr x-ng-show=\"buyerFilter.auto.warrantyNoLessEnabled \u0026\u0026 buyerFilter.auto.warrantyNoLessAmount \u003e toDoubleBitcoins(user.data.myShop.warranty)\" \u003e\n\t\u003ctd\u003eгарантия не менее\u003c/td\u003e\n\t\u003ctd\u003e{{toDoubleBitcoins(buyerFilter.auto.warrantyNoLessAmount)}}\u003c/td\u003e\n\t\u003ctd\u003eBTC\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\u003ctr x-ng-show=\"buyerFilter.auto.ordersCountNoLessEnabled \u0026\u0026 user.data.ordersCount \u003c buyerFilter.auto.ordersCountNoLess\"\u003e\n\t\u003ctd\u003eколичество заказов не менее\u003c/td\u003e\n\t\u003ctd colspan=\"2\"\u003e{{buyerFilter.auto.ordersCountNoLess}}\u003c/td\u003e\n\t\u003c/tr\u003e\t\n\t\n\t\u003ctr x-ng-show=\"buyerFilter.auto.registrationNoLessEnabled\"\u003e\n\t\u003ctd\u003eсрок регистрации не менее\u003c/td\u003e\n\t\u003ctd\u003e{{buyerFilter.auto.registrationNoLess}}\u003c/td\u003e\n\t\u003ctd\u003e{{buyerFilter.auto.registrationNoLessPeriod}}\u003c/td\u003e\n\t\u003c/tr\u003e\n\u003c/table\u003e\n\n\u003cdiv class=\"alert alert-warning\" x-ng-show=\"buyerFilter.buyerConditions=='manual' \u0026\u0026 !afterInvite\"\u003e \nПродавец разрешает доступ только по приглашению!\n\u003c/div\u003e\n\u003cdiv class=\"alert alert-success\" x-ng-show=\"afterInvite\"\u003e \nВаш запрос отправлен продавцу.\n\u003c/div\u003e\n\n\u003cbr/\u003e\t\t\n\t\n\t\u003cinput class=\"btn btn-primary\" type=\"button\" value=\"понятно\" \t       \n\t       x-ng-click=\"buyerNoMatch=false;\"/\u003e\t\t    \n\t          \n\t\u003cinput class=\"btn btn-info\" style=\"margin-left: 24px;\" type=\"button\" \n\t       x-ng-show=\"buyerFilter.buyerConditions=='manual'\" \n\t       value=\"запросить приглашение\" x-ng-click=\"askInvite($event.target)\"/\u003e\t       \n\t      \n\t\u003cinput class=\"btn btn-success\" style=\"margin-left: 24px;\" type=\"button\" \n\t       x-ng-show=\"buyerFilter.auto.warrantyNoLessEnabled \u0026\u0026\t        \n\t             buyerFilter.auto.warrantyNoLessAmount \u003e toDoubleBitcoins(user.data.myShop.warranty)\" \n\t       value=\"пополнить гарантию\" x-ng-click=\"replenishWarranty()\"/\u003e\n\u003c!-- \t        my double warranty {{toDoubleBitcoins(user.data.myShop.warranty)}} --\u003e\n\u003c/div\u003e\n          \n            \n\u003cdiv x-ng-show=\"showAgreements\"\u003e \n\u003ch3\u003eПожалуйста, согласитесь с условиями продавца:\u003c/h3\u003e\n\u003cpre\u003e\n{{currentAgreements}}\n\u003c/pre\u003e\n\n\u003cinput class=\"btn btn-success\" type=\"button\" value=\"да, я соглашаюсь с этими условиями\" \n       x-ng-click=\"agree();\" x-ng-disabled=\"false\"/\u003e\n\n\u003cinput class=\"btn btn-danger\" style=\"margin-left: 24px;\" \n       type=\"button\" value=\"нет, я не могу с этим согласиться\" \n       x-ng-click=\"showAgreements=false;\" x-ng-disabled=\"false\"/\u003e\n\u003c/div\u003e            \n            \n            \n\u003cdiv x-ng-show=\"!itemLoadings['i'+currentItem.id] \u0026\u0026 !showAgreements \u0026\u0026 !buyerNoMatch\"\n     \u003e            \n            \n\u003ctable\u003e\u003ctr\u003e\u003cth x-ng-show=\"itemIsVisibleOnlyForSeller(currentItem)\"\u003e\u003cspan \n\ttitle=\"или ваш магазин не включен или этот товар неактивен\"\n\tstyle=\"color: indianred; cursor: help;\"\u003e\n\tтовар виден только вам!\u003c/span\u003e\n\t\u003c/th\u003e\n\t\u003c/tr\u003e\n\u003c/table\u003e\n\u003ctable style=\"width: 560px;\"\u003e\u003ctr\u003e\n\u003ctd valign=\"top\"\u003e\n\n    \u003cdiv x-ng-repeat=\"image in currentItem.images\"\n         style=\"padding-left: 6px; padding-top: 16px; \"\u003e \n      \u003ca href=\"{{getItemImageUrl(image)}}\" target=\"_blank\"\n            title=\"открыть в полном размере\" \u003e        \n      \u003cimg style=\"max-width: 290px;\" x-ng-src=\"{{getItemImageUrl(image)}}\" class=\"_itemImageClass\"/\u003e\u003c/a\u003e\n    \u003c/div\u003e\n    \n    \u003ctable class=\"table6\" style=\"width: 260px; margin-top: 12px;\"\u003e\n\t\t\u003ctr\u003e\u003ctd colspan=\"2\"\u003e\u003cspan x-ng-bind=\"currentItem.name\"\u003e\u003c/span\u003e\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003ctr\u003e\u003ctd colspan=\"2\"\u003e\u003cpre x-ng-bind=\"currentItem.description\"\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003ctr\u003e\u003ctd\u003e\u003cb\u003eтип доставки\u003c/b\u003e\n\t\t\u003c/td\u003e\u003ctd\u003e{{translateDeliveryType(currentItem)}}\n\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003ctr x-ng-show=\"currentItem.deliveryType=='international'\"\u003e\u003ctd\u003e\u003cb\u003eиз страны\u003c/b\u003e\u003c/td\u003e\n\t\t\u003ctd\u003e{{currentItem.sellerCountry}}\u003c/td\u003e\u003c/tr\u003e\t\n\t\t\u003ctr x-ng-show=\"currentItem.deliveryType=='pack'\"\u003e\u003ctd\u003e\u003cb\u003eгород\u003c/b\u003e\u003c/td\u003e\n\t\t\u003ctd\u003e{{currentItem.city}}\u003c/td\u003e\u003c/tr\u003e\t\t\n\t\t\n\t\t\n\t\u003c/table\u003e\t\n\t\u003ctable  style=\"width: 260px; margin-left: 6px; margin-top: 6px;\"\u003e\n\t\t\u003ctr\u003e\u003ctd class=\"nobr\" title=\"оставлять отзывы могут только покупатели этого товара\" align=\"left\"\u003e\n\t\t\t\u003cb\u003e\u003csmall\u003eотзывы о товаре\u003c/small\u003e\u003c/b\u003e\t\t\n\t        \u003cspan x-ng-show=\"!showSendItemReviewControls\" style=\"margin-top: 12px; margin-left: 18px;\"\n\t\t\t      class=\"command\" x-ng-click=\"showSendItemReviewControls=!showSendItemReviewControls\"\n\t\t\t\u003e\u003csmall\u003eдобавить\u003c/small\u003e\n\t\t\t\u003c/span\u003e\t\n\t\t\t\u003cspan  style=\"margin-top: 12px; margin-left: 18px;\"  class=\"command\" x-ng-show=\"showSendItemReviewControls\"\n\t\t\t      x-ng-click=\"showSendItemReviewControls=false\"\u003e\u003csmall\u003eзакрыть\u003c/small\u003e\u003c/span\u003e\t\n\t\t\u003c/td\u003e\n\t\t\u003ctd style=\"width: 14px;\"\u003e\n\t\t\t\u003cspan class=\"pageArrow\" onclick=\"if(cataloguePanel.currentItem.currentPage \u003e 1){cataloguePanel.currentItem.currentPage--;\n\t\t\tcataloguePanel.update();}\"\u003e\u0026#9664;\u003c/span\u003e\n\t\t\u003c/td\u003e\t\t\n\t\t\u003ctd style=\"width: 20px;\" align=\"center\"\u003e\u003csmall\u003e{{currentItem.currentPage}}\u003c/small\u003e\u003c/td\u003e\n\t\t\u003ctd style=\"width: 14px;\"\u003e\u003cspan class=\"pageArrow\" \n\t\t\tonclick=\"if(cataloguePanel.currentItem.currentPage \u003c cataloguePanel.currentItem.pages[cataloguePanel.currentItem.pages.length-1]){\n\t\t\tcataloguePanel.currentItem.currentPage++;cataloguePanel.update();}\"\u003e\u0026#9654;\u003c/span\u003e\n\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\u003c/table\u003e\n\t\u003cdiv x-ng-show=\"showSendItemReviewControls\"\u003e\t\n\t\t\u003ctable  style=\"width: 260px; margin-left: 0px;\"\u003e\n\t\t\t\u003ctr\u003e\u003ctd align=\"right\" style=\"padding-top: 12px;\"\u003e\n\t\t\t\u003ctextarea maxlength=\"255\" placeholder=\"Максимум - 255 символов!\"\n\t\t\t          x-ng-model=\"currentItem.newReviewText\" style=\"width: 250px; height: 70px;\"\u003e\u003c/textarea\u003e\n\t\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\t\u003ctr\u003e\n\t\t\t\u003ctd valign=\"top\" align=\"right\" style=\"padding-top: 6px;\"\u003e\n\t\t\t\u003cinput x-ng-disabled=\"!currentItem.newReviewText || currentItem.newReviewText==''\"\n\t\t\ttype=\"button\" class=\"btn btn-success btn-large btn-lg\"  \n\t\t\tstyle=\"width: 260px;\"\n\t\t\tvalue=\"send\" x-ng-click=\"sendItemReview($event.target)\"/\u003e\n\t\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003c/table\u003e\u003cbr/\u003e\n\t\t\u003cdiv class=\"alert alert-info\" style=\"width: 240px;\"\u003e\u003cnobr\u003e\n\t\tНе относящиеся к товару отзывы,\u003cbr/\u003e\n\t\t     удаляются администрацией маркета\u003cbr/\u003e \n\t\t     по просьбе владельца магазина.\u003cbr/\u003e\u003cbr/\u003e\n\t\t     Отзывы о работе магазина - пишите\u003cbr/\u003e \n\t\t      \u003cspan class=\"command ng-binding\" style=\"text-decoration: underline;\"\n\t\t     title=\"открыть магазин продавца\" \n\t\t     x-ng-click=\"showShop(currentItem.userNick); shopPanel='reviews'; shopReviewEditor=true;\"\u003eна вкладке продавца.\u003c/span\u003e\n\t\t     \n\t\t\u003c/nobr\u003e\n\t\t\u003c/div\u003e \n\t\u003c/div\u003e\n\t\t\n\t\t\n\t\u003ctable style=\"width: 260px; margin-left: 6px;\"\u003e\n\t\t\u003ctr x-ng-show=\"isItemReviewOnCurrentPage($index)\"\n\t\t    x-ng-repeat=\"review in currentItem.reviews track by $index | orderBy:reviewPredicate:reviewReverse\"\u003e\n\t\t\u003ctd\u003e\t\n\t\t\t\u003cdiv class=\"balloon me\" style=\"width: 260px;\"\u003e\n\t\t\t\u003ctable style=\"width: 100%;\"\u003e\u003ctr\u003e\u003ctd\u003e\n\t\t\t  \u003csmall style=\"color: #aaa\" class=\"nobr\"\u003e\n\t\t\t  \u003cspan\u003e{{review.userNick}}\u003c/span\u003e {{review.created| date:'dd-MM-yyyy'}} {{review.created| date:'HH:mm:ss'}}\u003c/small\u003e\n\t\t\t\u003c/td\u003e\u003ctd align=\"right\"\u003e\t\t\n\t\t\t\u003cdiv x-ng-click=\"removeItemReview(review)\" x-ng-show=\"userCanRemoveItemReview(review)\" \n\t\t\t     title=\"remove\" style=\"height: 16px; width: 16px; margin-top: 2px\" class=\"removeButtonSmall\"\u003e\u003c/div\u003e\n\t\t\t\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\t\n\t\t\t\u003cpre style=\"width:260px; white-space: pre-wrap;\"\u003e{{review.message}}\u003c/pre\u003e\n\t\t\t\u003c/div\u003e\n\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\t\n\t\n\n\t\n    \n\u003c/td\u003e\n\n\u003ctd valign=\"top\" style=\"padding-left: 12px;\"\u003e\n\n\t\u003ctable class=\"table6\"\u003e\n\t\u003ctr\u003e\n\t\u003ctd\u003e\u003cb\u003eобъём\u003c/b\u003e\u003c/td\u003e\n\t\u003ctd title=\"единица измерения\" align=\"left\" class=\"nobr\"\u003e\u003cb\u003eед. изм.\u003c/b\u003e\u003c/td\u003e\n\t\u003ctd\u003e\u003cb\u003eцена\u003c/b\u003e\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\u003ctr  x-ng-repeat-start=\"itemPackage in currentItem.packages track by $index\" \n\t     x-ng-show=\"currentItem.deliveryType=='pack' ? itemPackage.packs.length \u003e 0 : true\" \u003e\n\t\u003ctd class=\"nobr border_top2\"\u003e\u003cspan x-ng-bind=\"itemPackage.qty\"style=\"width: 60px;\"\u003e\u003c/span\u003e\u003c/td\u003e\n\t\u003ctd class=\"nobr border_top2\"\u003e\u003cspan x-ng-bind=\"itemPackage.measureUnit\"\u003e\u003c/span\u003e\u003c/td\u003e\n\t\u003ctd class=\"nobr border_top2\"\u003e\u003cspan x-ng-bind=\"itemPackage.priceView\"\u003e\u003c/span\u003e\u003c/td\u003e\t\n\t\u003c/tr\u003e\n\t\u003ctr x-ng-show=\"currentItem.deliveryType=='pack' \u0026\u0026 itemPackage.packs.length \u003e 0\"\u003e\n\t \u003ctd colspan=\"5\"\u003e \n\t   \u003ctable class=\"table6\"\u003e\n\t    \u003ctr  style=\"color: #aaa\"\u003e\u003ctd  class=\"nobr\"\u003eрайон закладки\u003c/td\u003e\u003ctd\u003e\t    \n\t    \u003c/td\u003e\u003c/tr\u003e  \n\t    \u003ctr x-ng-repeat=\"pack in itemPackage.packs track by $index\"\u003e\n\t    \u003ctd\u003e{{pack.district}}\u003c/td\u003e\n\t    \u003ctd align=\"center\"\u003e\n\t    \u003cinput type=\"button\" class=\"btn btn-success\" x-ng-disabled=\"false\"\n\t           x-ng-click=\"buyPack({itemPackage: itemPackage, pack: pack, command: $event.target})\" value=\"{{pack.actionView}}\"/\u003e\n\t    \u003c/td\u003e\n\t    \u003c/tr\u003e\n\t   \u003c/table\u003e\n\t \u003c/td\u003e\n\t\u003c/tr\u003e\n\t\u003ctr x-ng-repeat-end x-ng-show=\"currentItem.deliveryType!='pack'\"\u003e\n\t\u003ctd colspan=\"5\"\u003e\n\t\u003ctable class=\"table6\"\u003e\u003ctr\u003e\n\t\u003ctd class=\"border_top\" title=\"в наличии\"\u003e\u003cb\u003eдоступно\u003c/b\u003e\u003c/td\u003e\n\t\u003ctd class=\"border_top\" x-ng-show=\"currentItem.deliveryType!='pack'\"\u003e\u003cspan x-ng-bind=\"itemPackage.packsCount\"\u003e\u003c/span\u003e\u003c/td\u003e\t\n\t\u003ctd class=\"border_top\" title=\"заказать\" class=\"border_top\"\u003e\u003cb class=\"nobr\"\u003eкол-во\u003c/b\u003e\u003c/td\u003e\n\t\u003ctd class=\"border_top\" style=\"width: 20px;\"\u003e\n\t\u003cinput type=\"text\" x-ng-disabled=\"itemPackage.price == 0\"\n\t       x-ng-model=\"itemPackage.orderedCount\" style=\"width: 40px;\"/\u003e     \n\t\u003c/td\u003e\u003ctd class=\"border_top\" align=\"right\"\u003e\n\t\u003cinput type=\"button\" class=\"btn btn-success\" x-ng-disabled=\"false\"\n\t       x-ng-click=\"buyPackage({itemPackage: itemPackage, command: $event.target})\" value=\"{{itemPackage.actionView}}\"/\u003e\n\t\u003c/td\u003e\n\t\n\t\u003c/tr\u003e\u003c/table\u003e\n\t\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\n\t\n\t\u003c/table\u003e\n\n\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/table\u003e\n\u003c/div\u003e\n\n\n\n\n\n\n\n\n\n\n\t\u003c/div\u003e\n\u003c/div\u003e\n\n\t\t\t\t\n\t\t\t\u003c/div\u003e\t\n\t\t\t\n\t\t\t\u003cdiv x-menu-panel=\"settings\" style=\"padding-top: 10px;\"\u003e\n\t\t\t\n\n\n\u003cdiv x-ng-show=\"!loged\"\u003e\n\t\t\u003cdiv class=\"alert alert-warning nobr\"  x-ng-click=\"selectPanel('mainMenu/entrance')\"\u003e\n\t\t\tЧтобы увидеть настройки - нужно\u0026nbsp;\n\t\t\t\u003cspan class=\"command\"\u003eвойти в систему\u003c/span\u003e\n\t\t\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv x-ng-show=\"loged\"\u003e\n\n\u003cdiv x-ng-controller=\"settingsController\" class=\"_settingsDivClass\"\u003e\n\u003cdiv style=\"margin-left: 22px; margin-top: 12px; margin-bottom: 12px;\" class=\"nobr\"\u003e\n\t\u003ctable class=\"table6\" style=\"width: 400px;\"\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\" style=\"width: 160px;\"\u003e\u003cb\u003eмой id:\u003c/b\u003e\u003c/td\u003e    \n\t\t\t\u003ctd\u003e\u003cspan x-ng-bind=\"user.id\" style=\"margin-left: 12px;\"\u003e\u003c/span\u003e\u003c/td\u003e    \t\t\t\n            \u003ctd\u003e\u003csmall style=\"color: gray\"\u003eвиден только мне\u003c/small\u003e\u003c/td\u003e\n            \u003ctd\u003e\u003c/td\u003e\u003ctd\u003e\u003c/td\u003e\t\n\t    \u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\u003cb\u003eмой логин:\u003c/b\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cspan x-ng-bind=\"user.login\" style=\"margin-left: 12px;\"\u003e\u003c/span\u003e\u003c/td\u003e\n\t\t\t\u003ctd \u003e\u003csmall style=\"color: gray\"\u003eвиден только мне\u003c/small\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003c/td\u003e\u003ctd\u003e\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\u003cb\u003eмой ник:\u003c/b\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cspan x-ng-bind=\"user.nick\" style=\"width: 200px; margin-left: 12px;\"\n\t\t\t\tclass=\"nobr\"\u003e\u003c/span\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003csmall style=\"color: gray\"\u003eвиден всем\u003c/small\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003c/td\u003e\u003ctd\u003e\u003c/td\u003e\t\t\t\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\u003cb\u003eмой JID:\u003c/b\u003e\u003c/td\u003e\n\t\t\t\u003ctd  colspan=\"2\"\u003e\t\t\t\n\t\t\t\u003cinput type=\"text\" x-ng-model=\"user.jid\" style=\"width: 230px; margin-left: 12px;\"\n\t\t\t\tclass=\"nobr\"/\u003e\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\t\t\t\n\t\t\t\u003cinput value=\"сохранить\" x-ng-disabled=\"no(user.jid)\" type=\"button\"\n\t\t\t       x-ng-click=\"saveJid($event.target)\" class=\"btn btn-success\" /\u003e \n\t\t\t\u003c/td\u003e\t\t\t\t\n\t\t\t\u003ctd class=\"nobr\"\u003e\t\t\t\n\t\t\t\u003csmall style=\"color: gray\"\u003eдля заказов через ботов\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\u003cb\u003eмой Telegram nick:\u003c/b\u003e\u003c/td\u003e\n\t\t\t\u003ctd  colspan=\"2\"\u003e\t\t\t\n\t\t\t\u003cinput type=\"text\" x-ng-model=\"user.telegram\" style=\"width: 230px; margin-left: 12px;\"\n\t\t\t\tclass=\"nobr\"/\u003e\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd class=\"nobr\"\u003e\t\t\t\n\t\t\t\u003cinput value=\"сохранить\" x-ng-disabled=\"no(user.telegram)\" type=\"button\"\n\t\t\t       x-ng-click=\"saveTelegram($event.target)\" class=\"btn btn-success\" /\u003e \n\t\t\t\u003c/td\u003e\t\t\t\t\n\t\t\t\u003ctd class=\"nobr\"\u003e\t\t\t\n\t\t\t\u003csmall style=\"color: gray\"\u003eдля заказов через ботов\u003c/small\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\u003c/tr\u003e\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\u003c/table\u003e\t\n\t\u003ctable class=\"table6\" style=\"width: 600px;\"\u003e    \n    \u003ctr\u003e\n    \u003ctd  class=\"nobr\" valign=\"top\"  style=\"width: 160px;\"\u003e\n     \u003cb\u003eпочтовый адрес:\u003c/b\u003e\u003cbr/\u003e\n      \u003cspan class=\"info-small\"\u003eДля доставки почтой.\u003c/span\u003e\n    \u003c/td\u003e\u003ctd\u003e\n    \u003ctextarea x-ng-model=\"shippingAddress\" style=\"width: 300px; height: 70px;\"\u003e\u003c/textarea\u003e\n    \u003c/td\u003e    \n    \u003ctd valign=\"top\"\u003e    \n         \u003cinput class=\"btn btn-success\" type=\"button\" x-ng-disabled=\"true\" \n                x-ng-show=\"shippingAddress==initialShippingAddress\"\n               value=\"сохранить\"/\u003e\n        \u003cinput class=\"btn btn-success\" type=\"button\" x-ng-disabled=\"false\" \n               x-ng-show=\"shippingAddress!=initialShippingAddress\"\n               value=\"сохранить\" x-ng-click=\"saveShippingAddress($event.target)\"/\u003e           \n    \u003c/td\u003e \n    \u003ctd style=\"width: 20px;\" valign=\"top\"\u003e\n       \u003cspan class=\"changed\" title=\"data changed\" x-ng-show=\"shippingAddress!=initialShippingAddress\"\u003e*\u003c/span\u003e\n    \u003c/td\u003e     \n    \u003c/tr\u003e    \n    \u003ctr\u003e\u003ctd colspan=\"4\"\u003e\n    \u003cdiv class=\"alert alert-info nobr\" style=\"width: 690px;\"\u003e\n      На сервере, адрес хранится зашифрованный вашим паролем для входа и нашим серверным паролем.\u003cbr/\u003e\n           Шифрование и расшифровка адреса вашим паролем для входа производится в вашем браузере.\u003cbr/\u003e\n           При оформлении вами заказа - адрес шифруется публичным ключом продавца в вашем браузере.\u003cbr/\u003e\n           При получении заказа продавцом, он расшифровывает его своим приватным ключом в своём браузере.\u003cbr/\u003e\n           Поэтому, никто, кроме вас и продавца, не может увидеть ваш адрес. Даже админ сервиса.\n           \n    \u003c/div\u003e\n    \u003c/td\u003e\u003c/tr\u003e    \n    \u003c/table\u003e\t             \n\u003c/div\u003e\n\n\u003ctable class=\"table8\" style=\"width: 600px;\"\u003e\u003ctr\u003e\n\t\u003ctd class=\"nobr\" colspan=\"2\"\u003e\u003ch3\u003eАдрес BTC для восстановления доступа при утере пароля\u003c/h3\u003e\n\t \u003c/td\u003e\u003c/tr\u003e\n\t\u003ctr\u003e\n\t\u003ctd style=\"width: 350px\" \u003e\n\t \u003cinput type=\"text\" style=\"margin-left: 5px; width: 350px\" x-ng-model=\"recoveryBitcoinAddress\" /\u003e        \n\t\u003c/td\u003e\t\t\n\t\u003ctd align=\"left\"\u003e\n\t\t\u003cinput value=\"сохранить\" x-ng-disabled=\"!isValidBitcoinAddress(recoveryBitcoinAddress)\" type=\"button\"\n\t\t\tx-ng-click=\"saveRecoveryBitcoinAddress($event.target)\" class=\"btn btn-success\" /\u003e   \t\t\n\t\u003c/td\u003e\t\n\t\u003c/tr\u003e\n\t\u003ctr\u003e\u003ctd colspan=\"2\"\u003e\n\t    \u003cdiv x-ng-show=\"!isValidBitcoinAddress(recoveryBitcoinAddress)\" class=\"alert alert-warning\" style=\"width: 500px; height: 60px;\"\u003e\n\t     Если вы не укажете адрес восстановления и забудете пароль от входа,\u003cbr/\u003e\n\t          вы не сможете восстановить доступ к акаунту.\u003cbr/\u003e\t          \n\t           \n\t    \u003c/div\u003e\n\t    \u003cdiv x-ng-show=\"isValidBitcoinAddress(recoveryBitcoinAddress)\" class=\"alert alert-info\" style=\"width: 500px; height: 60px;\"\u003e\n\t      Отправив с этого адреса 0.01 BTC, вы сможете восстановить\u003cbr/\u003e\n\t           доступ к акаунту, если забудете пароль от входа.\u003cbr/\u003e\n\t           Адрес получения будет показан в процессе восстановления.\n\t           \n\t    \u003c/div\u003e\n\t    \n    \u003c/td\u003e\u003c/tr\u003e    \n\t\n\t\n\u003c/table\u003e\n\n\u003ctable\u003e\n\u003ctr\u003e\n\u003ctd\u003e\n\u003ch3\u003eСмена пароля\u003c/h3\u003e\n\t\u003ctable class=\"paddedTable\"\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\" class=\"nobr\"\u003eновый пароль\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput onClick=\"this.select();\" type=\"text\" maxlength=\"22\" style=\"width: 225px;\"\n\t\t\t           x-ng-model=\"password\"/\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput value=\"сгенерировать 22 символьный\" x-ng-disabled=\"false\"\n\t\t\t\ttype=\"button\" x-ng-click=\"generatePassword($event.target)\" class=\"btn btn-primary\"/\u003e\n\t\t\t\t\n\t\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"left\" style=\"padding-left: 100px;\" colspan=\"3\"\u003e\n\t\t\t\u003cinput x-ng-click=\"changePassword($event.target)\"  \n\t\t\t       x-ng-disabled=\"password==''\" x-ng-show=\"step \u003c 5\"\n\t\t\t\t   value=\"сменить пароль\" type=\"button\" class=\"btn btn-success\" /\u003e\n\t\t\t\t  \u003cspan  x-ng-show=\"step \u003e= 5\"\u003eпароль сменён\u003c/span\u003e \n\t\t    \u003c/td\u003e\n\t\t    \n\t\t    \n\t\t\u003c/tr\u003e\t\n\t\u003c/table\u003e\n\u003c/td\u003e\n\u003c/tr\u003e \n \u003c/table\u003e\n \u003c/div\u003e\n \n \n \u003c/div\u003e\t\t  \t\t\t\t\n\t\t\t\u003c/div\u003e\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\n\t\t\t\n\n\u003cstyle\u003e\n#entranceMenu td {\n\twidth: 100px;\n}\n#entranceMenu {\n\tmargin-left: 400px;\n\twidth: 420px;\n}\n\u003c/style\u003e\n\n\u003cdiv x-menu-panel=\"entrance\"\u003e\n  \u003cdiv x-ng-hide=\"loged\"\u003e\n   \u003ctable\u003e\u003ctr\u003e\u003ctd style=\"height: 40px;\"\u003e\n\t\u003cdiv id=\"entranceMenu\" x-menu-bar=\"entranceMenu\" x-menu-class=\"menu2\" x-menu-parent=\"mainMenu/entrance\" class=\"simple-menu\"\u003e\n\t\t\u003ctable\u003e\n\t\t\t\u003ctr\u003e\n\t\t\t\t\u003ctd style=\"padding-left: 20px;\"\u003e\n\t\t\t\t\u003cspan x-menu-item=\"login\" x-menu-onopen=\"p('login onopen')\"\u003eВойти\u003c/span\u003e\t\t\t\t\n\t\t\t\t\u003c/td\u003e\n\t\t\t\t\u003ctd \u003e\n\t\t\t\t\u003cspan x-menu-item=\"registration\" x-menu-onopen=\"registrationPanel.getCaptcha()\"\u003eЗарегистрироваться\u003c/span\u003e\n\t\t\t\t\u003c/td\u003e\n\t\t\t\t\u003ctd style=\"padding-left: 20px;\"\u003e\u003cspan x-menu-item=\"remind\" \u003eВосстановить\u003c/span\u003e\u003c/td\u003e\n\t\t\t\u003c/tr\u003e\n\t\t\u003c/table\u003e\n\t\u003c/div\u003e\n   \u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd valign=\"top\"\u003e\t  \n   \n\t\u003cdiv x-menu-panel=\"remind\" style=\"padding-top: 10px;\"\u003e\n\t\n\n\n\n\u003cdiv class=\"unit-login\" style=\"margin-left: 30%; width: 580px;\" x-ng-controller=\"remindController\"\u003e\t\n\t\t\t\n\t\u003ch3\u003eВосстановление доступа в систему\u003c/h3\u003e\t\t\t\n\t\u003ctable class=\"table8\"  style=\"margin-bottom: 6px;\"\u003e\n\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\"\u003eлогин\u003c/td\u003e\n\t\t\t\u003ctd colspan=\"2\"\u003e\u003cinput id=\"loginInput\" type=\"text\" x-ng-model=\"login\"\n\t\t\t\tonkeypress=\"if(event.keyCode==13){try{ge('recoveryAddressInput').focus();}catch(ignored){}}\"\u003e\u003c/td\u003e\t\t\t\n\t\u003c/tr\u003e\t\n\t\u003ctr\u003e\n\t\u003ctd colspan=\"3\"\u003e\n\t\u003cinput value=\"запросить адрес для платежа подтверждения\" type=\"button\" \n\t       x-ng-disabled=\"login == ''\" x-ng-click=\"askConfirmAddress($event.target)\" class=\"btn btn-warning\" /\u003e\n\t\u003c/td\u003e\t\t\n\t\u003c/tr\u003e\u003ctr title=\"адрес, на который Вам нужно отправить 0.001 BTC\"\u003e\u003ctd align=\"right\"\u003e\n\tАдрес подтверждения    \n\t\u003c/td\u003e\n\t\u003ctd colspan=\"2\"\u003e{{confirmAddress}}\u003c/td\u003e\n\t\u003c/tr\u003e\t\t\n\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\"\u003eновый пароль\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput onclick=\"this.select();\" type=\"text\" maxlength=\"1024\" style=\"width: 220px;\"\n\t\t\t           x-ng-model=\"password\"  x-ng-disabled=\"changingInProgress\" x-ng-readonly=\"changed\"/\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput title=\"22 символьный\" value=\"сгенерировать\"\n\t\t\t\ttype=\"button\"  x-ng-disabled=\"changed\"\n\t\t\t\tx-ng-click=\"generatePassword($event.target)\" class=\"btn btn-primary\"/\u003e\n\t\t\t\t\u003c/td\u003e\n\t\u003c/tr\u003e\n\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\"\u003e\n\t\t\t\u003cinput  x-ng-disabled=\"password==''\"\n\t\t\t\tvalue=\"сохранить пароль в файл\" type=\"button\"\n\t\t\t\tx-ng-click=\"savePasswordToFile(passwordFile)\" class=\"btn btn-primary\" /\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd class=\"nobr\" colspan=\"2\" \u003e\n\t\t\t\t\u003cinput type=\"text\" x-ng-model=\"passwordFile\" /\u003e\t\t\t\n\t\t\t\u003c/td\u003e\n\t\u003c/tr\u003e\t\n\t\n\t\u003ctr\u003e\u003ctd colspan=\"3\" class=\"nobr\"\u003e\n\t\tОтправьте с адреса восстановления, на адрес подтверждения 0.001 BTC,\u003cbr/\u003e\n\t\t     и нажмите кнопку \"подтвердить оплату восстановления доступа\"\u003cbr/\u003e\n\t\t     Прежде чем её нажимать - убедитесь, что перевод прошёл.  \n\t\t\u003c/td\u003e\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\u003ctd colspan=\"3\" style=\"padding-left: 150px;\"\u003e\n\t\t\u003cinput title=\"убедитесь, что транзакция имеет 6 подтверждений\" \n\t\t       value=\"подтвердить оплату восстановления доступа\" type=\"button\" \n\t\t       x-ng-disabled=\"confirmAddress=='' || password=='' || step=='updated'\"\n\t\t\t   x-ng-click=\"confirmSendRecoveryFee($event.target)\" class=\"btn btn-success\" /\u003e\t\t\n\t\t\u003c/td\u003e\u003c/tr\u003e\t\n\t\t\t\t\n\t\u003c/table\u003e\t\t\n\t\n\t\t\u003cdiv x-ng-show=\"password==''\" class=\"alert alert-warning nobr\" \n\t\t     style=\"margin-top: 8px;\"\u003eУстановите новый пароль! \u003cbr/\u003e\n        \u003c/div\u003e   \t\n\t    \u003cdiv class=\"alert alert-info nobr\" style=\"margin-top: 8px;\"\u003e      \n                Адрес восстановления - это тот адрес, который вы указали в своём профиле.  \u003cbr/\u003e\n                Если вы этот адрес не указали, то восстановить доступ будет невозможно.  \u003cbr/\u003e\n        \u003c/div\u003e\n        \u003cdiv x-ng-show=\"step=='updated' \u0026\u0026 error==''\" style=\"margin-top: 8px;\"\u003e       \n\t       \u003cdiv class=\"alert alert-success nobr\" \u003e              \n                Новый пароль установлен.\u003cbr/\u003e\n                \u003cspan x-menu-selector=\"entranceMenu/login\"  class=\"command\"\u003e\n                Переходите на панель \"Войти\"\u003c/span\u003e и заходите.\n           \u003c/div\u003e         \n           \n           \u003cdiv class=\"alert alert-warning nobr\" style=\"margin-top: 8px;\"\u003e                          \n                Убедитесь, что пароль надёжно сохранён (желательно, на флэшке).  \u003cbr/\u003e\n                \u003cbr/\u003e                                \n           \u003c/div\u003e                 \n        \u003c/div\u003e  \n        \n        \u003cdiv x-ng-show=\"error!=''\" style=\"margin-top: 8px;\"\u003e       \n\t       \u003cdiv class=\"alert alert-error nobr\" \u003e              \n                {{error}}\n           \u003c/div\u003e              \n        \u003c/div\u003e    \n        \n        \n        \n        \n        \n\u003c/div\u003e\n\t\u003c/div\u003e\n\t   \n\t\u003cdiv x-menu-panel=\"login\" style=\"padding-top: 10px;\"\u003e\n\t\n\n\u003cstyle\u003e\n#loginTable {\n\tmargin-bottom: 16px;\n\twidth: 350px;\n}\n\n#loginTable td {\n\tpadding: 6px;\n}\n\n.login-button {\n\twidth: 80px;\n}\n\n.unit-login {\n\twidth: 550px;\n\tmargin-left: 400px;\n\tborder-radius: 9px;\n\tpadding: 12px;\n\tpadding-left: 18px;\n\tbackground-color: #eee;\n}\n\u003c/style\u003e\n\n\u003cdiv class=\"unit-login\" x-ng-controller=\"loginController\"\u003e\n\u003cform name=\"loginForm\"\u003e\n\t\u003ctable id=\"loginTable\" class=\"table8\"\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\"\u003eлогин\u003c/td\u003e\n\t\t\t\u003ctd colspan=\"2\"\u003e\u003cinput id=\"loginInput\" name=\"loginInput\" type=\"text\" x-ng-model=\"login\" maxlength=\"15\" autofocus\n\t\t\t\tonkeypress=\"if(event.keyCode==13){try{ge('loginPassword').focus();}catch(ignored){}}\"\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\"\u003eпароль\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput id=\"loginPassword\" type=\"password\" x-ng-model=\"password\"\n\t\t\t\tonkeypress=\n\"if(event.keyCode==13){if(this.value ==''){ge('passwordFileInput').click()}else{loginPanel.password = this.value; loginPanel.logIn(ge('loginButton'));}}\" /\u003e\u003c/td\u003e\n\t\t\t\u003ctd\u003e\u003cinput value=\"log in\" type=\"button\" x-ng-disabled=\"login=='' || password==''\" id=\"loginButton\"\n\t\t\t\tx-ng-click=\"logIn($event.target)\" class=\"btn btn-success\" /\u003e\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\t\n\t\t    \u003ctd align=\"right\" title=\"Загрузить пароль из файла\"\u003e\n\t\t    загрузить\u003cbr/\u003eпароль\u003c/td\u003e\n\t\t\t\u003ctd  colspan=\"2\" \u003e\n\t\t\t \u003cinput value=\"load\" type=\"file\" id=\"passwordFileInput\" class=\"btn btn-primary\" /\u003e\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\t\n\t\t\t\u003ctd  colspan=\"3\" \u003e\n\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\n\t\u003c/table\u003e\n\u003c/form\u003e\t\n\t\t\t\t\u003cdiv class=\"alert alert-error nobr\" x-ng-show=\"loginError!=''\" x-ng-bind=\"loginError\"\u003e\u003c/div\u003e\n\t\t\t\t\u003cdiv class=\"alert alert-info nobr\" x-ng-show=\"loginError=='' \u0026\u0026 login==''\"\u003e\n\t\t\t\t Пожалуйста, введите логин!    \n\t\t\t\t\u003c/div\u003e\t\n\t\t\t\t\u003cdiv class=\"alert alert-info nobr\" x-ng-show=\"loginError=='' \u0026\u0026 login!='' \u0026\u0026 password==''\"\u003e\n\t\t\t\t Пожалуйста, введите пароль или загрузите из файла!    \n\t\t\t\t\u003c/div\u003e\t\n     \n     \u003ctable style=\"display: none;\"\u003e\n     \t\t\u003ctr\u003e\t\t\t\t           \n\t\t    \u003ctd align=\"right\"\u003e\u003cinput type=\"checkbox\" x-ng-model=\"saveLoginLocal\"\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd align=\"left\" colspan=\"2\" style=\"padding-left: 12px;\"\u003e\n\t\t\t\t\u003cspan class=\"command\" x-ng-click=\"saveLoginLocal = !saveLoginLocal\"\n\t\t\t\t title=\"хранилище очищается при отключении этой опции\" class=\"nobr\"\u003e\n\t\t\t            \u003csmall\u003eХранить логин локально\u003c/small\u003e                                     \n\t\t\t\t\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t           \n\t\t    \u003ctd align=\"right\" style=\"padding-left: 24px;\"\u003e\u003cinput type=\"checkbox\" x-ng-model=\"savePasswordLocal\"\u003e\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd align=\"left\" colspan=\"2\" style=\"padding-left: 12px;\"\u003e\n\t\t\t\t\u003cspan class=\"command\" x-ng-click=\"savePasswordLocal = !savePasswordLocal\"\n\t\t\t\t title=\"хранилище очищается при отключении этой опции\" class=\"nobr\"\u003e\n\t\t\t            \u003csmall\u003eХранить пароль локально\u003c/small\u003e                                     \n\t\t\t\t\u003c/span\u003e\n\t\t\t\u003c/td\u003e\t\t\n\t\t\u003c/tr\u003e\n     \u003c/table\u003e\n\n\u003cdiv x-ng-show=\"isOpenChannell\" style=\"margin-top: 16px;\" class=\"alert alert-danger nobr\"\u003e\n\nВНИМАНИЕ!\u003cbr/\u003e\u003cbr\u003e \nВы заходите через незащищённое соединение, из открытого интернета!\u003cbr/\u003e\u003cbr/\u003e\nВсе ваши данные, включая пароли и адреса, могут быть перехвачены\u003cbr/\u003e \nвашим провайдером, любым снифером вайфая, или владельцем прокси!\u003cbr/\u003e\u003cbr/\u003e\n\u003cspan style=\"color: cornflowerblue\"\u003e\nИспользуйте открытое подключение только в информационных целях!\u003c/span\u003e\u003cbr/\u003e\u003cbr/\u003e\n\u003cspan style=\"color: green;\"\u003eДля безопасного и неотслеживаемого соединения\u003cbr/\u003e\n используйте \u003ca href=\"https://www.torproject.org/projects/torbrowser.html\"\u003eтор-браузер\u003c/a\u003e,\u003cbr/\u003e\nи входите на сайт только через наши тор-адреса:\u003cbr/\u003e\u003cbr/\u003e\u003c/span\u003e\n\u003ca href=\"http://{{isShop?(shopSellerNick+'.'):''}}xmarket334dtd4la.onion/ru\"\u003e{{isShop?(shopSellerNick+'.'):''}}xmarket334dtd4la.onion/ru\u003c/a\u003e\n \u003cspan style=\"color: green;\"\u003eили\u003c/span\u003e \n\u003ca href=\"http://{{isShop?(shopSellerNick+'.'):''}}xlvtwpdl2xgnyen6.onion/ru\"\u003e{{isShop?(shopSellerNick+'.'):''}}xlvtwpdl2xgnyen6.onion/ru\u003c/a\u003e\n\u003cbr/\u003e\n\u003c!-- \u003cbr/\u003e\n\u003ca href=\"http://xmarket7sw2fba6b.onion/ru\"\u003exmarket7sw2fba6b.onion/ru\u003c/a\u003e\u003cbr/\u003e --\u003e\n\u003cbr/\u003e\n\u003cspan style=\"color: gray;\"\u003eДля затенения тор-трафика иcпользуйте VPN.\u003c/span\u003e\n\n\n\n\n\n\u003c/div\u003e\n\n\n\n\u003c/div\u003e\n\t\u003c/div\u003e\n\t\n\t\u003cdiv x-menu-panel=\"registration\" style=\"padding-top: 10px;\"\u003e\n    \n\n\u003cstyle\u003e\n#registrationTable {\n\tmargin-bottom: 16px;\n\twidth: 650px;\n}\n#registrationTable td {\n\tpadding: 6px;\n}\n.unit-register {\n\twidth: 650px;\n\tmargin-left: 250px;\n\tborder-radius: 9px;\n\tpadding: 12px;\n\tpadding-left: 18px;\n\tbackground-color: #eee;\n}\n\u003c/style\u003e\n\u003cdiv class=\"unit-register\" x-ng-controller=\"registrationController\"\u003e\n\t\u003ctable id=\"registrationTable\"\u003e\n\t\t\u003ctr\u003e\t\t\n\t\t\t\u003ctd align=\"right\" valign=\"top\" style=\"width: 60px;\"\u003e\u003cdiv style=\"height: 50px;\"\u003eлогин\u003c/div\u003e\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd style=\"width: 160px;\" colspan=\"1\" valign=\"top\"\u003e\n\t\t\t\u003cinput placeholder=\"заполните сначала\"\n\t\t\t       x-ng-disabled=\"registered\"  maxlength=\"16\" id=\"registrationLogin\"\n\t\t\t       placeholder=\"максимум - 16 знаков\"\n\t\t\t       type=\"text\" x-ng-model=\"login\" \t\t\t       \n\t\t\t       onkeypress=\"if(event.keyCode==13){try{ge('registrationNick').focus();}catch(ignored){}}\"\u003e\n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd valign=\"top\"\u003e\n\t\t\t    \u003cdiv  style=\"position: absolute;\"\u003e\n\t\t\t    \u003cdiv style=\"width: 350px;\"  x-ng-show=\"loginAlreadyExists\" \n\t\t\t\t     class=\"alert alert-warning nobr\"\u003eтакой логин уже есть\u003c/div\u003e     \n\t\t\t\t\u003cdiv style=\"width: 350px;\"  x-ng-show=\"!isGoodLogin() \u0026\u0026 !loginAlreadyExists\" class=\"alert alert-warning nobr\"\u003e\n\t\t\t\t         логин должен начинаться с буквы, и может состоять\n\t\t\t\t    \u003cbr/\u003eиз 2-16 букв латинского алфавита, цифр и знака \"-\"\n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003cdiv style=\"width: 350px;\"  x-ng-show=\"isGoodLogin() \u0026\u0026 !loginAlreadyExists\" class=\"alert alert-success nobr\"\u003e\n\t\t\t\t         Логин используется только для входа.\u003cbr/\u003eБезопаснее, использовать разные ник и логин\n\t\t\t\t\u003c/div\u003e\t\t\t\t\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\t\t\t\n\t\t\n\t\t\u003ctr\u003e\t\t\n\t\t\t\u003ctd align=\"right\" valign=\"top\"\u003e\u003cdiv style=\"height: 60px;\"\u003eник\u003c/div\u003e\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd style=\"width: 160px;\" colspan=\"1\" valign=\"top\"\u003e\t\t\n\t\t\t\t\u003cinput title=\"ник может быть только в нижнем регистре (маленькими буквами)\"\n\t\t\t\t       x-ng-disabled=\"registered\"  maxlength=\"15\" \tid=\"registrationNick\"\t\t       \n\t\t\t\t       type=\"text\" x-ng-model=\"nick\" \t\t\t\t\t       \t\t\t            \n\t\t\t\t       onkeypress=\"registrationPanel.nickWasTyped=true; if(event.keyCode==13){try{ge('registrationPassword').focus();}catch(ignored){}}\"/\u003e\n\t\t\t\u003c/td\u003e\t\t\t\t\t\t\n\t\t\t\n\t\t\t\u003ctd valign=\"top\"\u003e\n\t\t\t    \u003cdiv  style=\"position: absolute;\"\u003e\t\t     \t\t     \n\t\t\t\t\u003cdiv style=\"width: 350px;\"  x-ng-show=\"nickAlreadyExists\" \n\t\t\t\t     class=\"alert alert-warning nobr\"\u003eтакой ник уже есть\u003c/div\u003e     \t\t\t\t \n\t\t\t\t\u003cdiv style=\"width: 350px;\"  x-ng-show=\"!isGoodNick() \u0026\u0026 !nickAlreadyExists\" class=\"alert alert-warning nobr\"\u003e\n\t\t\t\t         ник должен начинаться с буквы, и может состоять\n\t\t\t\t    \u003cbr/\u003eиз 2-16 букв латинского алфавита в нижнем регистре,\n\t\t\t\t    \u003cbr/\u003eцифр и знака \"-\"\n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003cdiv style=\"width: 350px;\"  x-ng-show=\"isGoodNick() \u0026\u0026 !nickAlreadyExists\" class=\"alert alert-success nobr\"\u003e\n\t\t\t\t         Ник будет указан в ваших сообщениях и отзывах,\u003cbr/\u003e\n\t\t\t\t         и использован как название для вашего магазина.\n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\t\t\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"right\" valign=\"top\"\u003eпароль\u003c/td\u003e\n\t\t\t\u003ctd valign=\"top\"\u003e\u003cinput onclick=\"this.select();\" type=\"text\" maxlength=\"128\" id=\"registrationPassword\"\n\t\t\t           x-ng-model=\"password\"  \n\t\t\t           x-ng-disabled=\"registrationInProgress\" \n\t\t\t           x-ng-readonly=\"registered\"/\u003e\u003c/td\u003e\n\t\t\t\u003ctd valign=\"top\"\u003e\n\t\t\t    \u003cdiv style=\"width: 350px;\" class=\"alert alert-success nobr\" x-ng-show=\"password.length \u003e= 2 \u0026\u0026 password.length \u003c= 128\"\u003e\n\t\t\t\t         Запишите этот пароль!\t\t\t\t    \n\t\t\t\t\u003c/div\u003e\t\t\t\n\t\t\t    \u003cdiv title=\"больше никаких ограничений\"\n\t\t\t    style=\"width: 350px;\"  class=\"alert alert-warning nobr\" x-ng-show=\"password.length \u003c 2 || password.length \u003e 128\"\u003e\n\t\t\t\t         пароль не длиннее 128 символов и не короче 2\t\t\t\t    \t    \n\t\t\t\t\u003c/div\u003e\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\n\t\t\u003ctr\u003e\n\t\t\u003ctd colspan=\"3\"\u003e\t\t\n\t\t \u003ctable\u003e\n\t\t  \u003ctr\u003e\n\t\t   \u003ctd\u003eкапча\u003c/td\u003e\n\t\t   \u003ctd style=\"width: 202px; height: 60px;\"\u003e\n\t\t    \u003cdiv x-ng-show=\"!captchaLoaded\" title=\"загружается...\" style=\"margin-left: 80px;\" class=\"loading\"\u003e\u003c/div\u003e\n\t\t    \u003cimg x-ng-show=\"captchaLoaded\"  x-ng-src=\"{{captchaBase64}}\" \n\t\t       title=\"введите текст с картинки в поле справа\"   style=\"width: 200px; height: 50px;\"/\u003e\n\t\t   \u003c/td\u003e\n\t\t   \u003ctd class=\"nobr\"\u003e\u003cinput type=\"text\" x-ng-model=\"captchaAnswer\" style=\"width: 88px; margin-left: 0px;\" maxlength=\"6\"/\u003e\t  \t\t\n\t\t      \u003cinput id=\"refreshCaptchaButton\" class=\"btn btn-info\" type=\"button\" x-ng-click=\"getCaptcha($event.target)\" \n\t\t             value=\"↺\" title=\"обновить картинку капчи\"  style=\"margin-left: 12px;\"\u003e\t      \n\t\t   \u003c/td\u003e  \n\t\t   \u003ctd title=\"4-6 символов\" align=\"right\"\u003e\n\t\t    \t\u003cdiv \n\t\t\t    style=\"width: 180px;\"  class=\"alert alert-warning nobr\" \t\t\t    \t\t\t    \n\t\t\t    x-ng-show=\"captchaAnswer.length \u003c 4\"\u003e\n\t\t\t\t        с учётом регистра\t\t\t\t         \t\t    \t    \n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003cdiv \n\t\t\t    style=\"width: 180px;\"  class=\"alert alert-success nobr\" \t\t\t    \t\t\t    \n\t\t\t    x-ng-show=\"captchaAnswer.length \u003e= 4\"\u003e\n\t\t\t\t        с учётом регистра\t\t\t\t         \t\t    \t    \n\t\t\t\t\u003c/div\u003e\t\t    \n\t\t   \u003c/td\u003e \t\t   \n\t\t   \n\t\t  \u003c/tr\u003e\t\n\t\t \u003c/table\u003e\n\t\t\u003c/td\u003e  \n\t\t\u003c/tr\u003e\t\t\n\t\t\u003ctr x-ng-show=\"!isShop\"\u003e\n\t\t\t\u003ctd align=\"left\" colspan=\"3\" style=\"padding-left: 16px;\" class=\"nobr\"\u003e\n\t\t\t \u003clabel\u003e\u003cinput type=\"checkbox\" x-ng-model=\"agree\" style=\"margin-right: 12px;\"\u003e  \n\t\t\t подтверждаю\u003c/label\u003e, что \n\t\t\t \u003cspan x-ng-click=\"selectPanel('mainMenu/home')\" class=\"command\"\u003eправила маркета\u003c/span\u003e мною прочитаны и поняты\n\t\t\t\u003c/td\u003e\n\t\t\u003c/tr\u003e\t\t\t\n\t\t\u003ctr\u003e\n\t\t\t\u003ctd align=\"left\" colspan=\"2\" style=\"padding-left: 16px; padding-top: 12px;\"\u003e\n\t\t\t \u003cinput style=\"width: 234px;\" \n\t\t\t x-ng-disabled=\n\t\t\t \"captchaAnswer == '' || (!agree \u0026\u0026 !isShop) || nick == '' || login == '' || password.length \u003c 2 || registered || registrationInProgress\"\n\t\t\t\tvalue=\"{{ registered ? 'акаунт зарегистрирован' : 'зарегистрировать акаунт'}}\" \n\t\t\t\ttype=\"button\" x-ng-click=\"registerUser($event.target)\" class=\"btn btn-success btn-large\" /\u003e\t\t\t\t\n\t\t\t\u003c/td\u003e\n\t\t\t\u003ctd\u003e\n\t\t    \t\u003cdiv \n\t\t\t    style=\"width: 350px;\"  class=\"alert alert-warning nobr\" \t\t\t    \t\t\t    \n\t\t\t    x-ng-show=\"!agree \u0026\u0026 !isShop\"\u003e\n\t\t\t\t        подтвердите, что вы ознакомились с правилами\t\t\t\t         \t\t    \t    \n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003cdiv \n\t\t\t    style=\"width: 350px;\"  class=\"alert alert-success nobr\" \t\t\t    \t\t\t    \n\t\t\t    x-ng-show=\"!!agree \u0026\u0026 !isShop\"\u003e\n\t\t\t\t        система вам верит\t\t\t\t         \t\t    \t    \n\t\t\t\t\u003c/div\u003e\t\t    \n\t\t   \u003c/td\u003e \n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\u003c/tr\u003e\t\n\t\u003c/table\u003e\t  \n\n    \n    \u003cdiv x-ng-show=\"registered\"\u003e       \n\t       \u003cdiv class=\"alert alert-success nobr\" \u003e              \n                Акаунт зарегистрирован, с ником: \u003cb\u003e{{registrationNick}}\u003c/b\u003e\u003cbr/\u003e\n                \u003cspan x-menu-selector=\"entranceMenu/login\"  class=\"command\"\u003e\n                Переходите на панель \"Войти\"\u003c/span\u003e и заходите.\n           \u003c/div\u003e                \n           \u003cdiv class=\"alert alert-warning nobr\" style=\"margin-top: 12px;\"\u003e              \n                Убедитесь, что пароль надёжно сохранён (желательно, на флэшке).    \n           \u003c/div\u003e                 \n    \u003c/div\u003e  \n\t\n\t\n\u003c/div\u003e\n\n\t\u003c/div\u003e\n\t\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n \u003cdiv x-ng-show=\"loged\" style=\"height: 59px;\"\u003e \n        \n\n\u003cstyle\u003e\n.paddedTable {\n\tmargin-bottom: 16px;\n\twidth: 650px;\n}\n.paddedTable td {\n\tpadding: 6px;\n}\n\u003c/style\u003e\n\n\u003ctable\u003e\n\u003ctr\u003e\u003ctd colspan=\"2\" \u003e\n\u003cinput value=\"Выйти из системы\"\n\t\t\ttype=\"button\" style=\"margin-left: 550px; margin-top: 10px; margin-bottom: 42px; height: 59px;\"\n\t\t\tx-ng-click=\"logOut($event.target)\" class=\"btn btn-large btn-warning\" \n\t\t\tx-ng-disabled=\"false\"/\u003e\n\u003c/td\u003e\u003c/tr\u003e\n\u003c/table\u003e     \n     \n \u003c/div\u003e\n\n\t\n\u003c/div\u003e\n\n\n\t\t\t\t\t      \t\t    \n          \u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003cdiv id=\"footer1\"\u003e\n\t\u003ctable style=\"width: 100%; color: #bbb\"\u003e\n\t\t\u003ctr\u003e\t\n\t\n\t\t\t\u003ctd align=\"left\" style=\"width: 60px;\"\u003e\n\t\t\t\t\u003cp class=\"credit nobr\" style=\"color: #eee;\"\u003e\u003csmall\u003ev.1.2.0\u003c/small\u003e\u003c/p\u003e\n\t\t\t\t\n\t\t\t\u003c/td\u003e\t\t\t\t\t\t\t\t\t\n\t\t\t\u003ctd align=\"right\"  style=\"width: 150px;\"\u003e         \n             \u003cspan class=\"command\" x-ng-click=\"\n             selectPanel('mainMenu/penpal'); \n             penpalPanel.setShopSellerNick();\n             \"\u003eнаписать продавцу\u003c/span\u003e             \n\t\t\t\u003c/td\u003e\t\t\t\n\t\t\t\u003ctd align=\"right\" style=\"width: 200px;\" \u003e\t\t\t    \t    \n\t\t\t\t\u003c!-- \u003cp title=\"powered by X-Market\" onclick=\"window.open('http://xmarket334dtd4la.onion')\"\n\t\t\t\t   class=\"credit nobr\" style=\"margin-left: 42px; color: #eee; cursor: pointer;\"\u003e\n\t\t\t\t  \u003cspan class=\"command\"\u003e X-Market\u003c/span\u003e\n\t\t\t\t   \u003c/p\u003e --\u003e\n\t\t\t\u003c/td\u003e\t\n\t\t\t\n\t\t\t\n            \u003ctd\u003e\u003c/td\u003e \n\t\t\u003c/tr\u003e\n\t\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/body\u003e\n\u003c/html\u003e","pageTitle":"- Shop","responseHeaders":{"ACCEPT-RANGES":"bytes","CACHE-CONTROL":"private, no-store, no-cache, must-revalidate","CONTENT-TYPE":"text/html","DATE":"Tue, 26 Jul 2016 01:21:33 GMT","ETAG":"W/\"502674-1468757850000\"","LAST-MODIFIED":"Sun, 17 Jul 2016 12:17:30 GMT","PRAGMA":"no-cache","SERVER":"Apache-Coyote/1.1","VARY":"Accept-Encoding"},"bitcoinAddresses":null,"sshKey":"","ftpFingerprint":"","ftpBanner":"","smtpFingerprint":"","smtpBanner":""}
